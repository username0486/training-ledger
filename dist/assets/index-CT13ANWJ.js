function ux(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(o,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qc={exports:{}},Oo={},Xc={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function dx(){if(wp)return De;wp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function E(T,z,ie){this.props=T,this.context=z,this.refs=k,this.updater=ie||b}E.prototype.isReactComponent={},E.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},E.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function j(){}j.prototype=E.prototype;function C(T,z,ie){this.props=T,this.context=z,this.refs=k,this.updater=ie||b}var R=C.prototype=new j;R.constructor=C,_(R,E.prototype),R.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,F={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function V(T,z,ie){var G,de={},ke=null,ne=null;if(z!=null)for(G in z.ref!==void 0&&(ne=z.ref),z.key!==void 0&&(ke=""+z.key),z)L.call(z,G)&&!W.hasOwnProperty(G)&&(de[G]=z[G]);var Oe=arguments.length-2;if(Oe===1)de.children=ie;else if(1<Oe){for(var Te=Array(Oe),Be=0;Be<Oe;Be++)Te[Be]=arguments[Be+2];de.children=Te}if(T&&T.defaultProps)for(G in Oe=T.defaultProps,Oe)de[G]===void 0&&(de[G]=Oe[G]);return{$$typeof:t,type:T,key:ke,ref:ne,props:de,_owner:F.current}}function se(T,z){return{$$typeof:t,type:T.type,key:z,ref:T.ref,props:T.props,_owner:T._owner}}function ye(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function fe(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ie){return z[ie]})}var re=/\/+/g;function ve(T,z){return typeof T=="object"&&T!==null&&T.key!=null?fe(""+T.key):z.toString(36)}function _e(T,z,ie,G,de){var ke=typeof T;(ke==="undefined"||ke==="boolean")&&(T=null);var ne=!1;if(T===null)ne=!0;else switch(ke){case"string":case"number":ne=!0;break;case"object":switch(T.$$typeof){case t:case e:ne=!0}}if(ne)return ne=T,de=de(ne),T=G===""?"."+ve(ne,0):G,I(de)?(ie="",T!=null&&(ie=T.replace(re,"$&/")+"/"),_e(de,z,ie,"",function(Be){return Be})):de!=null&&(ye(de)&&(de=se(de,ie+(!de.key||ne&&ne.key===de.key?"":(""+de.key).replace(re,"$&/")+"/")+T)),z.push(de)),1;if(ne=0,G=G===""?".":G+":",I(T))for(var Oe=0;Oe<T.length;Oe++){ke=T[Oe];var Te=G+ve(ke,Oe);ne+=_e(ke,z,ie,Te,de)}else if(Te=w(T),typeof Te=="function")for(T=Te.call(T),Oe=0;!(ke=T.next()).done;)ke=ke.value,Te=G+ve(ke,Oe++),ne+=_e(ke,z,ie,Te,de);else if(ke==="object")throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ne}function Ae(T,z,ie){if(T==null)return T;var G=[],de=0;return _e(T,G,"","",function(ke){return z.call(ie,ke,de++)}),G}function ce(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(ie){(T._status===0||T._status===-1)&&(T._status=1,T._result=ie)},function(ie){(T._status===0||T._status===-1)&&(T._status=2,T._result=ie)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var te={current:null},P={transition:null},D={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:P,ReactCurrentOwner:F};function H(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Ae,forEach:function(T,z,ie){Ae(T,function(){z.apply(this,arguments)},ie)},count:function(T){var z=0;return Ae(T,function(){z++}),z},toArray:function(T){return Ae(T,function(z){return z})||[]},only:function(T){if(!ye(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},De.Component=E,De.Fragment=n,De.Profiler=a,De.PureComponent=C,De.StrictMode=o,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,De.act=H,De.cloneElement=function(T,z,ie){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var G=_({},T.props),de=T.key,ke=T.ref,ne=T._owner;if(z!=null){if(z.ref!==void 0&&(ke=z.ref,ne=F.current),z.key!==void 0&&(de=""+z.key),T.type&&T.type.defaultProps)var Oe=T.type.defaultProps;for(Te in z)L.call(z,Te)&&!W.hasOwnProperty(Te)&&(G[Te]=z[Te]===void 0&&Oe!==void 0?Oe[Te]:z[Te])}var Te=arguments.length-2;if(Te===1)G.children=ie;else if(1<Te){Oe=Array(Te);for(var Be=0;Be<Te;Be++)Oe[Be]=arguments[Be+2];G.children=Oe}return{$$typeof:t,type:T.type,key:de,ref:ke,props:G,_owner:ne}},De.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},De.createElement=V,De.createFactory=function(T){var z=V.bind(null,T);return z.type=T,z},De.createRef=function(){return{current:null}},De.forwardRef=function(T){return{$$typeof:d,render:T}},De.isValidElement=ye,De.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:ce}},De.memo=function(T,z){return{$$typeof:g,type:T,compare:z===void 0?null:z}},De.startTransition=function(T){var z=P.transition;P.transition={};try{T()}finally{P.transition=z}},De.unstable_act=H,De.useCallback=function(T,z){return te.current.useCallback(T,z)},De.useContext=function(T){return te.current.useContext(T)},De.useDebugValue=function(){},De.useDeferredValue=function(T){return te.current.useDeferredValue(T)},De.useEffect=function(T,z){return te.current.useEffect(T,z)},De.useId=function(){return te.current.useId()},De.useImperativeHandle=function(T,z,ie){return te.current.useImperativeHandle(T,z,ie)},De.useInsertionEffect=function(T,z){return te.current.useInsertionEffect(T,z)},De.useLayoutEffect=function(T,z){return te.current.useLayoutEffect(T,z)},De.useMemo=function(T,z){return te.current.useMemo(T,z)},De.useReducer=function(T,z,ie){return te.current.useReducer(T,z,ie)},De.useRef=function(T){return te.current.useRef(T)},De.useState=function(T){return te.current.useState(T)},De.useSyncExternalStore=function(T,z,ie){return te.current.useSyncExternalStore(T,z,ie)},De.useTransition=function(){return te.current.useTransition()},De.version="18.3.1",De}var xp;function od(){return xp||(xp=1,Xc.exports=dx()),Xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function fx(){if(bp)return Oo;bp=1;var t=od(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,g){var y,x={},w=null,b=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(b=p.ref);for(y in p)o.call(p,y)&&!l.hasOwnProperty(y)&&(x[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)x[y]===void 0&&(x[y]=p[y]);return{$$typeof:e,type:d,key:w,ref:b,props:x,_owner:a.current}}return Oo.Fragment=n,Oo.jsx=u,Oo.jsxs=u,Oo}var Sp;function hx(){return Sp||(Sp=1,Qc.exports=fx()),Qc.exports}var h=hx(),_a={},Zc={exports:{}},Ft={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function px(){return _p||(_p=1,(function(t){function e(P,D){var H=P.length;P.push(D);e:for(;0<H;){var T=H-1>>>1,z=P[T];if(0<a(z,D))P[T]=D,P[H]=z,H=T;else break e}}function n(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var D=P[0],H=P.pop();if(H!==D){P[0]=H;e:for(var T=0,z=P.length,ie=z>>>1;T<ie;){var G=2*(T+1)-1,de=P[G],ke=G+1,ne=P[ke];if(0>a(de,H))ke<z&&0>a(ne,de)?(P[T]=ne,P[ke]=H,T=ke):(P[T]=de,P[G]=H,T=G);else if(ke<z&&0>a(ne,H))P[T]=ne,P[ke]=H,T=ke;else break e}}return D}function a(P,D){var H=P.sortIndex-D.sortIndex;return H!==0?H:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var p=[],g=[],y=1,x=null,w=3,b=!1,_=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(P){for(var D=n(g);D!==null;){if(D.callback===null)o(g);else if(D.startTime<=P)o(g),D.sortIndex=D.expirationTime,e(p,D);else break;D=n(g)}}function I(P){if(k=!1,R(P),!_)if(n(p)!==null)_=!0,ce(L);else{var D=n(g);D!==null&&te(I,D.startTime-P)}}function L(P,D){_=!1,k&&(k=!1,j(V),V=-1),b=!0;var H=w;try{for(R(D),x=n(p);x!==null&&(!(x.expirationTime>D)||P&&!fe());){var T=x.callback;if(typeof T=="function"){x.callback=null,w=x.priorityLevel;var z=T(x.expirationTime<=D);D=t.unstable_now(),typeof z=="function"?x.callback=z:x===n(p)&&o(p),R(D)}else o(p);x=n(p)}if(x!==null)var ie=!0;else{var G=n(g);G!==null&&te(I,G.startTime-D),ie=!1}return ie}finally{x=null,w=H,b=!1}}var F=!1,W=null,V=-1,se=5,ye=-1;function fe(){return!(t.unstable_now()-ye<se)}function re(){if(W!==null){var P=t.unstable_now();ye=P;var D=!0;try{D=W(!0,P)}finally{D?ve():(F=!1,W=null)}}else F=!1}var ve;if(typeof C=="function")ve=function(){C(re)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ae=_e.port2;_e.port1.onmessage=re,ve=function(){Ae.postMessage(null)}}else ve=function(){E(re,0)};function ce(P){W=P,F||(F=!0,ve())}function te(P,D){V=E(function(){P(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){_||b||(_=!0,ce(L))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(P){switch(w){case 1:case 2:case 3:var D=3;break;default:D=w}var H=w;w=D;try{return P()}finally{w=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=w;w=P;try{return D()}finally{w=H}},t.unstable_scheduleCallback=function(P,D,H){var T=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?T+H:T):H=T,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=H+z,P={id:y++,callback:D,priorityLevel:P,startTime:H,expirationTime:z,sortIndex:-1},H>T?(P.sortIndex=H,e(g,P),n(p)===null&&P===n(g)&&(k?(j(V),V=-1):k=!0,te(I,H-T))):(P.sortIndex=z,e(p,P),_||b||(_=!0,ce(L))),P},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(P){var D=w;return function(){var H=w;w=D;try{return P.apply(this,arguments)}finally{w=H}}}})(tu)),tu}var kp;function mx(){return kp||(kp=1,eu.exports=px()),eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function gx(){if(Ep)return Ft;Ep=1;var t=od(),e=mx();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(a[r]=s,r=0;r<s.length;r++)o.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function w(r){return p.call(x,r)?!0:p.call(y,r)?!1:g.test(r)?x[r]=!0:(y[r]=!0,!1)}function b(r,s,i,c){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,s,i,c){if(s===null||typeof s>"u"||b(r,s,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,i,c,f,m,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=i,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=v}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];E[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,C);E[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,C);E[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,C);E[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,s,i,c){var f=E.hasOwnProperty(s)?E[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,i,f,c)&&(i=null),c||f===null?w(s)&&(i===null?r.removeAttribute(s):r.setAttribute(s,""+i)):f.mustUseProperty?r[f.propertyName]=i===null?f.type===3?!1:"":i:(s=f.attributeName,c=f.attributeNamespace,i===null?r.removeAttribute(s):(f=f.type,i=f===3||f===4&&i===!0?"":""+i,c?r.setAttributeNS(c,s,i):r.setAttribute(s,i))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),fe=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),P=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var H=Object.assign,T;function z(r){if(T===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+r}var ie=!1;function G(r,s){if(!r||ie)return"";ie=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(r,[],s)}else{try{s.call()}catch(B){c=B}r.call(s.prototype)}else{try{throw Error()}catch(B){c=B}r()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),m=c.stack.split(`
`),v=f.length-1,N=m.length-1;1<=v&&0<=N&&f[v]!==m[N];)N--;for(;1<=v&&0<=N;v--,N--)if(f[v]!==m[N]){if(v!==1||N!==1)do if(v--,N--,0>N||f[v]!==m[N]){var A=`
`+f[v].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=v&&0<=N);break}}}finally{ie=!1,Error.prepareStackTrace=i}return(r=r?r.displayName||r.name:"")?z(r):""}function de(r){switch(r.tag){case 5:return z(r.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return r=G(r.type,!1),r;case 11:return r=G(r.type.render,!1),r;case 1:return r=G(r.type,!0),r;default:return""}}function ke(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case W:return"Fragment";case F:return"Portal";case se:return"Profiler";case V:return"StrictMode";case ve:return"Suspense";case _e:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case fe:return(r.displayName||"Context")+".Consumer";case ye:return(r._context.displayName||"Context")+".Provider";case re:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ae:return s=r.displayName||null,s!==null?s:ke(r.type)||"Memo";case ce:s=r._payload,r=r._init;try{return ke(r(s))}catch{}}return null}function ne(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(s);case 8:return s===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Te(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Be(r){var s=Te(r)?"checked":"value",i=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,m=i.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(r,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function dt(r){r._valueTracker||(r._valueTracker=Be(r))}function wt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return r&&(c=Te(r)?r.checked?"true":"false":r.value),r=c,r!==i?(s.setValue(r),!0):!1}function st(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function kt(r,s){var i=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??r._wrapperState.initialChecked})}function ar(r,s){var i=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;i=Oe(s.value!=null?s.value:i),r._wrapperState={initialChecked:c,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Z(r,s){s=s.checked,s!=null&&R(r,"checked",s,!1)}function ae(r,s){Z(r,s);var i=Oe(s.value),c=s.type;if(i!=null)c==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+i):r.value!==""+i&&(r.value=""+i);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?He(r,s.type,i):s.hasOwnProperty("defaultValue")&&He(r,s.type,Oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ue(r,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,i||s===r.value||(r.value=s),r.defaultValue=s}i=r.name,i!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,i!==""&&(r.name=i)}function He(r,s,i){(s!=="number"||st(r.ownerDocument)!==r)&&(i==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+i&&(r.defaultValue=""+i))}var Le=Array.isArray;function K(r,s,i,c){if(r=r.options,s){s={};for(var f=0;f<i.length;f++)s["$"+i[f]]=!0;for(i=0;i<r.length;i++)f=s.hasOwnProperty("$"+r[i].value),r[i].selected!==f&&(r[i].selected=f),f&&c&&(r[i].defaultSelected=!0)}else{for(i=""+Oe(i),s=null,f=0;f<r.length;f++){if(r[f].value===i){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function le(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Pe(r,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(n(92));if(Le(i)){if(1<i.length)throw Error(n(93));i=i[0]}s=i}s==null&&(s=""),i=s}r._wrapperState={initialValue:Oe(i)}}function Ge(r,s){var i=Oe(s.value),c=Oe(s.defaultValue);i!=null&&(i=""+i,i!==r.value&&(r.value=i),s.defaultValue==null&&r.defaultValue!==i&&(r.defaultValue=i)),c!=null&&(r.defaultValue=""+c)}function It(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function fi(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hs(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?fi(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var qr,hi=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,i,c,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(qr=qr||document.createElement("div"),qr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=qr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Sn(r,s){if(s){var i=r.firstChild;if(i&&i===r.lastChild&&i.nodeType===3){i.nodeValue=s;return}}r.textContent=s}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hl=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(r){hl.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),_n[s]=_n[r]})});function pi(r,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||_n.hasOwnProperty(r)&&_n[r]?(""+s).trim():s+"px"}function qs(r,s){r=r.style;for(var i in s)if(s.hasOwnProperty(i)){var c=i.indexOf("--")===0,f=pi(i,s[i],c);i==="float"&&(i="cssFloat"),c?r.setProperty(i,f):r[i]=f}}var mi=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ks(r,s){if(s){if(mi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function $(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y=null;function q(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var oe=null,be=null,$e=null;function Zt(r){if(r=vo(r)){if(typeof oe!="function")throw Error(n(280));var s=r.stateNode;s&&(s=$i(s),oe(r.stateNode,r.type,s))}}function Gs(r){be?$e?$e.push(r):$e=[r]:be=r}function At(){if(be){var r=be,s=$e;if($e=be=null,Zt(r),s)for(r=0;r<s.length;r++)Zt(s[r])}}function Ys(r,s){return r(s)}function Ud(){}var pl=!1;function Fd(r,s,i){if(pl)return r(s,i);pl=!0;try{return Ys(r,s,i)}finally{pl=!1,(be!==null||$e!==null)&&(Ud(),At())}}function Js(r,s){var i=r.stateNode;if(i===null)return null;var c=$i(i);if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(i&&typeof i!="function")throw Error(n(231,s,typeof i));return i}var ml=!1;if(d)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{ml=!1}function gv(r,s,i,c,f,m,v,N,A){var B=Array.prototype.slice.call(arguments,3);try{s.apply(i,B)}catch(Q){this.onError(Q)}}var Xs=!1,gi=null,yi=!1,gl=null,yv={onError:function(r){Xs=!0,gi=r}};function vv(r,s,i,c,f,m,v,N,A){Xs=!1,gi=null,gv.apply(yv,arguments)}function wv(r,s,i,c,f,m,v,N,A){if(vv.apply(this,arguments),Xs){if(Xs){var B=gi;Xs=!1,gi=null}else throw Error(n(198));yi||(yi=!0,gl=B)}}function kn(r){var s=r,i=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(i=s.return),r=s.return;while(r)}return s.tag===3?i:null}function zd(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Bd(r){if(kn(r)!==r)throw Error(n(188))}function xv(r){var s=r.alternate;if(!s){if(s=kn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var i=r,c=s;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return Bd(f),r;if(m===c)return Bd(f),s;m=m.sibling}throw Error(n(188))}if(i.return!==c.return)i=f,c=m;else{for(var v=!1,N=f.child;N;){if(N===i){v=!0,i=f,c=m;break}if(N===c){v=!0,c=f,i=m;break}N=N.sibling}if(!v){for(N=m.child;N;){if(N===i){v=!0,i=m,c=f;break}if(N===c){v=!0,c=m,i=f;break}N=N.sibling}if(!v)throw Error(n(189))}}if(i.alternate!==c)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?r:s}function Wd(r){return r=xv(r),r!==null?Vd(r):null}function Vd(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Vd(r);if(s!==null)return s;r=r.sibling}return null}var Hd=e.unstable_scheduleCallback,qd=e.unstable_cancelCallback,bv=e.unstable_shouldYield,Sv=e.unstable_requestPaint,at=e.unstable_now,_v=e.unstable_getCurrentPriorityLevel,yl=e.unstable_ImmediatePriority,Kd=e.unstable_UserBlockingPriority,vi=e.unstable_NormalPriority,kv=e.unstable_LowPriority,Gd=e.unstable_IdlePriority,wi=null,br=null;function Ev(r){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(wi,r,void 0,(r.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:jv,Cv=Math.log,Nv=Math.LN2;function jv(r){return r>>>=0,r===0?32:31-(Cv(r)/Nv|0)|0}var xi=64,bi=4194304;function Zs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Si(r,s){var i=r.pendingLanes;if(i===0)return 0;var c=0,f=r.suspendedLanes,m=r.pingedLanes,v=i&268435455;if(v!==0){var N=v&~f;N!==0?c=Zs(N):(m&=v,m!==0&&(c=Zs(m)))}else v=i&~f,v!==0?c=Zs(v):m!==0&&(c=Zs(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,m=s&-s,f>=m||f===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=i&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)i=31-lr(s),f=1<<i,c|=r[i],s&=~f;return c}function Av(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tv(r,s){for(var i=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes;0<m;){var v=31-lr(m),N=1<<v,A=f[v];A===-1?((N&i)===0||(N&c)!==0)&&(f[v]=Av(N,s)):A<=s&&(r.expiredLanes|=N),m&=~N}}function vl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Yd(){var r=xi;return xi<<=1,(xi&4194240)===0&&(xi=64),r}function wl(r){for(var s=[],i=0;31>i;i++)s.push(r);return s}function eo(r,s,i){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-lr(s),r[s]=i}function Rv(r,s){var i=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<i;){var f=31-lr(i),m=1<<f;s[f]=0,c[f]=-1,r[f]=-1,i&=~m}}function xl(r,s){var i=r.entangledLanes|=s;for(r=r.entanglements;i;){var c=31-lr(i),f=1<<c;f&s|r[c]&s&&(r[c]|=s),i&=~f}}var qe=0;function Jd(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Qd,bl,Xd,Zd,ef,Sl=!1,_i=[],Kr=null,Gr=null,Yr=null,to=new Map,ro=new Map,Jr=[],Pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tf(r,s){switch(r){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":to.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(s.pointerId)}}function no(r,s,i,c,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=vo(s),s!==null&&bl(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Ov(r,s,i,c,f){switch(s){case"focusin":return Kr=no(Kr,r,s,i,c,f),!0;case"dragenter":return Gr=no(Gr,r,s,i,c,f),!0;case"mouseover":return Yr=no(Yr,r,s,i,c,f),!0;case"pointerover":var m=f.pointerId;return to.set(m,no(to.get(m)||null,r,s,i,c,f)),!0;case"gotpointercapture":return m=f.pointerId,ro.set(m,no(ro.get(m)||null,r,s,i,c,f)),!0}return!1}function rf(r){var s=En(r.target);if(s!==null){var i=kn(s);if(i!==null){if(s=i.tag,s===13){if(s=zd(i),s!==null){r.blockedOn=s,ef(r.priority,function(){Xd(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){r.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ki(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var i=kl(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(i===null){i=r.nativeEvent;var c=new i.constructor(i.type,i);Y=c,i.target.dispatchEvent(c),Y=null}else return s=vo(i),s!==null&&bl(s),r.blockedOn=i,!1;s.shift()}return!0}function nf(r,s,i){ki(r)&&i.delete(s)}function Iv(){Sl=!1,Kr!==null&&ki(Kr)&&(Kr=null),Gr!==null&&ki(Gr)&&(Gr=null),Yr!==null&&ki(Yr)&&(Yr=null),to.forEach(nf),ro.forEach(nf)}function so(r,s){r.blockedOn===s&&(r.blockedOn=null,Sl||(Sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iv)))}function oo(r){function s(f){return so(f,r)}if(0<_i.length){so(_i[0],r);for(var i=1;i<_i.length;i++){var c=_i[i];c.blockedOn===r&&(c.blockedOn=null)}}for(Kr!==null&&so(Kr,r),Gr!==null&&so(Gr,r),Yr!==null&&so(Yr,r),to.forEach(s),ro.forEach(s),i=0;i<Jr.length;i++)c=Jr[i],c.blockedOn===r&&(c.blockedOn=null);for(;0<Jr.length&&(i=Jr[0],i.blockedOn===null);)rf(i),i.blockedOn===null&&Jr.shift()}var Xn=I.ReactCurrentBatchConfig,Ei=!0;function Mv(r,s,i,c){var f=qe,m=Xn.transition;Xn.transition=null;try{qe=1,_l(r,s,i,c)}finally{qe=f,Xn.transition=m}}function Dv(r,s,i,c){var f=qe,m=Xn.transition;Xn.transition=null;try{qe=4,_l(r,s,i,c)}finally{qe=f,Xn.transition=m}}function _l(r,s,i,c){if(Ei){var f=kl(r,s,i,c);if(f===null)zl(r,s,c,Ci,i),tf(r,c);else if(Ov(f,r,s,i,c))c.stopPropagation();else if(tf(r,c),s&4&&-1<Pv.indexOf(r)){for(;f!==null;){var m=vo(f);if(m!==null&&Qd(m),m=kl(r,s,i,c),m===null&&zl(r,s,c,Ci,i),m===f)break;f=m}f!==null&&c.stopPropagation()}else zl(r,s,c,null,i)}}var Ci=null;function kl(r,s,i,c){if(Ci=null,r=q(c),r=En(r),r!==null)if(s=kn(r),s===null)r=null;else if(i=s.tag,i===13){if(r=zd(s),r!==null)return r;r=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ci=r,null}function sf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_v()){case yl:return 1;case Kd:return 4;case vi:case kv:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var Qr=null,El=null,Ni=null;function of(){if(Ni)return Ni;var r,s=El,i=s.length,c,f="value"in Qr?Qr.value:Qr.textContent,m=f.length;for(r=0;r<i&&s[r]===f[r];r++);var v=i-r;for(c=1;c<=v&&s[i-c]===f[m-c];c++);return Ni=f.slice(r,1<c?1-c:void 0)}function ji(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ai(){return!0}function af(){return!1}function Bt(r){function s(i,c,f,m,v){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(i=r[N],this[N]=i?i(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ai:af,this.isPropagationStopped=af,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),s}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Bt(Zn),io=H({},Zn,{view:0,detail:0}),Lv=Bt(io),Nl,jl,ao,Ti=H({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ao&&(ao&&r.type==="mousemove"?(Nl=r.screenX-ao.screenX,jl=r.screenY-ao.screenY):jl=Nl=0,ao=r),Nl)},movementY:function(r){return"movementY"in r?r.movementY:jl}}),lf=Bt(Ti),$v=H({},Ti,{dataTransfer:0}),Uv=Bt($v),Fv=H({},io,{relatedTarget:0}),Al=Bt(Fv),zv=H({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bv=Bt(zv),Wv=H({},Zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Vv=Bt(Wv),Hv=H({},Zn,{data:0}),cf=Bt(Hv),qv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Gv[r])?!!s[r]:!1}function Tl(){return Yv}var Jv=H({},io,{key:function(r){if(r.key){var s=qv[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ji(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kv[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(r){return r.type==="keypress"?ji(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ji(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qv=Bt(Jv),Xv=H({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=Bt(Xv),Zv=H({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),ew=Bt(Zv),tw=H({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rw=Bt(tw),nw=H({},Ti,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),sw=Bt(nw),ow=[9,13,27,32],Rl=d&&"CompositionEvent"in window,lo=null;d&&"documentMode"in document&&(lo=document.documentMode);var iw=d&&"TextEvent"in window&&!lo,df=d&&(!Rl||lo&&8<lo&&11>=lo),ff=" ",hf=!1;function pf(r,s){switch(r){case"keyup":return ow.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var es=!1;function aw(r,s){switch(r){case"compositionend":return mf(s);case"keypress":return s.which!==32?null:(hf=!0,ff);case"textInput":return r=s.data,r===ff&&hf?null:r;default:return null}}function lw(r,s){if(es)return r==="compositionend"||!Rl&&pf(r,s)?(r=of(),Ni=El=Qr=null,es=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return df&&s.locale!=="ko"?null:s.data;default:return null}}var cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!cw[r.type]:s==="textarea"}function yf(r,s,i,c){Gs(c),s=Mi(s,"onChange"),0<s.length&&(i=new Cl("onChange","change",null,i,c),r.push({event:i,listeners:s}))}var co=null,uo=null;function uw(r){Mf(r,0)}function Ri(r){var s=os(r);if(wt(s))return r}function dw(r,s){if(r==="change")return s}var vf=!1;if(d){var Pl;if(d){var Ol="oninput"in document;if(!Ol){var wf=document.createElement("div");wf.setAttribute("oninput","return;"),Ol=typeof wf.oninput=="function"}Pl=Ol}else Pl=!1;vf=Pl&&(!document.documentMode||9<document.documentMode)}function xf(){co&&(co.detachEvent("onpropertychange",bf),uo=co=null)}function bf(r){if(r.propertyName==="value"&&Ri(uo)){var s=[];yf(s,uo,r,q(r)),Fd(uw,s)}}function fw(r,s,i){r==="focusin"?(xf(),co=s,uo=i,co.attachEvent("onpropertychange",bf)):r==="focusout"&&xf()}function hw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ri(uo)}function pw(r,s){if(r==="click")return Ri(s)}function mw(r,s){if(r==="input"||r==="change")return Ri(s)}function gw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var cr=typeof Object.is=="function"?Object.is:gw;function fo(r,s){if(cr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var i=Object.keys(r),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!p.call(s,f)||!cr(r[f],s[f]))return!1}return!0}function Sf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _f(r,s){var i=Sf(r);r=0;for(var c;i;){if(i.nodeType===3){if(c=r+i.textContent.length,r<=s&&c>=s)return{node:i,offset:s-r};r=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Sf(i)}}function kf(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?kf(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ef(){for(var r=window,s=st();s instanceof r.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)r=s.contentWindow;else break;s=st(r.document)}return s}function Il(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function yw(r){var s=Ef(),i=r.focusedElem,c=r.selectionRange;if(s!==i&&i&&i.ownerDocument&&kf(i.ownerDocument.documentElement,i)){if(c!==null&&Il(i)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(r,i.value.length);else if(r=(s=i.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=i.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!r.extend&&m>c&&(f=c,c=m,m=f),f=_f(i,m);var v=_f(i,c);f&&v&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),m>c?(r.addRange(s),r.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),r.addRange(s)))}}for(s=[],r=i;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)r=s[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var vw=d&&"documentMode"in document&&11>=document.documentMode,ts=null,Ml=null,ho=null,Dl=!1;function Cf(r,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Dl||ts==null||ts!==st(c)||(c=ts,"selectionStart"in c&&Il(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ho&&fo(ho,c)||(ho=c,c=Mi(Ml,"onSelect"),0<c.length&&(s=new Cl("onSelect","select",null,s,i),r.push({event:s,listeners:c}),s.target=ts)))}function Pi(r,s){var i={};return i[r.toLowerCase()]=s.toLowerCase(),i["Webkit"+r]="webkit"+s,i["Moz"+r]="moz"+s,i}var rs={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},Ll={},Nf={};d&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Oi(r){if(Ll[r])return Ll[r];if(!rs[r])return r;var s=rs[r],i;for(i in s)if(s.hasOwnProperty(i)&&i in Nf)return Ll[r]=s[i];return r}var jf=Oi("animationend"),Af=Oi("animationiteration"),Tf=Oi("animationstart"),Rf=Oi("transitionend"),Pf=new Map,Of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(r,s){Pf.set(r,s),l(s,[r])}for(var $l=0;$l<Of.length;$l++){var Ul=Of[$l],ww=Ul.toLowerCase(),xw=Ul[0].toUpperCase()+Ul.slice(1);Xr(ww,"on"+xw)}Xr(jf,"onAnimationEnd"),Xr(Af,"onAnimationIteration"),Xr(Tf,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Rf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function If(r,s,i){var c=r.type||"unknown-event";r.currentTarget=i,wv(c,s,void 0,r),r.currentTarget=null}function Mf(r,s){s=(s&4)!==0;for(var i=0;i<r.length;i++){var c=r[i],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var v=c.length-1;0<=v;v--){var N=c[v],A=N.instance,B=N.currentTarget;if(N=N.listener,A!==m&&f.isPropagationStopped())break e;If(f,N,B),m=A}else for(v=0;v<c.length;v++){if(N=c[v],A=N.instance,B=N.currentTarget,N=N.listener,A!==m&&f.isPropagationStopped())break e;If(f,N,B),m=A}}}if(yi)throw r=gl,yi=!1,gl=null,r}function Qe(r,s){var i=s[Kl];i===void 0&&(i=s[Kl]=new Set);var c=r+"__bubble";i.has(c)||(Df(s,r,2,!1),i.add(c))}function Fl(r,s,i){var c=0;s&&(c|=4),Df(i,r,c,s)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function mo(r){if(!r[Ii]){r[Ii]=!0,o.forEach(function(i){i!=="selectionchange"&&(bw.has(i)||Fl(i,!1,r),Fl(i,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ii]||(s[Ii]=!0,Fl("selectionchange",!1,s))}}function Df(r,s,i,c){switch(sf(s)){case 1:var f=Mv;break;case 4:f=Dv;break;default:f=_l}i=f.bind(null,s,i,r),f=void 0,!ml||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,i,{capture:!0,passive:f}):r.addEventListener(s,i,!0):f!==void 0?r.addEventListener(s,i,{passive:f}):r.addEventListener(s,i,!1)}function zl(r,s,i,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var N=c.stateNode.containerInfo;if(N===f||N.nodeType===8&&N.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var A=v.tag;if((A===3||A===4)&&(A=v.stateNode.containerInfo,A===f||A.nodeType===8&&A.parentNode===f))return;v=v.return}for(;N!==null;){if(v=En(N),v===null)return;if(A=v.tag,A===5||A===6){c=m=v;continue e}N=N.parentNode}}c=c.return}Fd(function(){var B=m,Q=q(i),X=[];e:{var J=Pf.get(r);if(J!==void 0){var ue=Cl,pe=r;switch(r){case"keypress":if(ji(i)===0)break e;case"keydown":case"keyup":ue=Qv;break;case"focusin":pe="focus",ue=Al;break;case"focusout":pe="blur",ue=Al;break;case"beforeblur":case"afterblur":ue=Al;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=ew;break;case jf:case Af:case Tf:ue=Bv;break;case Rf:ue=rw;break;case"scroll":ue=Lv;break;case"wheel":ue=sw;break;case"copy":case"cut":case"paste":ue=Vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=uf}var we=(s&4)!==0,lt=!we&&r==="scroll",M=we?J!==null?J+"Capture":null:J;we=[];for(var O=B,U;O!==null;){U=O;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,M!==null&&(ee=Js(O,M),ee!=null&&we.push(go(O,ee,U)))),lt)break;O=O.return}0<we.length&&(J=new ue(J,pe,null,i,Q),X.push({event:J,listeners:we}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",J&&i!==Y&&(pe=i.relatedTarget||i.fromElement)&&(En(pe)||pe[Pr]))break e;if((ue||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(pe=i.relatedTarget||i.toElement,ue=B,pe=pe?En(pe):null,pe!==null&&(lt=kn(pe),pe!==lt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=B),ue!==pe)){if(we=lf,ee="onMouseLeave",M="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(we=uf,ee="onPointerLeave",M="onPointerEnter",O="pointer"),lt=ue==null?J:os(ue),U=pe==null?J:os(pe),J=new we(ee,O+"leave",ue,i,Q),J.target=lt,J.relatedTarget=U,ee=null,En(Q)===B&&(we=new we(M,O+"enter",pe,i,Q),we.target=U,we.relatedTarget=lt,ee=we),lt=ee,ue&&pe)t:{for(we=ue,M=pe,O=0,U=we;U;U=ns(U))O++;for(U=0,ee=M;ee;ee=ns(ee))U++;for(;0<O-U;)we=ns(we),O--;for(;0<U-O;)M=ns(M),U--;for(;O--;){if(we===M||M!==null&&we===M.alternate)break t;we=ns(we),M=ns(M)}we=null}else we=null;ue!==null&&Lf(X,J,ue,we,!1),pe!==null&&lt!==null&&Lf(X,lt,pe,we,!0)}}e:{if(J=B?os(B):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var xe=dw;else if(gf(J))if(vf)xe=mw;else{xe=hw;var Ee=fw}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(xe=pw);if(xe&&(xe=xe(r,B))){yf(X,xe,i,Q);break e}Ee&&Ee(r,J,B),r==="focusout"&&(Ee=J._wrapperState)&&Ee.controlled&&J.type==="number"&&He(J,"number",J.value)}switch(Ee=B?os(B):window,r){case"focusin":(gf(Ee)||Ee.contentEditable==="true")&&(ts=Ee,Ml=B,ho=null);break;case"focusout":ho=Ml=ts=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,Cf(X,i,Q);break;case"selectionchange":if(vw)break;case"keydown":case"keyup":Cf(X,i,Q)}var Ce;if(Rl)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else es?pf(r,i)&&(Re="onCompositionEnd"):r==="keydown"&&i.keyCode===229&&(Re="onCompositionStart");Re&&(df&&i.locale!=="ko"&&(es||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&es&&(Ce=of()):(Qr=Q,El="value"in Qr?Qr.value:Qr.textContent,es=!0)),Ee=Mi(B,Re),0<Ee.length&&(Re=new cf(Re,r,null,i,Q),X.push({event:Re,listeners:Ee}),Ce?Re.data=Ce:(Ce=mf(i),Ce!==null&&(Re.data=Ce)))),(Ce=iw?aw(r,i):lw(r,i))&&(B=Mi(B,"onBeforeInput"),0<B.length&&(Q=new cf("onBeforeInput","beforeinput",null,i,Q),X.push({event:Q,listeners:B}),Q.data=Ce))}Mf(X,s)})}function go(r,s,i){return{instance:r,listener:s,currentTarget:i}}function Mi(r,s){for(var i=s+"Capture",c=[];r!==null;){var f=r,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=Js(r,i),m!=null&&c.unshift(go(r,m,f)),m=Js(r,s),m!=null&&c.push(go(r,m,f))),r=r.return}return c}function ns(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Lf(r,s,i,c,f){for(var m=s._reactName,v=[];i!==null&&i!==c;){var N=i,A=N.alternate,B=N.stateNode;if(A!==null&&A===c)break;N.tag===5&&B!==null&&(N=B,f?(A=Js(i,m),A!=null&&v.unshift(go(i,A,N))):f||(A=Js(i,m),A!=null&&v.push(go(i,A,N)))),i=i.return}v.length!==0&&r.push({event:s,listeners:v})}var Sw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function $f(r){return(typeof r=="string"?r:""+r).replace(Sw,`
`).replace(_w,"")}function Di(r,s,i){if(s=$f(s),$f(r)!==s&&i)throw Error(n(425))}function Li(){}var Bl=null,Wl=null;function Vl(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(r){return Uf.resolve(null).then(r).catch(Cw)}:Hl;function Cw(r){setTimeout(function(){throw r})}function ql(r,s){var i=s,c=0;do{var f=i.nextSibling;if(r.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(c===0){r.removeChild(f),oo(s);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=f}while(i);oo(s)}function Zr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Ff(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return r;s--}else i==="/$"&&s++}r=r.previousSibling}return null}var ss=Math.random().toString(36).slice(2),Sr="__reactFiber$"+ss,yo="__reactProps$"+ss,Pr="__reactContainer$"+ss,Kl="__reactEvents$"+ss,Nw="__reactListeners$"+ss,jw="__reactHandles$"+ss;function En(r){var s=r[Sr];if(s)return s;for(var i=r.parentNode;i;){if(s=i[Pr]||i[Sr]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(r=Ff(r);r!==null;){if(i=r[Sr])return i;r=Ff(r)}return s}r=i,i=r.parentNode}return null}function vo(r){return r=r[Sr]||r[Pr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function os(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function $i(r){return r[yo]||null}var Gl=[],is=-1;function en(r){return{current:r}}function Xe(r){0>is||(r.current=Gl[is],Gl[is]=null,is--)}function Ye(r,s){is++,Gl[is]=r.current,r.current=s}var tn={},Et=en(tn),Mt=en(!1),Cn=tn;function as(r,s){var i=r.type.contextTypes;if(!i)return tn;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in i)f[m]=s[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Dt(r){return r=r.childContextTypes,r!=null}function Ui(){Xe(Mt),Xe(Et)}function zf(r,s,i){if(Et.current!==tn)throw Error(n(168));Ye(Et,s),Ye(Mt,i)}function Bf(r,s,i){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(n(108,ne(r)||"Unknown",f));return H({},i,c)}function Fi(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||tn,Cn=Et.current,Ye(Et,r),Ye(Mt,Mt.current),!0}function Wf(r,s,i){var c=r.stateNode;if(!c)throw Error(n(169));i?(r=Bf(r,s,Cn),c.__reactInternalMemoizedMergedChildContext=r,Xe(Mt),Xe(Et),Ye(Et,r)):Xe(Mt),Ye(Mt,i)}var Or=null,zi=!1,Yl=!1;function Vf(r){Or===null?Or=[r]:Or.push(r)}function Aw(r){zi=!0,Vf(r)}function rn(){if(!Yl&&Or!==null){Yl=!0;var r=0,s=qe;try{var i=Or;for(qe=1;r<i.length;r++){var c=i[r];do c=c(!0);while(c!==null)}Or=null,zi=!1}catch(f){throw Or!==null&&(Or=Or.slice(r+1)),Hd(yl,rn),f}finally{qe=s,Yl=!1}}return null}var ls=[],cs=0,Bi=null,Wi=0,er=[],tr=0,Nn=null,Ir=1,Mr="";function jn(r,s){ls[cs++]=Wi,ls[cs++]=Bi,Bi=r,Wi=s}function Hf(r,s,i){er[tr++]=Ir,er[tr++]=Mr,er[tr++]=Nn,Nn=r;var c=Ir;r=Mr;var f=32-lr(c)-1;c&=~(1<<f),i+=1;var m=32-lr(s)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Ir=1<<32-lr(s)+f|i<<f|c,Mr=m+r}else Ir=1<<m|i<<f|c,Mr=r}function Jl(r){r.return!==null&&(jn(r,1),Hf(r,1,0))}function Ql(r){for(;r===Bi;)Bi=ls[--cs],ls[cs]=null,Wi=ls[--cs],ls[cs]=null;for(;r===Nn;)Nn=er[--tr],er[tr]=null,Mr=er[--tr],er[tr]=null,Ir=er[--tr],er[tr]=null}var Wt=null,Vt=null,Ze=!1,ur=null;function qf(r,s){var i=or(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=r,s=r.deletions,s===null?(r.deletions=[i],r.flags|=16):s.push(i)}function Kf(r,s){switch(r.tag){case 5:var i=r.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Wt=r,Vt=Zr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Wt=r,Vt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=Nn!==null?{id:Ir,overflow:Mr}:null,r.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=or(18,null,null,0),i.stateNode=s,i.return=r,r.child=i,Wt=r,Vt=null,!0):!1;default:return!1}}function Xl(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Zl(r){if(Ze){var s=Vt;if(s){var i=s;if(!Kf(r,s)){if(Xl(r))throw Error(n(418));s=Zr(i.nextSibling);var c=Wt;s&&Kf(r,s)?qf(c,i):(r.flags=r.flags&-4097|2,Ze=!1,Wt=r)}}else{if(Xl(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ze=!1,Wt=r}}}function Gf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Wt=r}function Vi(r){if(r!==Wt)return!1;if(!Ze)return Gf(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Vl(r.type,r.memoizedProps)),s&&(s=Vt)){if(Xl(r))throw Yf(),Error(n(418));for(;s;)qf(r,s),s=Zr(s.nextSibling)}if(Gf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="/$"){if(s===0){Vt=Zr(r.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}r=r.nextSibling}Vt=null}}else Vt=Wt?Zr(r.stateNode.nextSibling):null;return!0}function Yf(){for(var r=Vt;r;)r=Zr(r.nextSibling)}function us(){Vt=Wt=null,Ze=!1}function ec(r){ur===null?ur=[r]:ur.push(r)}var Tw=I.ReactCurrentBatchConfig;function wo(r,s,i){if(r=i.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var c=i.stateNode}if(!c)throw Error(n(147,r));var f=c,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(v){var N=f.refs;v===null?delete N[m]:N[m]=v},s._stringRef=m,s)}if(typeof r!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,r))}return r}function Hi(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Jf(r){var s=r._init;return s(r._payload)}function Qf(r){function s(M,O){if(r){var U=M.deletions;U===null?(M.deletions=[O],M.flags|=16):U.push(O)}}function i(M,O){if(!r)return null;for(;O!==null;)s(M,O),O=O.sibling;return null}function c(M,O){for(M=new Map;O!==null;)O.key!==null?M.set(O.key,O):M.set(O.index,O),O=O.sibling;return M}function f(M,O){return M=dn(M,O),M.index=0,M.sibling=null,M}function m(M,O,U){return M.index=U,r?(U=M.alternate,U!==null?(U=U.index,U<O?(M.flags|=2,O):U):(M.flags|=2,O)):(M.flags|=1048576,O)}function v(M){return r&&M.alternate===null&&(M.flags|=2),M}function N(M,O,U,ee){return O===null||O.tag!==6?(O=Hc(U,M.mode,ee),O.return=M,O):(O=f(O,U),O.return=M,O)}function A(M,O,U,ee){var xe=U.type;return xe===W?Q(M,O,U.props.children,ee,U.key):O!==null&&(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&Jf(xe)===O.type)?(ee=f(O,U.props),ee.ref=wo(M,O,U),ee.return=M,ee):(ee=ma(U.type,U.key,U.props,null,M.mode,ee),ee.ref=wo(M,O,U),ee.return=M,ee)}function B(M,O,U,ee){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=qc(U,M.mode,ee),O.return=M,O):(O=f(O,U.children||[]),O.return=M,O)}function Q(M,O,U,ee,xe){return O===null||O.tag!==7?(O=Dn(U,M.mode,ee,xe),O.return=M,O):(O=f(O,U),O.return=M,O)}function X(M,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Hc(""+O,M.mode,U),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return U=ma(O.type,O.key,O.props,null,M.mode,U),U.ref=wo(M,null,O),U.return=M,U;case F:return O=qc(O,M.mode,U),O.return=M,O;case ce:var ee=O._init;return X(M,ee(O._payload),U)}if(Le(O)||D(O))return O=Dn(O,M.mode,U,null),O.return=M,O;Hi(M,O)}return null}function J(M,O,U,ee){var xe=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return xe!==null?null:N(M,O,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case L:return U.key===xe?A(M,O,U,ee):null;case F:return U.key===xe?B(M,O,U,ee):null;case ce:return xe=U._init,J(M,O,xe(U._payload),ee)}if(Le(U)||D(U))return xe!==null?null:Q(M,O,U,ee,null);Hi(M,U)}return null}function ue(M,O,U,ee,xe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return M=M.get(U)||null,N(O,M,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return M=M.get(ee.key===null?U:ee.key)||null,A(O,M,ee,xe);case F:return M=M.get(ee.key===null?U:ee.key)||null,B(O,M,ee,xe);case ce:var Ee=ee._init;return ue(M,O,U,Ee(ee._payload),xe)}if(Le(ee)||D(ee))return M=M.get(U)||null,Q(O,M,ee,xe,null);Hi(O,ee)}return null}function pe(M,O,U,ee){for(var xe=null,Ee=null,Ce=O,Re=O=0,vt=null;Ce!==null&&Re<U.length;Re++){Ce.index>Re?(vt=Ce,Ce=null):vt=Ce.sibling;var We=J(M,Ce,U[Re],ee);if(We===null){Ce===null&&(Ce=vt);break}r&&Ce&&We.alternate===null&&s(M,Ce),O=m(We,O,Re),Ee===null?xe=We:Ee.sibling=We,Ee=We,Ce=vt}if(Re===U.length)return i(M,Ce),Ze&&jn(M,Re),xe;if(Ce===null){for(;Re<U.length;Re++)Ce=X(M,U[Re],ee),Ce!==null&&(O=m(Ce,O,Re),Ee===null?xe=Ce:Ee.sibling=Ce,Ee=Ce);return Ze&&jn(M,Re),xe}for(Ce=c(M,Ce);Re<U.length;Re++)vt=ue(Ce,M,Re,U[Re],ee),vt!==null&&(r&&vt.alternate!==null&&Ce.delete(vt.key===null?Re:vt.key),O=m(vt,O,Re),Ee===null?xe=vt:Ee.sibling=vt,Ee=vt);return r&&Ce.forEach(function(fn){return s(M,fn)}),Ze&&jn(M,Re),xe}function we(M,O,U,ee){var xe=D(U);if(typeof xe!="function")throw Error(n(150));if(U=xe.call(U),U==null)throw Error(n(151));for(var Ee=xe=null,Ce=O,Re=O=0,vt=null,We=U.next();Ce!==null&&!We.done;Re++,We=U.next()){Ce.index>Re?(vt=Ce,Ce=null):vt=Ce.sibling;var fn=J(M,Ce,We.value,ee);if(fn===null){Ce===null&&(Ce=vt);break}r&&Ce&&fn.alternate===null&&s(M,Ce),O=m(fn,O,Re),Ee===null?xe=fn:Ee.sibling=fn,Ee=fn,Ce=vt}if(We.done)return i(M,Ce),Ze&&jn(M,Re),xe;if(Ce===null){for(;!We.done;Re++,We=U.next())We=X(M,We.value,ee),We!==null&&(O=m(We,O,Re),Ee===null?xe=We:Ee.sibling=We,Ee=We);return Ze&&jn(M,Re),xe}for(Ce=c(M,Ce);!We.done;Re++,We=U.next())We=ue(Ce,M,Re,We.value,ee),We!==null&&(r&&We.alternate!==null&&Ce.delete(We.key===null?Re:We.key),O=m(We,O,Re),Ee===null?xe=We:Ee.sibling=We,Ee=We);return r&&Ce.forEach(function(cx){return s(M,cx)}),Ze&&jn(M,Re),xe}function lt(M,O,U,ee){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case L:e:{for(var xe=U.key,Ee=O;Ee!==null;){if(Ee.key===xe){if(xe=U.type,xe===W){if(Ee.tag===7){i(M,Ee.sibling),O=f(Ee,U.props.children),O.return=M,M=O;break e}}else if(Ee.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&Jf(xe)===Ee.type){i(M,Ee.sibling),O=f(Ee,U.props),O.ref=wo(M,Ee,U),O.return=M,M=O;break e}i(M,Ee);break}else s(M,Ee);Ee=Ee.sibling}U.type===W?(O=Dn(U.props.children,M.mode,ee,U.key),O.return=M,M=O):(ee=ma(U.type,U.key,U.props,null,M.mode,ee),ee.ref=wo(M,O,U),ee.return=M,M=ee)}return v(M);case F:e:{for(Ee=U.key;O!==null;){if(O.key===Ee)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){i(M,O.sibling),O=f(O,U.children||[]),O.return=M,M=O;break e}else{i(M,O);break}else s(M,O);O=O.sibling}O=qc(U,M.mode,ee),O.return=M,M=O}return v(M);case ce:return Ee=U._init,lt(M,O,Ee(U._payload),ee)}if(Le(U))return pe(M,O,U,ee);if(D(U))return we(M,O,U,ee);Hi(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,O!==null&&O.tag===6?(i(M,O.sibling),O=f(O,U),O.return=M,M=O):(i(M,O),O=Hc(U,M.mode,ee),O.return=M,M=O),v(M)):i(M,O)}return lt}var ds=Qf(!0),Xf=Qf(!1),qi=en(null),Ki=null,fs=null,tc=null;function rc(){tc=fs=Ki=null}function nc(r){var s=qi.current;Xe(qi),r._currentValue=s}function sc(r,s,i){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===i)break;r=r.return}}function hs(r,s){Ki=r,tc=fs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Lt=!0),r.firstContext=null)}function rr(r){var s=r._currentValue;if(tc!==r)if(r={context:r,memoizedValue:s,next:null},fs===null){if(Ki===null)throw Error(n(308));fs=r,Ki.dependencies={lanes:0,firstContext:r}}else fs=fs.next=r;return s}var An=null;function oc(r){An===null?An=[r]:An.push(r)}function Zf(r,s,i,c){var f=s.interleaved;return f===null?(i.next=i,oc(s)):(i.next=f.next,f.next=i),s.interleaved=i,Dr(r,c)}function Dr(r,s){r.lanes|=s;var i=r.alternate;for(i!==null&&(i.lanes|=s),i=r,r=r.return;r!==null;)r.childLanes|=s,i=r.alternate,i!==null&&(i.childLanes|=s),i=r,r=r.return;return i.tag===3?i.stateNode:null}var nn=!1;function ic(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Lr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function sn(r,s,i){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ze&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,Dr(r,i)}return f=c.interleaved,f===null?(s.next=s,oc(c)):(s.next=f.next,f.next=s),c.interleaved=s,Dr(r,i)}function Gi(r,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,i|=c,s.lanes=i,xl(r,i)}}function th(r,s){var i=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?f=m=v:m=m.next=v,i=i.next}while(i!==null);m===null?f=m=s:m=m.next=s}else f=m=s;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=i;return}r=i.lastBaseUpdate,r===null?i.firstBaseUpdate=s:r.next=s,i.lastBaseUpdate=s}function Yi(r,s,i,c){var f=r.updateQueue;nn=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var A=N,B=A.next;A.next=null,v===null?m=B:v.next=B,v=A;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,N=Q.lastBaseUpdate,N!==v&&(N===null?Q.firstBaseUpdate=B:N.next=B,Q.lastBaseUpdate=A))}if(m!==null){var X=f.baseState;v=0,Q=B=A=null,N=m;do{var J=N.lane,ue=N.eventTime;if((c&J)===J){Q!==null&&(Q=Q.next={eventTime:ue,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var pe=r,we=N;switch(J=s,ue=i,we.tag){case 1:if(pe=we.payload,typeof pe=="function"){X=pe.call(ue,X,J);break e}X=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,J=typeof pe=="function"?pe.call(ue,X,J):pe,J==null)break e;X=H({},X,J);break e;case 2:nn=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[N]:J.push(N))}else ue={eventTime:ue,lane:J,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Q===null?(B=Q=ue,A=X):Q=Q.next=ue,v|=J;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;J=N,N=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Q===null&&(A=X),f.baseState=A,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,s=f.shared.interleaved,s!==null){f=s;do v|=f.lane,f=f.next;while(f!==s)}else m===null&&(f.shared.lanes=0);Pn|=v,r.lanes=v,r.memoizedState=X}}function rh(r,s,i){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=i,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var xo={},_r=en(xo),bo=en(xo),So=en(xo);function Tn(r){if(r===xo)throw Error(n(174));return r}function ac(r,s){switch(Ye(So,s),Ye(bo,r),Ye(_r,xo),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Hs(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Hs(s,r)}Xe(_r),Ye(_r,s)}function ps(){Xe(_r),Xe(bo),Xe(So)}function nh(r){Tn(So.current);var s=Tn(_r.current),i=Hs(s,r.type);s!==i&&(Ye(bo,r),Ye(_r,i))}function lc(r){bo.current===r&&(Xe(_r),Xe(bo))}var et=en(0);function Ji(r){for(var s=r;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cc=[];function uc(){for(var r=0;r<cc.length;r++)cc[r]._workInProgressVersionPrimary=null;cc.length=0}var Qi=I.ReactCurrentDispatcher,dc=I.ReactCurrentBatchConfig,Rn=0,tt=null,ft=null,gt=null,Xi=!1,_o=!1,ko=0,Rw=0;function Ct(){throw Error(n(321))}function fc(r,s){if(s===null)return!1;for(var i=0;i<s.length&&i<r.length;i++)if(!cr(r[i],s[i]))return!1;return!0}function hc(r,s,i,c,f,m){if(Rn=m,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qi.current=r===null||r.memoizedState===null?Mw:Dw,r=i(c,f),_o){m=0;do{if(_o=!1,ko=0,25<=m)throw Error(n(301));m+=1,gt=ft=null,s.updateQueue=null,Qi.current=Lw,r=i(c,f)}while(_o)}if(Qi.current=ta,s=ft!==null&&ft.next!==null,Rn=0,gt=ft=tt=null,Xi=!1,s)throw Error(n(300));return r}function pc(){var r=ko!==0;return ko=0,r}function kr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?tt.memoizedState=gt=r:gt=gt.next=r,gt}function nr(){if(ft===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=ft.next;var s=gt===null?tt.memoizedState:gt.next;if(s!==null)gt=s,ft=r;else{if(r===null)throw Error(n(310));ft=r,r={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?tt.memoizedState=gt=r:gt=gt.next=r}return gt}function Eo(r,s){return typeof s=="function"?s(r):s}function mc(r){var s=nr(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=r;var c=ft,f=c.baseQueue,m=i.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}c.baseQueue=f=m,i.pending=null}if(f!==null){m=f.next,c=c.baseState;var N=v=null,A=null,B=m;do{var Q=B.lane;if((Rn&Q)===Q)A!==null&&(A=A.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:r(c,B.action);else{var X={lane:Q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};A===null?(N=A=X,v=c):A=A.next=X,tt.lanes|=Q,Pn|=Q}B=B.next}while(B!==null&&B!==m);A===null?v=c:A.next=N,cr(c,s.memoizedState)||(Lt=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=A,i.lastRenderedState=c}if(r=i.interleaved,r!==null){f=r;do m=f.lane,tt.lanes|=m,Pn|=m,f=f.next;while(f!==r)}else f===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function gc(r){var s=nr(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=r;var c=i.dispatch,f=i.pending,m=s.memoizedState;if(f!==null){i.pending=null;var v=f=f.next;do m=r(m,v.action),v=v.next;while(v!==f);cr(m,s.memoizedState)||(Lt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),i.lastRenderedState=m}return[m,c]}function sh(){}function oh(r,s){var i=tt,c=nr(),f=s(),m=!cr(c.memoizedState,f);if(m&&(c.memoizedState=f,Lt=!0),c=c.queue,yc(lh.bind(null,i,c,r),[r]),c.getSnapshot!==s||m||gt!==null&&gt.memoizedState.tag&1){if(i.flags|=2048,Co(9,ah.bind(null,i,c,f,s),void 0,null),yt===null)throw Error(n(349));(Rn&30)!==0||ih(i,s,f)}return f}function ih(r,s,i){r.flags|=16384,r={getSnapshot:s,value:i},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.stores=[r]):(i=s.stores,i===null?s.stores=[r]:i.push(r))}function ah(r,s,i,c){s.value=i,s.getSnapshot=c,ch(s)&&uh(r)}function lh(r,s,i){return i(function(){ch(s)&&uh(r)})}function ch(r){var s=r.getSnapshot;r=r.value;try{var i=s();return!cr(r,i)}catch{return!0}}function uh(r){var s=Dr(r,1);s!==null&&pr(s,r,1,-1)}function dh(r){var s=kr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:r},s.queue=r,r=r.dispatch=Iw.bind(null,tt,r),[s.memoizedState,r]}function Co(r,s,i,c){return r={tag:r,create:s,destroy:i,deps:c,next:null},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.lastEffect=r.next=r):(i=s.lastEffect,i===null?s.lastEffect=r.next=r:(c=i.next,i.next=r,r.next=c,s.lastEffect=r)),r}function fh(){return nr().memoizedState}function Zi(r,s,i,c){var f=kr();tt.flags|=r,f.memoizedState=Co(1|s,i,void 0,c===void 0?null:c)}function ea(r,s,i,c){var f=nr();c=c===void 0?null:c;var m=void 0;if(ft!==null){var v=ft.memoizedState;if(m=v.destroy,c!==null&&fc(c,v.deps)){f.memoizedState=Co(s,i,m,c);return}}tt.flags|=r,f.memoizedState=Co(1|s,i,m,c)}function hh(r,s){return Zi(8390656,8,r,s)}function yc(r,s){return ea(2048,8,r,s)}function ph(r,s){return ea(4,2,r,s)}function mh(r,s){return ea(4,4,r,s)}function gh(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function yh(r,s,i){return i=i!=null?i.concat([r]):null,ea(4,4,gh.bind(null,s,r),i)}function vc(){}function vh(r,s){var i=nr();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&fc(s,c[1])?c[0]:(i.memoizedState=[r,s],r)}function wh(r,s){var i=nr();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&fc(s,c[1])?c[0]:(r=r(),i.memoizedState=[r,s],r)}function xh(r,s,i){return(Rn&21)===0?(r.baseState&&(r.baseState=!1,Lt=!0),r.memoizedState=i):(cr(i,s)||(i=Yd(),tt.lanes|=i,Pn|=i,r.baseState=!0),s)}function Pw(r,s){var i=qe;qe=i!==0&&4>i?i:4,r(!0);var c=dc.transition;dc.transition={};try{r(!1),s()}finally{qe=i,dc.transition=c}}function bh(){return nr().memoizedState}function Ow(r,s,i){var c=cn(r);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},Sh(r))_h(s,i);else if(i=Zf(r,s,i,c),i!==null){var f=Rt();pr(i,r,c,f),kh(i,s,c)}}function Iw(r,s,i){var c=cn(r),f={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(Sh(r))_h(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,N=m(v,i);if(f.hasEagerState=!0,f.eagerState=N,cr(N,v)){var A=s.interleaved;A===null?(f.next=f,oc(s)):(f.next=A.next,A.next=f),s.interleaved=f;return}}catch{}finally{}i=Zf(r,s,f,c),i!==null&&(f=Rt(),pr(i,r,c,f),kh(i,s,c))}}function Sh(r){var s=r.alternate;return r===tt||s!==null&&s===tt}function _h(r,s){_o=Xi=!0;var i=r.pending;i===null?s.next=s:(s.next=i.next,i.next=s),r.pending=s}function kh(r,s,i){if((i&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,i|=c,s.lanes=i,xl(r,i)}}var ta={readContext:rr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Mw={readContext:rr,useCallback:function(r,s){return kr().memoizedState=[r,s===void 0?null:s],r},useContext:rr,useEffect:hh,useImperativeHandle:function(r,s,i){return i=i!=null?i.concat([r]):null,Zi(4194308,4,gh.bind(null,s,r),i)},useLayoutEffect:function(r,s){return Zi(4194308,4,r,s)},useInsertionEffect:function(r,s){return Zi(4,2,r,s)},useMemo:function(r,s){var i=kr();return s=s===void 0?null:s,r=r(),i.memoizedState=[r,s],r},useReducer:function(r,s,i){var c=kr();return s=i!==void 0?i(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=Ow.bind(null,tt,r),[c.memoizedState,r]},useRef:function(r){var s=kr();return r={current:r},s.memoizedState=r},useState:dh,useDebugValue:vc,useDeferredValue:function(r){return kr().memoizedState=r},useTransition:function(){var r=dh(!1),s=r[0];return r=Pw.bind(null,r[1]),kr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,i){var c=tt,f=kr();if(Ze){if(i===void 0)throw Error(n(407));i=i()}else{if(i=s(),yt===null)throw Error(n(349));(Rn&30)!==0||ih(c,s,i)}f.memoizedState=i;var m={value:i,getSnapshot:s};return f.queue=m,hh(lh.bind(null,c,m,r),[r]),c.flags|=2048,Co(9,ah.bind(null,c,m,i,s),void 0,null),i},useId:function(){var r=kr(),s=yt.identifierPrefix;if(Ze){var i=Mr,c=Ir;i=(c&~(1<<32-lr(c)-1)).toString(32)+i,s=":"+s+"R"+i,i=ko++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Rw++,s=":"+s+"r"+i.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Dw={readContext:rr,useCallback:vh,useContext:rr,useEffect:yc,useImperativeHandle:yh,useInsertionEffect:ph,useLayoutEffect:mh,useMemo:wh,useReducer:mc,useRef:fh,useState:function(){return mc(Eo)},useDebugValue:vc,useDeferredValue:function(r){var s=nr();return xh(s,ft.memoizedState,r)},useTransition:function(){var r=mc(Eo)[0],s=nr().memoizedState;return[r,s]},useMutableSource:sh,useSyncExternalStore:oh,useId:bh,unstable_isNewReconciler:!1},Lw={readContext:rr,useCallback:vh,useContext:rr,useEffect:yc,useImperativeHandle:yh,useInsertionEffect:ph,useLayoutEffect:mh,useMemo:wh,useReducer:gc,useRef:fh,useState:function(){return gc(Eo)},useDebugValue:vc,useDeferredValue:function(r){var s=nr();return ft===null?s.memoizedState=r:xh(s,ft.memoizedState,r)},useTransition:function(){var r=gc(Eo)[0],s=nr().memoizedState;return[r,s]},useMutableSource:sh,useSyncExternalStore:oh,useId:bh,unstable_isNewReconciler:!1};function dr(r,s){if(r&&r.defaultProps){s=H({},s),r=r.defaultProps;for(var i in r)s[i]===void 0&&(s[i]=r[i]);return s}return s}function wc(r,s,i,c){s=r.memoizedState,i=i(c,s),i=i==null?s:H({},s,i),r.memoizedState=i,r.lanes===0&&(r.updateQueue.baseState=i)}var ra={isMounted:function(r){return(r=r._reactInternals)?kn(r)===r:!1},enqueueSetState:function(r,s,i){r=r._reactInternals;var c=Rt(),f=cn(r),m=Lr(c,f);m.payload=s,i!=null&&(m.callback=i),s=sn(r,m,f),s!==null&&(pr(s,r,f,c),Gi(s,r,f))},enqueueReplaceState:function(r,s,i){r=r._reactInternals;var c=Rt(),f=cn(r),m=Lr(c,f);m.tag=1,m.payload=s,i!=null&&(m.callback=i),s=sn(r,m,f),s!==null&&(pr(s,r,f,c),Gi(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var i=Rt(),c=cn(r),f=Lr(i,c);f.tag=2,s!=null&&(f.callback=s),s=sn(r,f,c),s!==null&&(pr(s,r,c,i),Gi(s,r,c))}};function Eh(r,s,i,c,f,m,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,v):s.prototype&&s.prototype.isPureReactComponent?!fo(i,c)||!fo(f,m):!0}function Ch(r,s,i){var c=!1,f=tn,m=s.contextType;return typeof m=="object"&&m!==null?m=rr(m):(f=Dt(s)?Cn:Et.current,c=s.contextTypes,m=(c=c!=null)?as(r,f):tn),s=new s(i,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ra,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=m),s}function Nh(r,s,i,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==r&&ra.enqueueReplaceState(s,s.state,null)}function xc(r,s,i,c){var f=r.stateNode;f.props=i,f.state=r.memoizedState,f.refs={},ic(r);var m=s.contextType;typeof m=="object"&&m!==null?f.context=rr(m):(m=Dt(s)?Cn:Et.current,f.context=as(r,m)),f.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(wc(r,s,m,i),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&ra.enqueueReplaceState(f,f.state,null),Yi(r,i,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ms(r,s){try{var i="",c=s;do i+=de(c),c=c.return;while(c);var f=i}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:f,digest:null}}function bc(r,s,i){return{value:r,source:null,stack:i??null,digest:s??null}}function Sc(r,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var $w=typeof WeakMap=="function"?WeakMap:Map;function jh(r,s,i){i=Lr(-1,i),i.tag=3,i.payload={element:null};var c=s.value;return i.callback=function(){ca||(ca=!0,Lc=c),Sc(r,s)},i}function Ah(r,s,i){i=Lr(-1,i),i.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;i.payload=function(){return c(f)},i.callback=function(){Sc(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){Sc(r,s),typeof c!="function"&&(an===null?an=new Set([this]):an.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),i}function Th(r,s,i){var c=r.pingCache;if(c===null){c=r.pingCache=new $w;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(i)||(f.add(i),r=Xw.bind(null,r,s,i),s.then(r,r))}function Rh(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ph(r,s,i,c,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=Lr(-1,1),s.tag=2,sn(i,s,1))),i.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Uw=I.ReactCurrentOwner,Lt=!1;function Tt(r,s,i,c){s.child=r===null?Xf(s,null,i,c):ds(s,r.child,i,c)}function Oh(r,s,i,c,f){i=i.render;var m=s.ref;return hs(s,f),c=hc(r,s,i,c,m,f),i=pc(),r!==null&&!Lt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,$r(r,s,f)):(Ze&&i&&Jl(s),s.flags|=1,Tt(r,s,c,f),s.child)}function Ih(r,s,i,c,f){if(r===null){var m=i.type;return typeof m=="function"&&!Vc(m)&&m.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=m,Mh(r,s,m,c,f)):(r=ma(i.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&f)===0){var v=m.memoizedProps;if(i=i.compare,i=i!==null?i:fo,i(v,c)&&r.ref===s.ref)return $r(r,s,f)}return s.flags|=1,r=dn(m,c),r.ref=s.ref,r.return=s,s.child=r}function Mh(r,s,i,c,f){if(r!==null){var m=r.memoizedProps;if(fo(m,c)&&r.ref===s.ref)if(Lt=!1,s.pendingProps=c=m,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Lt=!0);else return s.lanes=r.lanes,$r(r,s,f)}return _c(r,s,i,c,f)}function Dh(r,s,i){var c=s.pendingProps,f=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ys,Ht),Ht|=i;else{if((i&1073741824)===0)return r=m!==null?m.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(ys,Ht),Ht|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:i,Ye(ys,Ht),Ht|=c}else m!==null?(c=m.baseLanes|i,s.memoizedState=null):c=i,Ye(ys,Ht),Ht|=c;return Tt(r,s,f,i),s.child}function Lh(r,s){var i=s.ref;(r===null&&i!==null||r!==null&&r.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function _c(r,s,i,c,f){var m=Dt(i)?Cn:Et.current;return m=as(s,m),hs(s,f),i=hc(r,s,i,c,m,f),c=pc(),r!==null&&!Lt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,$r(r,s,f)):(Ze&&c&&Jl(s),s.flags|=1,Tt(r,s,i,f),s.child)}function $h(r,s,i,c,f){if(Dt(i)){var m=!0;Fi(s)}else m=!1;if(hs(s,f),s.stateNode===null)sa(r,s),Ch(s,i,c),xc(s,i,c,f),c=!0;else if(r===null){var v=s.stateNode,N=s.memoizedProps;v.props=N;var A=v.context,B=i.contextType;typeof B=="object"&&B!==null?B=rr(B):(B=Dt(i)?Cn:Et.current,B=as(s,B));var Q=i.getDerivedStateFromProps,X=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function";X||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==c||A!==B)&&Nh(s,v,c,B),nn=!1;var J=s.memoizedState;v.state=J,Yi(s,c,v,f),A=s.memoizedState,N!==c||J!==A||Mt.current||nn?(typeof Q=="function"&&(wc(s,i,Q,c),A=s.memoizedState),(N=nn||Eh(s,i,N,c,J,A,B))?(X||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=A),v.props=c,v.state=A,v.context=B,c=N):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,eh(r,s),N=s.memoizedProps,B=s.type===s.elementType?N:dr(s.type,N),v.props=B,X=s.pendingProps,J=v.context,A=i.contextType,typeof A=="object"&&A!==null?A=rr(A):(A=Dt(i)?Cn:Et.current,A=as(s,A));var ue=i.getDerivedStateFromProps;(Q=typeof ue=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==X||J!==A)&&Nh(s,v,c,A),nn=!1,J=s.memoizedState,v.state=J,Yi(s,c,v,f);var pe=s.memoizedState;N!==X||J!==pe||Mt.current||nn?(typeof ue=="function"&&(wc(s,i,ue,c),pe=s.memoizedState),(B=nn||Eh(s,i,B,c,J,pe,A)||!1)?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,pe,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,pe,A)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=pe),v.props=c,v.state=pe,v.context=A,c=B):(typeof v.componentDidUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return kc(r,s,i,c,m,f)}function kc(r,s,i,c,f,m){Lh(r,s);var v=(s.flags&128)!==0;if(!c&&!v)return f&&Wf(s,i,!1),$r(r,s,m);c=s.stateNode,Uw.current=s;var N=v&&typeof i.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&v?(s.child=ds(s,r.child,null,m),s.child=ds(s,null,N,m)):Tt(r,s,N,m),s.memoizedState=c.state,f&&Wf(s,i,!0),s.child}function Uh(r){var s=r.stateNode;s.pendingContext?zf(r,s.pendingContext,s.pendingContext!==s.context):s.context&&zf(r,s.context,!1),ac(r,s.containerInfo)}function Fh(r,s,i,c,f){return us(),ec(f),s.flags|=256,Tt(r,s,i,c),s.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function Cc(r){return{baseLanes:r,cachePool:null,transitions:null}}function zh(r,s,i){var c=s.pendingProps,f=et.current,m=!1,v=(s.flags&128)!==0,N;if((N=v)||(N=r!==null&&r.memoizedState===null?!1:(f&2)!==0),N?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ye(et,f&1),r===null)return Zl(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=c.children,r=c.fallback,m?(c=s.mode,m=s.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=ga(v,c,0,null),r=Dn(r,c,i,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=Cc(i),s.memoizedState=Ec,r):Nc(s,v));if(f=r.memoizedState,f!==null&&(N=f.dehydrated,N!==null))return Fw(r,s,v,c,N,f,i);if(m){m=c.fallback,v=s.mode,f=r.child,N=f.sibling;var A={mode:"hidden",children:c.children};return(v&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=A,s.deletions=null):(c=dn(f,A),c.subtreeFlags=f.subtreeFlags&14680064),N!==null?m=dn(N,m):(m=Dn(m,v,i,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,v=r.child.memoizedState,v=v===null?Cc(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=r.childLanes&~i,s.memoizedState=Ec,c}return m=r.child,r=m.sibling,c=dn(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=i),c.return=s,c.sibling=null,r!==null&&(i=s.deletions,i===null?(s.deletions=[r],s.flags|=16):i.push(r)),s.child=c,s.memoizedState=null,c}function Nc(r,s){return s=ga({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function na(r,s,i,c){return c!==null&&ec(c),ds(s,r.child,null,i),r=Nc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Fw(r,s,i,c,f,m,v){if(i)return s.flags&256?(s.flags&=-257,c=bc(Error(n(422))),na(r,s,v,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=c.fallback,f=s.mode,c=ga({mode:"visible",children:c.children},f,0,null),m=Dn(m,f,v,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&ds(s,r.child,null,v),s.child.memoizedState=Cc(v),s.memoizedState=Ec,m);if((s.mode&1)===0)return na(r,s,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var N=c.dgst;return c=N,m=Error(n(419)),c=bc(m,c,void 0),na(r,s,v,c)}if(N=(v&r.childLanes)!==0,Lt||N){if(c=yt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|v))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Dr(r,f),pr(c,r,f,-1))}return Wc(),c=bc(Error(n(421))),na(r,s,v,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Zw.bind(null,r),f._reactRetry=s,null):(r=m.treeContext,Vt=Zr(f.nextSibling),Wt=s,Ze=!0,ur=null,r!==null&&(er[tr++]=Ir,er[tr++]=Mr,er[tr++]=Nn,Ir=r.id,Mr=r.overflow,Nn=s),s=Nc(s,c.children),s.flags|=4096,s)}function Bh(r,s,i){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),sc(r.return,s,i)}function jc(r,s,i,c,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=i,m.tailMode=f)}function Wh(r,s,i){var c=s.pendingProps,f=c.revealOrder,m=c.tail;if(Tt(r,s,c.children,i),c=et.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Bh(r,i,s);else if(r.tag===19)Bh(r,i,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ye(et,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(i=s.child,f=null;i!==null;)r=i.alternate,r!==null&&Ji(r)===null&&(f=i),i=i.sibling;i=f,i===null?(f=s.child,s.child=null):(f=i.sibling,i.sibling=null),jc(s,!1,f,i,m);break;case"backwards":for(i=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Ji(r)===null){s.child=f;break}r=f.sibling,f.sibling=i,i=f,f=r}jc(s,!0,i,null,m);break;case"together":jc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sa(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function $r(r,s,i){if(r!==null&&(s.dependencies=r.dependencies),Pn|=s.lanes,(i&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,i=dn(r,r.pendingProps),s.child=i,i.return=s;r.sibling!==null;)r=r.sibling,i=i.sibling=dn(r,r.pendingProps),i.return=s;i.sibling=null}return s.child}function zw(r,s,i){switch(s.tag){case 3:Uh(s),us();break;case 5:nh(s);break;case 1:Dt(s.type)&&Fi(s);break;case 4:ac(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Ye(qi,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ye(et,et.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?zh(r,s,i):(Ye(et,et.current&1),r=$r(r,s,i),r!==null?r.sibling:null);Ye(et,et.current&1);break;case 19:if(c=(i&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Wh(r,s,i);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(et,et.current),c)break;return null;case 22:case 23:return s.lanes=0,Dh(r,s,i)}return $r(r,s,i)}var Vh,Ac,Hh,qh;Vh=function(r,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ac=function(){},Hh=function(r,s,i,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Tn(_r.current);var m=null;switch(i){case"input":f=kt(r,f),c=kt(r,c),m=[];break;case"select":f=H({},f,{value:void 0}),c=H({},c,{value:void 0}),m=[];break;case"textarea":f=le(r,f),c=le(r,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Li)}Ks(i,c);var v;i=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var N=f[B];for(v in N)N.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var A=c[B];if(N=f!=null?f[B]:void 0,c.hasOwnProperty(B)&&A!==N&&(A!=null||N!=null))if(B==="style")if(N){for(v in N)!N.hasOwnProperty(v)||A&&A.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in A)A.hasOwnProperty(v)&&N[v]!==A[v]&&(i||(i={}),i[v]=A[v])}else i||(m||(m=[]),m.push(B,i)),i=A;else B==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,N=N?N.__html:void 0,A!=null&&N!==A&&(m=m||[]).push(B,A)):B==="children"?typeof A!="string"&&typeof A!="number"||(m=m||[]).push(B,""+A):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(A!=null&&B==="onScroll"&&Qe("scroll",r),m||N===A||(m=[])):(m=m||[]).push(B,A))}i&&(m=m||[]).push("style",i);var B=m;(s.updateQueue=B)&&(s.flags|=4)}},qh=function(r,s,i,c){i!==c&&(s.flags|=4)};function No(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?r.tail=null:i.sibling=null;break;case"collapsed":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,i=0,c=0;if(s)for(var f=r.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=i,s}function Bw(r,s,i){var c=s.pendingProps;switch(Ql(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Dt(s.type)&&Ui(),Nt(s),null;case 3:return c=s.stateNode,ps(),Xe(Mt),Xe(Et),uc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Vi(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ur!==null&&(Fc(ur),ur=null))),Ac(r,s),Nt(s),null;case 5:lc(s);var f=Tn(So.current);if(i=s.type,r!==null&&s.stateNode!=null)Hh(r,s,i,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return Nt(s),null}if(r=Tn(_r.current),Vi(s)){c=s.stateNode,i=s.type;var m=s.memoizedProps;switch(c[Sr]=s,c[yo]=m,r=(s.mode&1)!==0,i){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(f=0;f<po.length;f++)Qe(po[f],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":ar(c,m),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Qe("invalid",c);break;case"textarea":Pe(c,m),Qe("invalid",c)}Ks(i,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var N=m[v];v==="children"?typeof N=="string"?c.textContent!==N&&(m.suppressHydrationWarning!==!0&&Di(c.textContent,N,r),f=["children",N]):typeof N=="number"&&c.textContent!==""+N&&(m.suppressHydrationWarning!==!0&&Di(c.textContent,N,r),f=["children",""+N]):a.hasOwnProperty(v)&&N!=null&&v==="onScroll"&&Qe("scroll",c)}switch(i){case"input":dt(c),Ue(c,m,!0);break;case"textarea":dt(c),It(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Li)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=fi(i)),r==="http://www.w3.org/1999/xhtml"?i==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=v.createElement(i,{is:c.is}):(r=v.createElement(i),i==="select"&&(v=r,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):r=v.createElementNS(r,i),r[Sr]=s,r[yo]=c,Vh(r,s,!1,!1),s.stateNode=r;e:{switch(v=$(i,c),i){case"dialog":Qe("cancel",r),Qe("close",r),f=c;break;case"iframe":case"object":case"embed":Qe("load",r),f=c;break;case"video":case"audio":for(f=0;f<po.length;f++)Qe(po[f],r);f=c;break;case"source":Qe("error",r),f=c;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),f=c;break;case"details":Qe("toggle",r),f=c;break;case"input":ar(r,c),f=kt(r,c),Qe("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=H({},c,{value:void 0}),Qe("invalid",r);break;case"textarea":Pe(r,c),f=le(r,c),Qe("invalid",r);break;default:f=c}Ks(i,f),N=f;for(m in N)if(N.hasOwnProperty(m)){var A=N[m];m==="style"?qs(r,A):m==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&hi(r,A)):m==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&Sn(r,A):typeof A=="number"&&Sn(r,""+A):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?A!=null&&m==="onScroll"&&Qe("scroll",r):A!=null&&R(r,m,A,v))}switch(i){case"input":dt(r),Ue(r,c,!1);break;case"textarea":dt(r),It(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Oe(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?K(r,!!c.multiple,m,!1):c.defaultValue!=null&&K(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Li)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Nt(s),null;case 6:if(r&&s.stateNode!=null)qh(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=Tn(So.current),Tn(_r.current),Vi(s)){if(c=s.stateNode,i=s.memoizedProps,c[Sr]=s,(m=c.nodeValue!==i)&&(r=Wt,r!==null))switch(r.tag){case 3:Di(c.nodeValue,i,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Di(c.nodeValue,i,(r.mode&1)!==0)}m&&(s.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[Sr]=s,s.stateNode=c}return Nt(s),null;case 13:if(Xe(et),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&Vt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Yf(),us(),s.flags|=98560,m=!1;else if(m=Vi(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Sr]=s}else us(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),m=!1}else ur!==null&&(Fc(ur),ur=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(et.current&1)!==0?ht===0&&(ht=3):Wc())),s.updateQueue!==null&&(s.flags|=4),Nt(s),null);case 4:return ps(),Ac(r,s),r===null&&mo(s.stateNode.containerInfo),Nt(s),null;case 10:return nc(s.type._context),Nt(s),null;case 17:return Dt(s.type)&&Ui(),Nt(s),null;case 19:if(Xe(et),m=s.memoizedState,m===null)return Nt(s),null;if(c=(s.flags&128)!==0,v=m.rendering,v===null)if(c)No(m,!1);else{if(ht!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(v=Ji(r),v!==null){for(s.flags|=128,No(m,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=i,i=s.child;i!==null;)m=i,r=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,r=v.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i=i.sibling;return Ye(et,et.current&1|2),s.child}r=r.sibling}m.tail!==null&&at()>vs&&(s.flags|=128,c=!0,No(m,!1),s.lanes=4194304)}else{if(!c)if(r=Ji(v),r!==null){if(s.flags|=128,c=!0,i=r.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),No(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ze)return Nt(s),null}else 2*at()-m.renderingStartTime>vs&&i!==1073741824&&(s.flags|=128,c=!0,No(m,!1),s.lanes=4194304);m.isBackwards?(v.sibling=s.child,s.child=v):(i=m.last,i!==null?i.sibling=v:s.child=v,m.last=v)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=at(),s.sibling=null,i=et.current,Ye(et,c?i&1|2:i&1),s):(Nt(s),null);case 22:case 23:return Bc(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Ht&1073741824)!==0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Ww(r,s){switch(Ql(s),s.tag){case 1:return Dt(s.type)&&Ui(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ps(),Xe(Mt),Xe(Et),uc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return lc(s),null;case 13:if(Xe(et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));us()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Xe(et),null;case 4:return ps(),null;case 10:return nc(s.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var oa=!1,jt=!1,Vw=typeof WeakSet=="function"?WeakSet:Set,he=null;function gs(r,s){var i=r.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){ot(r,s,c)}else i.current=null}function Tc(r,s,i){try{i()}catch(c){ot(r,s,c)}}var Kh=!1;function Hw(r,s){if(Bl=Ei,r=Ef(),Il(r)){if("selectionStart"in r)var i={start:r.selectionStart,end:r.selectionEnd};else e:{i=(i=r.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var v=0,N=-1,A=-1,B=0,Q=0,X=r,J=null;t:for(;;){for(var ue;X!==i||f!==0&&X.nodeType!==3||(N=v+f),X!==m||c!==0&&X.nodeType!==3||(A=v+c),X.nodeType===3&&(v+=X.nodeValue.length),(ue=X.firstChild)!==null;)J=X,X=ue;for(;;){if(X===r)break t;if(J===i&&++B===f&&(N=v),J===m&&++Q===c&&(A=v),(ue=X.nextSibling)!==null)break;X=J,J=X.parentNode}X=ue}i=N===-1||A===-1?null:{start:N,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Wl={focusedElem:r,selectionRange:i},Ei=!1,he=s;he!==null;)if(s=he,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,he=r;else for(;he!==null;){s=he;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var we=pe.memoizedProps,lt=pe.memoizedState,M=s.stateNode,O=M.getSnapshotBeforeUpdate(s.elementType===s.type?we:dr(s.type,we),lt);M.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){ot(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,he=r;break}he=s.return}return pe=Kh,Kh=!1,pe}function jo(r,s,i){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var m=f.destroy;f.destroy=void 0,m!==void 0&&Tc(s,i,m)}f=f.next}while(f!==c)}}function ia(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&r)===r){var c=i.create;i.destroy=c()}i=i.next}while(i!==s)}}function Rc(r){var s=r.ref;if(s!==null){var i=r.stateNode;switch(r.tag){case 5:r=i;break;default:r=i}typeof s=="function"?s(r):s.current=r}}function Gh(r){var s=r.alternate;s!==null&&(r.alternate=null,Gh(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Sr],delete s[yo],delete s[Kl],delete s[Nw],delete s[jw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Yh(r){return r.tag===5||r.tag===3||r.tag===4}function Jh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Yh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pc(r,s,i){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(r,s):i.insertBefore(r,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(r,i)):(s=i,s.appendChild(r)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Li));else if(c!==4&&(r=r.child,r!==null))for(Pc(r,s,i),r=r.sibling;r!==null;)Pc(r,s,i),r=r.sibling}function Oc(r,s,i){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?i.insertBefore(r,s):i.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Oc(r,s,i),r=r.sibling;r!==null;)Oc(r,s,i),r=r.sibling}var xt=null,fr=!1;function on(r,s,i){for(i=i.child;i!==null;)Qh(r,s,i),i=i.sibling}function Qh(r,s,i){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(wi,i)}catch{}switch(i.tag){case 5:jt||gs(i,s);case 6:var c=xt,f=fr;xt=null,on(r,s,i),xt=c,fr=f,xt!==null&&(fr?(r=xt,i=i.stateNode,r.nodeType===8?r.parentNode.removeChild(i):r.removeChild(i)):xt.removeChild(i.stateNode));break;case 18:xt!==null&&(fr?(r=xt,i=i.stateNode,r.nodeType===8?ql(r.parentNode,i):r.nodeType===1&&ql(r,i),oo(r)):ql(xt,i.stateNode));break;case 4:c=xt,f=fr,xt=i.stateNode.containerInfo,fr=!0,on(r,s,i),xt=c,fr=f;break;case 0:case 11:case 14:case 15:if(!jt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&Tc(i,s,v),f=f.next}while(f!==c)}on(r,s,i);break;case 1:if(!jt&&(gs(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(N){ot(i,s,N)}on(r,s,i);break;case 21:on(r,s,i);break;case 22:i.mode&1?(jt=(c=jt)||i.memoizedState!==null,on(r,s,i),jt=c):on(r,s,i);break;default:on(r,s,i)}}function Xh(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var i=r.stateNode;i===null&&(i=r.stateNode=new Vw),s.forEach(function(c){var f=ex.bind(null,r,c);i.has(c)||(i.add(c),c.then(f,f))})}}function hr(r,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c];try{var m=r,v=s,N=v;e:for(;N!==null;){switch(N.tag){case 5:xt=N.stateNode,fr=!1;break e;case 3:xt=N.stateNode.containerInfo,fr=!0;break e;case 4:xt=N.stateNode.containerInfo,fr=!0;break e}N=N.return}if(xt===null)throw Error(n(160));Qh(m,v,f),xt=null,fr=!1;var A=f.alternate;A!==null&&(A.return=null),f.return=null}catch(B){ot(f,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Zh(s,r),s=s.sibling}function Zh(r,s){var i=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(hr(s,r),Er(r),c&4){try{jo(3,r,r.return),ia(3,r)}catch(we){ot(r,r.return,we)}try{jo(5,r,r.return)}catch(we){ot(r,r.return,we)}}break;case 1:hr(s,r),Er(r),c&512&&i!==null&&gs(i,i.return);break;case 5:if(hr(s,r),Er(r),c&512&&i!==null&&gs(i,i.return),r.flags&32){var f=r.stateNode;try{Sn(f,"")}catch(we){ot(r,r.return,we)}}if(c&4&&(f=r.stateNode,f!=null)){var m=r.memoizedProps,v=i!==null?i.memoizedProps:m,N=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{N==="input"&&m.type==="radio"&&m.name!=null&&Z(f,m),$(N,v);var B=$(N,m);for(v=0;v<A.length;v+=2){var Q=A[v],X=A[v+1];Q==="style"?qs(f,X):Q==="dangerouslySetInnerHTML"?hi(f,X):Q==="children"?Sn(f,X):R(f,Q,X,B)}switch(N){case"input":ae(f,m);break;case"textarea":Ge(f,m);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var ue=m.value;ue!=null?K(f,!!m.multiple,ue,!1):J!==!!m.multiple&&(m.defaultValue!=null?K(f,!!m.multiple,m.defaultValue,!0):K(f,!!m.multiple,m.multiple?[]:"",!1))}f[yo]=m}catch(we){ot(r,r.return,we)}}break;case 6:if(hr(s,r),Er(r),c&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,m=r.memoizedProps;try{f.nodeValue=m}catch(we){ot(r,r.return,we)}}break;case 3:if(hr(s,r),Er(r),c&4&&i!==null&&i.memoizedState.isDehydrated)try{oo(s.containerInfo)}catch(we){ot(r,r.return,we)}break;case 4:hr(s,r),Er(r);break;case 13:hr(s,r),Er(r),f=r.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Dc=at())),c&4&&Xh(r);break;case 22:if(Q=i!==null&&i.memoizedState!==null,r.mode&1?(jt=(B=jt)||Q,hr(s,r),jt=B):hr(s,r),Er(r),c&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!Q&&(r.mode&1)!==0)for(he=r,Q=r.child;Q!==null;){for(X=he=Q;he!==null;){switch(J=he,ue=J.child,J.tag){case 0:case 11:case 14:case 15:jo(4,J,J.return);break;case 1:gs(J,J.return);var pe=J.stateNode;if(typeof pe.componentWillUnmount=="function"){c=J,i=J.return;try{s=c,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(we){ot(c,i,we)}}break;case 5:gs(J,J.return);break;case 22:if(J.memoizedState!==null){rp(X);continue}}ue!==null?(ue.return=J,he=ue):rp(X)}Q=Q.sibling}e:for(Q=null,X=r;;){if(X.tag===5){if(Q===null){Q=X;try{f=X.stateNode,B?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(N=X.stateNode,A=X.memoizedProps.style,v=A!=null&&A.hasOwnProperty("display")?A.display:null,N.style.display=pi("display",v))}catch(we){ot(r,r.return,we)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=B?"":X.memoizedProps}catch(we){ot(r,r.return,we)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:hr(s,r),Er(r),c&4&&Xh(r);break;case 21:break;default:hr(s,r),Er(r)}}function Er(r){var s=r.flags;if(s&2){try{e:{for(var i=r.return;i!==null;){if(Yh(i)){var c=i;break e}i=i.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Sn(f,""),c.flags&=-33);var m=Jh(r);Oc(r,m,f);break;case 3:case 4:var v=c.stateNode.containerInfo,N=Jh(r);Pc(r,N,v);break;default:throw Error(n(161))}}catch(A){ot(r,r.return,A)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function qw(r,s,i){he=r,ep(r)}function ep(r,s,i){for(var c=(r.mode&1)!==0;he!==null;){var f=he,m=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||oa;if(!v){var N=f.alternate,A=N!==null&&N.memoizedState!==null||jt;N=oa;var B=jt;if(oa=v,(jt=A)&&!B)for(he=f;he!==null;)v=he,A=v.child,v.tag===22&&v.memoizedState!==null?np(f):A!==null?(A.return=v,he=A):np(f);for(;m!==null;)he=m,ep(m),m=m.sibling;he=f,oa=N,jt=B}tp(r)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,he=m):tp(r)}}function tp(r){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:jt||ia(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!jt)if(i===null)c.componentDidMount();else{var f=s.elementType===s.type?i.memoizedProps:dr(s.type,i.memoizedProps);c.componentDidUpdate(f,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&rh(s,m,c);break;case 3:var v=s.updateQueue;if(v!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}rh(s,v,i)}break;case 5:var N=s.stateNode;if(i===null&&s.flags&4){i=N;var A=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var Q=B.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&oo(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jt||s.flags&512&&Rc(s)}catch(J){ot(s,s.return,J)}}if(s===r){he=null;break}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}}function rp(r){for(;he!==null;){var s=he;if(s===r){he=null;break}var i=s.sibling;if(i!==null){i.return=s.return,he=i;break}he=s.return}}function np(r){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{ia(4,s)}catch(A){ot(s,i,A)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(A){ot(s,f,A)}}var m=s.return;try{Rc(s)}catch(A){ot(s,m,A)}break;case 5:var v=s.return;try{Rc(s)}catch(A){ot(s,v,A)}}}catch(A){ot(s,s.return,A)}if(s===r){he=null;break}var N=s.sibling;if(N!==null){N.return=s.return,he=N;break}he=s.return}}var Kw=Math.ceil,aa=I.ReactCurrentDispatcher,Ic=I.ReactCurrentOwner,sr=I.ReactCurrentBatchConfig,ze=0,yt=null,ct=null,bt=0,Ht=0,ys=en(0),ht=0,Ao=null,Pn=0,la=0,Mc=0,To=null,$t=null,Dc=0,vs=1/0,Ur=null,ca=!1,Lc=null,an=null,ua=!1,ln=null,da=0,Ro=0,$c=null,fa=-1,ha=0;function Rt(){return(ze&6)!==0?at():fa!==-1?fa:fa=at()}function cn(r){return(r.mode&1)===0?1:(ze&2)!==0&&bt!==0?bt&-bt:Tw.transition!==null?(ha===0&&(ha=Yd()),ha):(r=qe,r!==0||(r=window.event,r=r===void 0?16:sf(r.type)),r)}function pr(r,s,i,c){if(50<Ro)throw Ro=0,$c=null,Error(n(185));eo(r,i,c),((ze&2)===0||r!==yt)&&(r===yt&&((ze&2)===0&&(la|=i),ht===4&&un(r,bt)),Ut(r,c),i===1&&ze===0&&(s.mode&1)===0&&(vs=at()+500,zi&&rn()))}function Ut(r,s){var i=r.callbackNode;Tv(r,s);var c=Si(r,r===yt?bt:0);if(c===0)i!==null&&qd(i),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(i!=null&&qd(i),s===1)r.tag===0?Aw(op.bind(null,r)):Vf(op.bind(null,r)),Ew(function(){(ze&6)===0&&rn()}),i=null;else{switch(Jd(c)){case 1:i=yl;break;case 4:i=Kd;break;case 16:i=vi;break;case 536870912:i=Gd;break;default:i=vi}i=hp(i,sp.bind(null,r))}r.callbackPriority=s,r.callbackNode=i}}function sp(r,s){if(fa=-1,ha=0,(ze&6)!==0)throw Error(n(327));var i=r.callbackNode;if(ws()&&r.callbackNode!==i)return null;var c=Si(r,r===yt?bt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=pa(r,c);else{s=c;var f=ze;ze|=2;var m=ap();(yt!==r||bt!==s)&&(Ur=null,vs=at()+500,In(r,s));do try{Jw();break}catch(N){ip(r,N)}while(!0);rc(),aa.current=m,ze=f,ct!==null?s=0:(yt=null,bt=0,s=ht)}if(s!==0){if(s===2&&(f=vl(r),f!==0&&(c=f,s=Uc(r,f))),s===1)throw i=Ao,In(r,0),un(r,c),Ut(r,at()),i;if(s===6)un(r,c);else{if(f=r.current.alternate,(c&30)===0&&!Gw(f)&&(s=pa(r,c),s===2&&(m=vl(r),m!==0&&(c=m,s=Uc(r,m))),s===1))throw i=Ao,In(r,0),un(r,c),Ut(r,at()),i;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Mn(r,$t,Ur);break;case 3:if(un(r,c),(c&130023424)===c&&(s=Dc+500-at(),10<s)){if(Si(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){Rt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Hl(Mn.bind(null,r,$t,Ur),s);break}Mn(r,$t,Ur);break;case 4:if(un(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var v=31-lr(c);m=1<<v,v=s[v],v>f&&(f=v),c&=~m}if(c=f,c=at()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Kw(c/1960))-c,10<c){r.timeoutHandle=Hl(Mn.bind(null,r,$t,Ur),c);break}Mn(r,$t,Ur);break;case 5:Mn(r,$t,Ur);break;default:throw Error(n(329))}}}return Ut(r,at()),r.callbackNode===i?sp.bind(null,r):null}function Uc(r,s){var i=To;return r.current.memoizedState.isDehydrated&&(In(r,s).flags|=256),r=pa(r,s),r!==2&&(s=$t,$t=i,s!==null&&Fc(s)),r}function Fc(r){$t===null?$t=r:$t.push.apply($t,r)}function Gw(r){for(var s=r;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var f=i[c],m=f.getSnapshot;f=f.value;try{if(!cr(m(),f))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function un(r,s){for(s&=~Mc,s&=~la,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var i=31-lr(s),c=1<<i;r[i]=-1,s&=~c}}function op(r){if((ze&6)!==0)throw Error(n(327));ws();var s=Si(r,0);if((s&1)===0)return Ut(r,at()),null;var i=pa(r,s);if(r.tag!==0&&i===2){var c=vl(r);c!==0&&(s=c,i=Uc(r,c))}if(i===1)throw i=Ao,In(r,0),un(r,s),Ut(r,at()),i;if(i===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Mn(r,$t,Ur),Ut(r,at()),null}function zc(r,s){var i=ze;ze|=1;try{return r(s)}finally{ze=i,ze===0&&(vs=at()+500,zi&&rn())}}function On(r){ln!==null&&ln.tag===0&&(ze&6)===0&&ws();var s=ze;ze|=1;var i=sr.transition,c=qe;try{if(sr.transition=null,qe=1,r)return r()}finally{qe=c,sr.transition=i,ze=s,(ze&6)===0&&rn()}}function Bc(){Ht=ys.current,Xe(ys)}function In(r,s){r.finishedWork=null,r.finishedLanes=0;var i=r.timeoutHandle;if(i!==-1&&(r.timeoutHandle=-1,kw(i)),ct!==null)for(i=ct.return;i!==null;){var c=i;switch(Ql(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ui();break;case 3:ps(),Xe(Mt),Xe(Et),uc();break;case 5:lc(c);break;case 4:ps();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:nc(c.type._context);break;case 22:case 23:Bc()}i=i.return}if(yt=r,ct=r=dn(r.current,null),bt=Ht=s,ht=0,Ao=null,Mc=la=Pn=0,$t=To=null,An!==null){for(s=0;s<An.length;s++)if(i=An[s],c=i.interleaved,c!==null){i.interleaved=null;var f=c.next,m=i.pending;if(m!==null){var v=m.next;m.next=f,c.next=v}i.pending=c}An=null}return r}function ip(r,s){do{var i=ct;try{if(rc(),Qi.current=ta,Xi){for(var c=tt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Xi=!1}if(Rn=0,gt=ft=tt=null,_o=!1,ko=0,Ic.current=null,i===null||i.return===null){ht=1,Ao=s,ct=null;break}e:{var m=r,v=i.return,N=i,A=s;if(s=bt,N.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var B=A,Q=N,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ue=Rh(v);if(ue!==null){ue.flags&=-257,Ph(ue,v,N,m,s),ue.mode&1&&Th(m,B,s),s=ue,A=B;var pe=s.updateQueue;if(pe===null){var we=new Set;we.add(A),s.updateQueue=we}else pe.add(A);break e}else{if((s&1)===0){Th(m,B,s),Wc();break e}A=Error(n(426))}}else if(Ze&&N.mode&1){var lt=Rh(v);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),Ph(lt,v,N,m,s),ec(ms(A,N));break e}}m=A=ms(A,N),ht!==4&&(ht=2),To===null?To=[m]:To.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var M=jh(m,A,s);th(m,M);break e;case 1:N=A;var O=m.type,U=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(an===null||!an.has(U)))){m.flags|=65536,s&=-s,m.lanes|=s;var ee=Ah(m,N,s);th(m,ee);break e}}m=m.return}while(m!==null)}cp(i)}catch(xe){s=xe,ct===i&&i!==null&&(ct=i=i.return);continue}break}while(!0)}function ap(){var r=aa.current;return aa.current=ta,r===null?ta:r}function Wc(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||(Pn&268435455)===0&&(la&268435455)===0||un(yt,bt)}function pa(r,s){var i=ze;ze|=2;var c=ap();(yt!==r||bt!==s)&&(Ur=null,In(r,s));do try{Yw();break}catch(f){ip(r,f)}while(!0);if(rc(),ze=i,aa.current=c,ct!==null)throw Error(n(261));return yt=null,bt=0,ht}function Yw(){for(;ct!==null;)lp(ct)}function Jw(){for(;ct!==null&&!bv();)lp(ct)}function lp(r){var s=fp(r.alternate,r,Ht);r.memoizedProps=r.pendingProps,s===null?cp(r):ct=s,Ic.current=null}function cp(r){var s=r;do{var i=s.alternate;if(r=s.return,(s.flags&32768)===0){if(i=Bw(i,s,Ht),i!==null){ct=i;return}}else{if(i=Ww(i,s),i!==null){i.flags&=32767,ct=i;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ht=6,ct=null;return}}if(s=s.sibling,s!==null){ct=s;return}ct=s=r}while(s!==null);ht===0&&(ht=5)}function Mn(r,s,i){var c=qe,f=sr.transition;try{sr.transition=null,qe=1,Qw(r,s,i,c)}finally{sr.transition=f,qe=c}return null}function Qw(r,s,i,c){do ws();while(ln!==null);if((ze&6)!==0)throw Error(n(327));i=r.finishedWork;var f=r.finishedLanes;if(i===null)return null;if(r.finishedWork=null,r.finishedLanes=0,i===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=i.lanes|i.childLanes;if(Rv(r,m),r===yt&&(ct=yt=null,bt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ua||(ua=!0,hp(vi,function(){return ws(),null})),m=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||m){m=sr.transition,sr.transition=null;var v=qe;qe=1;var N=ze;ze|=4,Ic.current=null,Hw(r,i),Zh(i,r),yw(Wl),Ei=!!Bl,Wl=Bl=null,r.current=i,qw(i),Sv(),ze=N,qe=v,sr.transition=m}else r.current=i;if(ua&&(ua=!1,ln=r,da=f),m=r.pendingLanes,m===0&&(an=null),Ev(i.stateNode),Ut(r,at()),s!==null)for(c=r.onRecoverableError,i=0;i<s.length;i++)f=s[i],c(f.value,{componentStack:f.stack,digest:f.digest});if(ca)throw ca=!1,r=Lc,Lc=null,r;return(da&1)!==0&&r.tag!==0&&ws(),m=r.pendingLanes,(m&1)!==0?r===$c?Ro++:(Ro=0,$c=r):Ro=0,rn(),null}function ws(){if(ln!==null){var r=Jd(da),s=sr.transition,i=qe;try{if(sr.transition=null,qe=16>r?16:r,ln===null)var c=!1;else{if(r=ln,ln=null,da=0,(ze&6)!==0)throw Error(n(331));var f=ze;for(ze|=4,he=r.current;he!==null;){var m=he,v=m.child;if((he.flags&16)!==0){var N=m.deletions;if(N!==null){for(var A=0;A<N.length;A++){var B=N[A];for(he=B;he!==null;){var Q=he;switch(Q.tag){case 0:case 11:case 15:jo(8,Q,m)}var X=Q.child;if(X!==null)X.return=Q,he=X;else for(;he!==null;){Q=he;var J=Q.sibling,ue=Q.return;if(Gh(Q),Q===B){he=null;break}if(J!==null){J.return=ue,he=J;break}he=ue}}}var pe=m.alternate;if(pe!==null){var we=pe.child;if(we!==null){pe.child=null;do{var lt=we.sibling;we.sibling=null,we=lt}while(we!==null)}}he=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,he=v;else e:for(;he!==null;){if(m=he,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:jo(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,he=M;break e}he=m.return}}var O=r.current;for(he=O;he!==null;){v=he;var U=v.child;if((v.subtreeFlags&2064)!==0&&U!==null)U.return=v,he=U;else e:for(v=O;he!==null;){if(N=he,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:ia(9,N)}}catch(xe){ot(N,N.return,xe)}if(N===v){he=null;break e}var ee=N.sibling;if(ee!==null){ee.return=N.return,he=ee;break e}he=N.return}}if(ze=f,rn(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(wi,r)}catch{}c=!0}return c}finally{qe=i,sr.transition=s}}return!1}function up(r,s,i){s=ms(i,s),s=jh(r,s,1),r=sn(r,s,1),s=Rt(),r!==null&&(eo(r,1,s),Ut(r,s))}function ot(r,s,i){if(r.tag===3)up(r,r,i);else for(;s!==null;){if(s.tag===3){up(s,r,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(an===null||!an.has(c))){r=ms(i,r),r=Ah(s,r,1),s=sn(s,r,1),r=Rt(),s!==null&&(eo(s,1,r),Ut(s,r));break}}s=s.return}}function Xw(r,s,i){var c=r.pingCache;c!==null&&c.delete(s),s=Rt(),r.pingedLanes|=r.suspendedLanes&i,yt===r&&(bt&i)===i&&(ht===4||ht===3&&(bt&130023424)===bt&&500>at()-Dc?In(r,0):Mc|=i),Ut(r,s)}function dp(r,s){s===0&&((r.mode&1)===0?s=1:(s=bi,bi<<=1,(bi&130023424)===0&&(bi=4194304)));var i=Rt();r=Dr(r,s),r!==null&&(eo(r,s,i),Ut(r,i))}function Zw(r){var s=r.memoizedState,i=0;s!==null&&(i=s.retryLane),dp(r,i)}function ex(r,s){var i=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),dp(r,i)}var fp;fp=function(r,s,i){if(r!==null)if(r.memoizedProps!==s.pendingProps||Mt.current)Lt=!0;else{if((r.lanes&i)===0&&(s.flags&128)===0)return Lt=!1,zw(r,s,i);Lt=(r.flags&131072)!==0}else Lt=!1,Ze&&(s.flags&1048576)!==0&&Hf(s,Wi,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;sa(r,s),r=s.pendingProps;var f=as(s,Et.current);hs(s,i),f=hc(null,s,c,r,f,i);var m=pc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Dt(c)?(m=!0,Fi(s)):m=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ic(s),f.updater=ra,s.stateNode=f,f._reactInternals=s,xc(s,c,r,i),s=kc(null,s,c,!0,m,i)):(s.tag=0,Ze&&m&&Jl(s),Tt(null,s,f,i),s=s.child),s;case 16:c=s.elementType;e:{switch(sa(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=rx(c),r=dr(c,r),f){case 0:s=_c(null,s,c,r,i);break e;case 1:s=$h(null,s,c,r,i);break e;case 11:s=Oh(null,s,c,r,i);break e;case 14:s=Ih(null,s,c,dr(c.type,r),i);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:dr(c,f),_c(r,s,c,f,i);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:dr(c,f),$h(r,s,c,f,i);case 3:e:{if(Uh(s),r===null)throw Error(n(387));c=s.pendingProps,m=s.memoizedState,f=m.element,eh(r,s),Yi(s,c,null,i);var v=s.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){f=ms(Error(n(423)),s),s=Fh(r,s,c,i,f);break e}else if(c!==f){f=ms(Error(n(424)),s),s=Fh(r,s,c,i,f);break e}else for(Vt=Zr(s.stateNode.containerInfo.firstChild),Wt=s,Ze=!0,ur=null,i=Xf(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(us(),c===f){s=$r(r,s,i);break e}Tt(r,s,c,i)}s=s.child}return s;case 5:return nh(s),r===null&&Zl(s),c=s.type,f=s.pendingProps,m=r!==null?r.memoizedProps:null,v=f.children,Vl(c,f)?v=null:m!==null&&Vl(c,m)&&(s.flags|=32),Lh(r,s),Tt(r,s,v,i),s.child;case 6:return r===null&&Zl(s),null;case 13:return zh(r,s,i);case 4:return ac(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ds(s,null,c,i):Tt(r,s,c,i),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:dr(c,f),Oh(r,s,c,f,i);case 7:return Tt(r,s,s.pendingProps,i),s.child;case 8:return Tt(r,s,s.pendingProps.children,i),s.child;case 12:return Tt(r,s,s.pendingProps.children,i),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,m=s.memoizedProps,v=f.value,Ye(qi,c._currentValue),c._currentValue=v,m!==null)if(cr(m.value,v)){if(m.children===f.children&&!Mt.current){s=$r(r,s,i);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var N=m.dependencies;if(N!==null){v=m.child;for(var A=N.firstContext;A!==null;){if(A.context===c){if(m.tag===1){A=Lr(-1,i&-i),A.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var Q=B.pending;Q===null?A.next=A:(A.next=Q.next,Q.next=A),B.pending=A}}m.lanes|=i,A=m.alternate,A!==null&&(A.lanes|=i),sc(m.return,i,s),N.lanes|=i;break}A=A.next}}else if(m.tag===10)v=m.type===s.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=i,N=v.alternate,N!==null&&(N.lanes|=i),sc(v,i,s),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===s){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Tt(r,s,f.children,i),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,hs(s,i),f=rr(f),c=c(f),s.flags|=1,Tt(r,s,c,i),s.child;case 14:return c=s.type,f=dr(c,s.pendingProps),f=dr(c.type,f),Ih(r,s,c,f,i);case 15:return Mh(r,s,s.type,s.pendingProps,i);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:dr(c,f),sa(r,s),s.tag=1,Dt(c)?(r=!0,Fi(s)):r=!1,hs(s,i),Ch(s,c,f),xc(s,c,f,i),kc(null,s,c,!0,r,i);case 19:return Wh(r,s,i);case 22:return Dh(r,s,i)}throw Error(n(156,s.tag))};function hp(r,s){return Hd(r,s)}function tx(r,s,i,c){this.tag=r,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(r,s,i,c){return new tx(r,s,i,c)}function Vc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function rx(r){if(typeof r=="function")return Vc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===re)return 11;if(r===Ae)return 14}return 2}function dn(r,s){var i=r.alternate;return i===null?(i=or(r.tag,s,r.key,r.mode),i.elementType=r.elementType,i.type=r.type,i.stateNode=r.stateNode,i.alternate=r,r.alternate=i):(i.pendingProps=s,i.type=r.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=r.flags&14680064,i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,s=r.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=r.sibling,i.index=r.index,i.ref=r.ref,i}function ma(r,s,i,c,f,m){var v=2;if(c=r,typeof r=="function")Vc(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case W:return Dn(i.children,f,m,s);case V:v=8,f|=8;break;case se:return r=or(12,i,s,f|2),r.elementType=se,r.lanes=m,r;case ve:return r=or(13,i,s,f),r.elementType=ve,r.lanes=m,r;case _e:return r=or(19,i,s,f),r.elementType=_e,r.lanes=m,r;case te:return ga(i,f,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ye:v=10;break e;case fe:v=9;break e;case re:v=11;break e;case Ae:v=14;break e;case ce:v=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=or(v,i,s,f),s.elementType=r,s.type=c,s.lanes=m,s}function Dn(r,s,i,c){return r=or(7,r,c,s),r.lanes=i,r}function ga(r,s,i,c){return r=or(22,r,c,s),r.elementType=te,r.lanes=i,r.stateNode={isHidden:!1},r}function Hc(r,s,i){return r=or(6,r,null,s),r.lanes=i,r}function qc(r,s,i){return s=or(4,r.children!==null?r.children:[],r.key,s),s.lanes=i,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function nx(r,s,i,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Kc(r,s,i,c,f,m,v,N,A){return r=new nx(r,s,i,N,A),s===1?(s=1,m===!0&&(s|=8)):s=0,m=or(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ic(m),r}function sx(r,s,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:c==null?null:""+c,children:r,containerInfo:s,implementation:i}}function pp(r){if(!r)return tn;r=r._reactInternals;e:{if(kn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Dt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var i=r.type;if(Dt(i))return Bf(r,i,s)}return s}function mp(r,s,i,c,f,m,v,N,A){return r=Kc(i,c,!0,r,f,m,v,N,A),r.context=pp(null),i=r.current,c=Rt(),f=cn(i),m=Lr(c,f),m.callback=s??null,sn(i,m,f),r.current.lanes=f,eo(r,f,c),Ut(r,c),r}function ya(r,s,i,c){var f=s.current,m=Rt(),v=cn(f);return i=pp(i),s.context===null?s.context=i:s.pendingContext=i,s=Lr(m,v),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=sn(f,s,v),r!==null&&(pr(r,f,v,m),Gi(r,f,v)),v}function va(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function gp(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var i=r.retryLane;r.retryLane=i!==0&&i<s?i:s}}function Gc(r,s){gp(r,s),(r=r.alternate)&&gp(r,s)}function ox(){return null}var yp=typeof reportError=="function"?reportError:function(r){console.error(r)};function Yc(r){this._internalRoot=r}wa.prototype.render=Yc.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));ya(r,s,null,null)},wa.prototype.unmount=Yc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;On(function(){ya(null,r,null,null)}),s[Pr]=null}};function wa(r){this._internalRoot=r}wa.prototype.unstable_scheduleHydration=function(r){if(r){var s=Zd();r={blockedOn:null,target:r,priority:s};for(var i=0;i<Jr.length&&s!==0&&s<Jr[i].priority;i++);Jr.splice(i,0,r),i===0&&rf(r)}};function Jc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function xa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function vp(){}function ix(r,s,i,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var B=va(v);m.call(B)}}var v=mp(s,c,r,0,null,!1,!1,"",vp);return r._reactRootContainer=v,r[Pr]=v.current,mo(r.nodeType===8?r.parentNode:r),On(),v}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var N=c;c=function(){var B=va(A);N.call(B)}}var A=Kc(r,0,!1,null,null,!1,!1,"",vp);return r._reactRootContainer=A,r[Pr]=A.current,mo(r.nodeType===8?r.parentNode:r),On(function(){ya(s,A,i,c)}),A}function ba(r,s,i,c,f){var m=i._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var N=f;f=function(){var A=va(v);N.call(A)}}ya(s,v,r,f)}else v=ix(i,s,r,f,c);return va(v)}Qd=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var i=Zs(s.pendingLanes);i!==0&&(xl(s,i|1),Ut(s,at()),(ze&6)===0&&(vs=at()+500,rn()))}break;case 13:On(function(){var c=Dr(r,1);if(c!==null){var f=Rt();pr(c,r,1,f)}}),Gc(r,1)}},bl=function(r){if(r.tag===13){var s=Dr(r,134217728);if(s!==null){var i=Rt();pr(s,r,134217728,i)}Gc(r,134217728)}},Xd=function(r){if(r.tag===13){var s=cn(r),i=Dr(r,s);if(i!==null){var c=Rt();pr(i,r,s,c)}Gc(r,s)}},Zd=function(){return qe},ef=function(r,s){var i=qe;try{return qe=r,s()}finally{qe=i}},oe=function(r,s,i){switch(s){case"input":if(ae(r,i),s=i.name,i.type==="radio"&&s!=null){for(i=r;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==r&&c.form===r.form){var f=$i(c);if(!f)throw Error(n(90));wt(c),ae(c,f)}}}break;case"textarea":Ge(r,i);break;case"select":s=i.value,s!=null&&K(r,!!i.multiple,s,!1)}},Ys=zc,Ud=On;var ax={usingClientEntryPoint:!1,Events:[vo,os,$i,Gs,At,zc]},Po={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lx={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Wd(r),r===null?null:r.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sa.isDisabled&&Sa.supportsFiber)try{wi=Sa.inject(lx),br=Sa}catch{}}return Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax,Ft.createPortal=function(r,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(s))throw Error(n(200));return sx(r,s,null,i)},Ft.createRoot=function(r,s){if(!Jc(r))throw Error(n(299));var i=!1,c="",f=yp;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Kc(r,1,!1,null,null,i,!1,c,f),r[Pr]=s.current,mo(r.nodeType===8?r.parentNode:r),new Yc(s)},Ft.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Wd(s),r=r===null?null:r.stateNode,r},Ft.flushSync=function(r){return On(r)},Ft.hydrate=function(r,s,i){if(!xa(s))throw Error(n(200));return ba(null,r,s,!0,i)},Ft.hydrateRoot=function(r,s,i){if(!Jc(r))throw Error(n(405));var c=i!=null&&i.hydratedSources||null,f=!1,m="",v=yp;if(i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),s=mp(s,null,r,1,i??null,f,!1,m,v),r[Pr]=s.current,mo(r),c)for(r=0;r<c.length;r++)i=c[r],f=i._getVersion,f=f(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,f]:s.mutableSourceEagerHydrationData.push(i,f);return new wa(s)},Ft.render=function(r,s,i){if(!xa(s))throw Error(n(200));return ba(null,r,s,!1,i)},Ft.unmountComponentAtNode=function(r){if(!xa(r))throw Error(n(40));return r._reactRootContainer?(On(function(){ba(null,null,r,!1,function(){r._reactRootContainer=null,r[Pr]=null})}),!0):!1},Ft.unstable_batchedUpdates=zc,Ft.unstable_renderSubtreeIntoContainer=function(r,s,i,c){if(!xa(i))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ba(r,s,i,!1,c)},Ft.version="18.3.1-next-f1338f8080-20240426",Ft}var Cp;function qm(){if(Cp)return Zc.exports;Cp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zc.exports=gx(),Zc.exports}var Np;function yx(){if(Np)return _a;Np=1;var t=qm();return _a.createRoot=t.createRoot,_a.hydrateRoot=t.hydrateRoot,_a}var vx=yx(),S=od();const mn=Hm(S),wx=ux({__proto__:null,default:mn},[S]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,o)=>o?o.toUpperCase():n.toLowerCase()),jp=t=>{const e=bx(t);return e.charAt(0).toUpperCase()+e.slice(1)},Km=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:u,...d},p)=>S.createElement("svg",{ref:p,...Sx,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:Km("lucide",a),...d},[...u.map(([g,y])=>S.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const n=S.forwardRef(({className:o,...a},l)=>S.createElement(_x,{ref:l,iconNode:e,className:Km(`lucide-${xx(jp(t))}`,`lucide-${t}`,o),...a}));return n.displayName=jp(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Ex=Ke("arrow-right-left",kx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nx=Ke("calendar",Cx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tl=Ke("check",jx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gm=Ke("chevron-down",Ax);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ym=Ke("chevron-left",Tx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ap=Ke("chevron-right",Rx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ox=Ke("chevron-up",Px);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Nu=Ke("clock",Ix);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],id=Ke("dumbbell",Mx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Lx=Ke("ellipsis-vertical",Dx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ad=Ke("grip-vertical",$x);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M10 18H3",key:"13769t"}],["path",{d:"M21 6v10a2 2 0 0 1-2 2h-5",key:"ilrcs8"}],["path",{d:"m16 16-2 2 2 2",key:"kkc6pm"}]],Fx=Ke("list-end",Ux);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],Tp=Ke("list-plus",zx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Wx=Ke("list",Bx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Hx=Ke("moon",Vx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ju=Ke("pen",qx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Gx=Ke("pencil",Kx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Wo=Ke("play",Yx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vn=Ke("plus",Jx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Xx=Ke("search",Qx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jm=Ke("settings",Zx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],Rp=Ke("skip-forward",e0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],r0=Ke("square-check",t0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],s0=Ke("sun",n0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Vo=Ke("trash-2",o0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],a0=Ke("trending-down",i0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],c0=Ke("trending-up",l0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wn=Ke("x",u0);function Gt({children:t,className:e="",gradient:n=!1,onClick:o}){const a="rounded-xl p-5 border border-border-subtle",l=n?"bg-gradient-to-br from-surface/90 to-surface-secondary/60":"bg-panel",u=o?"cursor-pointer hover:border-border-medium transition-colors":"";return h.jsx("div",{className:`${a} ${l} ${u} ${e}`,onClick:o,children:t})}function Ve({children:t,variant:e="neutral",size:n="md",disabled:o=!1,onClick:a,type:l="button",className:u=""}){const d="rounded-lg transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",p={primary:"bg-gradient-to-br from-accent to-[#4a7de3] text-white hover:from-accent-hover hover:to-[#5a8df4] shadow-lg shadow-accent/20",neutral:"bg-gradient-to-br from-surface to-surface-secondary text-text-primary hover:from-surface-secondary hover:to-surface border border-border-subtle",danger:"bg-gradient-to-br from-danger to-[#d74d4d] text-white hover:from-danger-hover hover:to-[#e76d6d] shadow-lg shadow-danger/20"},g={sm:"px-3 py-1.5",md:"px-5 py-2.5",lg:"px-6 py-3.5"};return h.jsx("button",{type:l,onClick:a,disabled:o,className:`${d} ${p[e]} ${g[n]} ${u}`,children:t})}const Qm="workout_logs_workouts",Au="workout_logs_incomplete_exercise",Pp="workout_logs_incomplete_workout";function d0(t){try{localStorage.setItem(Qm,JSON.stringify(t))}catch(e){console.error("Failed to save workouts:",e)}}function f0(){try{const t=localStorage.getItem(Qm);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load workouts:",t),[]}}function h0(t){return t.find(e=>!e.isComplete)||null}function hn(t){try{t?localStorage.setItem(Pp,t):localStorage.removeItem(Pp)}catch(e){console.error("Failed to save incomplete workout ID:",e)}}function p0(t){try{t?localStorage.setItem(Au,JSON.stringify(t)):localStorage.removeItem(Au)}catch(e){console.error("Failed to save incomplete exercise session:",e)}}function m0(){try{const t=localStorage.getItem(Au);return t?JSON.parse(t):null}catch(t){return console.error("Failed to load incomplete exercise session:",t),null}}function g0(t){return t.filter(e=>e.isComplete).sort((e,n)=>(n.endTime||0)-(e.endTime||0))}function ru(t,e){const n=e.filter(o=>o.isComplete&&o.endTime).sort((o,a)=>(a.endTime||0)-(o.endTime||0));for(const o of n){const a=o.exercises.find(l=>l.name===t);if(a&&a.sets.length>0)return{sets:a.sets.map(l=>({weight:l.weight,reps:l.reps})),date:o.endTime||0}}return null}function Op(t,e,n=5){const o=e.filter(l=>l.isComplete&&l.endTime).sort((l,u)=>(u.endTime||0)-(l.endTime||0)),a=[];for(const l of o){if(a.length>=n)break;const u=l.exercises.find(d=>d.name===t);u&&u.sets.length>0&&a.push({sets:u.sets.map(d=>({weight:d.weight,reps:d.reps})),date:l.endTime||0,workoutName:l.name})}return a}function Wa(t){const n=Date.now()-t,o=Math.floor(n/6e4),a=Math.floor(n/36e5),l=Math.floor(n/864e5),u=Math.floor(n/6048e5);return o<60?`${o}m ago`:a<24?`${a}h ago`:l<7?`${l}d ago`:`${u}w ago`}function $a(t){const n=Date.now()-t,o=Math.floor(n/6e4),a=Math.floor(n/36e5),l=Math.floor(n/864e5),u=Math.floor(n/6048e5),d=Math.floor(n/2592e6),p=Math.floor(n/31536e6);return o<1?"just now":o===1?"1 minute ago":o<60?`${o} minutes ago`:a===1?"1 hour ago":a<24?`${a} hours ago`:l===1?"1 day ago":l<7?`${l} days ago`:u===1?"1 week ago":u<4?`${u} weeks ago`:d===1?"1 month ago":d<12?`${d} months ago`:p===1?"1 year ago":`${p} years ago`}function Va(t){const e=new Date(t),n=new Date,o=new Date(n);return o.setDate(o.getDate()-1),e.toDateString()===n.toDateString()?"Today":e.toDateString()===o.toDateString()?"Yesterday":e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}const y0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdBSURBVHgB7d2/j1VVFMXxg6HzWQ9TgkOpYqmBkmQwlv4nNBCNhdFoTEz0r2ESSiZQMmrJkxr7scZsAplfzNybwLt77b2+n4SeTO66Z717z9n30vbW1ZcDMPXBAIwRAFgjALBGAGCNAMAaAYA1AgBrBADWCACsEQBYIwCwRgBgjQDAGgGANQIAawQA1ggArBEAWCMAsEYAYI0AwBoBgDUCAGsEANYIAKwRAFgjALBGAGCNAMAaAYA1AgBrBADWCACsEQBYIwCwdnmI27n+8VitPhzQdXj431g/+2dUJB+AH3/6fly5sjWg65effysbAOkKdOPzT7n4Czh4+teoSjoAu7u3B7S9ePHvq39Vya8A0Fb57h9kA0D9qeHggABsBPWnBlaADaH+6Kve/4NkAKg/NVS/+wfJAFB/atjffzKqk10BoK/qy6/j5AJw89aX1J8C1uvn5ft/0AvAzS8G9HW4+wfJFQD6OvT/IBWAuPjZ+VkDK8AGUH9q6NL/g9wKAH0HT/8cXcgEgPpTx8HB36MLnQBQf8pgBdgA6k8N0f/jCGQXEgGg/tTR6e4fNAJA/Smjy/P/N9IDsFqtxu4dNr9V0eX5/xvpAbh5i7t/FbH9uVP/D/kBoP6UsV73uvuH1ABE/eHpTx3d+n9IDQD1p5Zu/T/kBoD6U0bH/h/SAkD9qaX6+JPzpM0GvbK9NfYePByK4v9248byxzLjR+b62fOhqGP/D5e2t66+HDjh3v27Ke8mvvv2h7H/6PHAcvg+wFvESPYM3bYZVEAATon6s7NzbSyt2yazKgjAKRndP3D3z0EATkkLQKNDJpUQgFOyhnKxAuQgAMdE/88YytX1JVMF8t8IW1JW/ZmzySzrY4Gx/aFzOAnAMVkBmPOS6fc/fl08AIeHh+Prr74ZnVGBjsnq/1ObzOL/lXH37zD+fAoBeG3n+jXZ/r+zk/RizuDJFAF4Lesim9P/s3bNsgIYybrI5vT/jGoW/b/jCbDTCMBreft/Lr7L5r2X6H/3DwRg5Pb/KcpPpjogACMuss9GhjmHTNLeTYieS3jfCMCIi+yTkWEqAHFqLqMCxehzh/4fCMCInp20AkxUoKhmGToefj+PfQDiIlN9yaT8ZKoL+wBk9f85F1nauwmT/h/sA5B1l53q2PT/ZVCBEp7/x0sm1f7v8vz/DesAZG0ym1Mx0rY/NJ3/cx7rAGR17HnbHzSfTHVjHQDVTWbR/zMmU0T/7/L507m8V4Ck/j/1I5P9P8uxDYDyIRPVN9Md+QZAePwJ/X85BGBhUxdZ5mQ6t/4frCvQ0ub0/7y3vz4vv46zDIDyj0z2/yzLMwDCh0yyTqaxAhhRPWRC/1+eXQCUN5mljT8xnktqFwDlQyZ5+398J1PbBYDxJ2exAhjJqxnTz/8zJlO4f5nGKgCZ/X/qRyZfpslhFQDl5//M/8nhFQDhTWaqk6m7M1sBNDeZ8WWaPDYBUD5kovxlmu5sAsD+n7Pc+3/wCUBS/2f/jzajFSCn/09dZMpfpnFgEQDlTWZ5nz/yO/31NhYBUD5kwvyfXBYB0N7/w/nfTB4rwHXNbcbKk6ldtA9AZv+f+pGp/GUaF+0DoLzJjPk/+QjAhqjO/5kzmdpJ/wCIHjLJ6v9OH7+Yo3UAlA+ZKH+ZxknrACj3f9Uv07ghABuguv+H/n9W7wCIHjJRnkztpm0AlDeZ5e3/8R1/cp6+Acja/7MW3v/DCnBG2wAw/+ekOZOpHV0eTeXt/7n4Lpv1uyTcu393KIo303sPHo4MLQOQ2f+nZD2ZijPRu3duD0WZWzNaViDlQyZZAVC2/+jxyNIyAMqHTDIrkKK4+DOPZrYMgOohEy7+s7K3ZrQLgPIhk6yVSVlm/QntAqC8ySzrt4mq7PoTGgYg55DJ1DP2rMnUyhR2pvYLgOghk6wv06iKv1l2/QmtApC1yWzOIRP6/0n7j55IDOZqFYCsjq08/kSVysGcVgFQPWSSNZlalUr9Cb1WANFDJvz4PSnqj4o2AVA+ZJL1ZEqV0rnkPgFg/EkJSvUnEIB3NLUC0P9PUqo/oVUFWtqcQyb0/5PUxrK0CACfP6pBrf6EHgFg/EkJavUnEIB3MPUGOGsytSrFqXTlA5C1ySw+fTTV/9n9eST+Xmr1J5QPQNYmM+XPHylSHclSPgCMP6lhby9n6sOU+itA2gfwpvt/xmQKRVF/WAE2QLn/M/3hiPJEutIByOr/yvN/FKnWn1A6AIw/0adcf0LpAKiOP6H/H1EfyFs2AFmbzOKOFv8uQv05olx/wqXtrasvR0GvApDwGyDOsU69A4hgrj5aDeivAGUDALwP7T+TClyEAMAaAYA1AgBrBADWCACsEQBYIwCwRgBgjQDAGgGANQIAawQA1ggArBEAWCMAsEYAYI0AwBoBgDUCAGsEANYIAKwRAFgjALBGAGCNAMAaAYA1AgBrBADWCACsEQBYIwCwRgBgjQDAGgGAtf8Bf18WG0fiqyAAAAAASUVORK5CYII=",Xm="workout_logs_templates";function ld(){try{const t=localStorage.getItem(Xm);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load templates:",t),[]}}function cd(t){try{localStorage.setItem(Xm,JSON.stringify(t))}catch(e){console.error("Failed to save templates:",e)}}function Ip(t){const e=ld(),n=e.findIndex(o=>o.id===t.id);n>=0?e[n]=t:e.push(t),cd(e)}function v0(t){const n=ld().filter(o=>o.id!==t);cd(n)}function Me(t){return t.trim().toLowerCase().replace(/\s+/g," ")}const Zm="user_exercises_v1";function Ho(){try{const t=localStorage.getItem(Zm);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e.filter(n=>n&&typeof n=="object"&&typeof n.id=="string"&&typeof n.name=="string"&&n.source==="user"&&typeof n.createdAt=="number"):[]}catch(t){return console.error("[ExerciseDB] Error loading user exercises:",t),[]}}function w0(t){try{localStorage.setItem(Zm,JSON.stringify(t))}catch(e){console.error("[ExerciseDB] Error saving user exercises:",e)}}function x0(t){const e=t.trim();if(!e)throw new Error("Exercise name cannot be empty");const n=Me(e),o=Ho();if(o.find(u=>Me(u.name)===n))throw new Error(`Exercise "${e}" already exists`);const l={id:`usr:${crypto.randomUUID()}`,name:e,createdAt:Date.now(),source:"user",primaryMuscles:void 0,secondaryMuscles:void 0,equipment:void 0,category:void 0};return o.push(l),w0(o),l}const eg="exercise.aliases";function ud(t){return t.trim().toLowerCase().replace(/\s+/g," ")}function tg(){try{const t=localStorage.getItem(eg);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:[]}return[]}catch(t){return console.error("[ExerciseAlias] Failed to load aliases:",t),[]}}function b0(t){try{localStorage.setItem(eg,JSON.stringify(t))}catch(e){console.error("[ExerciseAlias] Failed to save aliases:",e)}}function Ha(t,e,n="manual"){const o=ud(e),a={id:`alias_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,exerciseId:t,alias:e.trim(),normalizedAlias:o,source:n,createdAt:Date.now()},l=tg(),u=l.find(d=>d.exerciseId===t&&d.normalizedAlias===o);return u||(l.push(a),b0(l),a)}function dd(t){return tg().filter(n=>n.exerciseId===t)}function S0(t){const e=ud(t),n=[],o={bb:"barbell",db:"dumbbell",kb:"kettlebell",bw:"bodyweight",ohp:"overhead press",rdl:"romanian deadlift"};for(const[l,u]of Object.entries(o))e.includes(u)&&n.push(l);const a=e.replace(/\s+/g,"");return a!==e&&n.push(a),n}function Mp(t,e){if(dd(t).length>0)return;const o=S0(e);for(const a of o)Ha(t,a,"system")}function _0(t,e){const n=ud(t);dd(e).some(l=>l.normalizedAlias===n)||Ha(e,t,"learned")}const qo={deadlift:["Deadlift","Barbell Deadlift"],squat:["Squat","Barbell Squat","Back Squat"],"bench press":["Bench Press","Barbell Bench Press"],"overhead press":["Overhead Press","Barbell Overhead Press","OHP"],row:["Barbell Row","Bent-Over Row"],pulldown:["Lat Pulldown","Lat Pull-down"],"pull-up":["Pull-up","Pull Up","Chin-up"]},fd=["band","bands","chain","chains","axle","car","reverse band","rickshaw","leverage","trap bar","hex bar","safety bar","cambered","swiss bar","football bar","ez bar","cable","smith","hack","belt","suit","brief","sling"];function k0(t){const e=Me(t);return fd.some(n=>e.includes(Me(n)))}function E0(t){const e=Me(t);return fd.some(n=>e.includes(Me(n)))}function C0(t,e){const n=Me(e),o=Me(t.name);for(const[a,l]of Object.entries(qo))if((n.includes(a)||a.includes(n))&&l.some(u=>Me(u)===o))return!0;if("isAnchor"in t&&t.isAnchor===!0){const a=hd(t.name);if(Me(a)===n)return!0}return!1}function hd(t){let e=t;for(const n of fd){const o=new RegExp(`\\b${n}\\b`,"gi");e=e.replace(o,"").trim()}return e.replace(/\s+/g," ").trim()}function N0(t,e){const n=Me(t);for(const[a,l]of Object.entries(qo))if(n===Me(a)||n.includes(a)||a.includes(n))for(const u of l){const d=e.find(p=>Me(p.name)===Me(u));if(d)return d}const o=e.filter(a=>"isAnchor"in a&&a.isAnchor===!0);for(const a of o){const l=hd(a.name);if(Me(l)===n)return a}return null}function Dp(t){for(const e of t){if(e.source!=="system")continue;const n=Me(e.name);for(const[o,a]of Object.entries(qo))if(a.some(u=>Me(u)===n)){Ha(e.id,o,"system");const u=hd(e.name);u!==e.name&&Me(u)!==n&&Ha(e.id,u,"system")}}}function Lp(t,e){return E0(e)?0:k0(t.name)?-50:0}const j0="/".replace(/\/$/,""),A0=`${j0}/exercises/systemExercises.json`,Cr=[{id:"sys:bench-press",name:"Bench Press",bodyPart:"chest",target:"chest",equipment:["barbell"],primaryMuscles:["chest"],secondaryMuscles:[],source:"system"},{id:"sys:squat",name:"Squat",bodyPart:"legs",target:"legs",equipment:["barbell"],primaryMuscles:["legs"],secondaryMuscles:[],source:"system"},{id:"sys:deadlift",name:"Deadlift",bodyPart:"back",target:"back",equipment:["barbell"],primaryMuscles:["back"],secondaryMuscles:[],source:"system"},{id:"sys:overhead-press",name:"Overhead Press",bodyPart:"shoulders",target:"shoulders",equipment:["barbell"],primaryMuscles:["shoulders"],secondaryMuscles:[],source:"system",isAnchor:!0},{id:"sys:barbell-row",name:"Barbell Row",bodyPart:"back",target:"back",equipment:["barbell"],primaryMuscles:["back"],secondaryMuscles:[],source:"system",isAnchor:!0},{id:"sys:pull-up",name:"Pull-up",bodyPart:"back",target:"back",equipment:["body weight"],primaryMuscles:["back"],secondaryMuscles:[],source:"system",isAnchor:!0},{id:"sys:push-up",name:"Push-up",bodyPart:"chest",target:"chest",equipment:["body weight"],primaryMuscles:["chest"],secondaryMuscles:[],source:"system"},{id:"sys:dip",name:"Dip",bodyPart:"triceps",target:"triceps",equipment:["body weight"],primaryMuscles:["triceps"],secondaryMuscles:[],source:"system"},{id:"sys:chin-up",name:"Chin-up",bodyPart:"biceps",target:"biceps",equipment:["body weight"],primaryMuscles:["biceps"],secondaryMuscles:[],source:"system"},{id:"sys:leg-press",name:"Leg Press",bodyPart:"legs",target:"legs",equipment:["machine"],primaryMuscles:["legs"],secondaryMuscles:[],source:"system"},{id:"sys:leg-curl",name:"Leg Curl",bodyPart:"legs",target:"legs",equipment:["machine"],primaryMuscles:["legs"],secondaryMuscles:[],source:"system"},{id:"sys:leg-extension",name:"Leg Extension",bodyPart:"legs",target:"legs",equipment:["machine"],primaryMuscles:["legs"],secondaryMuscles:[],source:"system"},{id:"sys:lateral-raise",name:"Lateral Raise",bodyPart:"shoulders",target:"shoulders",equipment:["dumbbell"],primaryMuscles:["shoulders"],secondaryMuscles:[],source:"system"},{id:"sys:bicep-curl",name:"Bicep Curl",bodyPart:"biceps",target:"biceps",equipment:["dumbbell"],primaryMuscles:["biceps"],secondaryMuscles:[],source:"system"},{id:"sys:tricep-extension",name:"Tricep Extension",bodyPart:"triceps",target:"triceps",equipment:["dumbbell"],primaryMuscles:["triceps"],secondaryMuscles:[],source:"system"},{id:"sys:shoulder-press",name:"Shoulder Press",bodyPart:"shoulders",target:"shoulders",equipment:["dumbbell"],primaryMuscles:["shoulders"],secondaryMuscles:[],source:"system"},{id:"sys:chest-fly",name:"Chest Fly",bodyPart:"chest",target:"chest",equipment:["dumbbell"],primaryMuscles:["chest"],secondaryMuscles:[],source:"system"},{id:"sys:lunges",name:"Lunges",bodyPart:"legs",target:"legs",equipment:["body weight"],primaryMuscles:["legs"],secondaryMuscles:[],source:"system"},{id:"sys:plank",name:"Plank",bodyPart:"core",target:"core",equipment:["body weight"],primaryMuscles:["core"],secondaryMuscles:[],source:"system"},{id:"sys:crunches",name:"Crunches",bodyPart:"core",target:"core",equipment:["body weight"],primaryMuscles:["core"],secondaryMuscles:[],source:"system"},{id:"sys:russian-twist",name:"Russian Twist",bodyPart:"core",target:"core",equipment:["body weight"],primaryMuscles:["core"],secondaryMuscles:[],source:"system"},{id:"sys:romanian-deadlift",name:"Romanian Deadlift",bodyPart:"legs",target:"legs",equipment:["barbell"],primaryMuscles:["legs"],secondaryMuscles:[],source:"system"},{id:"sys:front-squat",name:"Front Squat",bodyPart:"legs",target:"legs",equipment:["barbell"],primaryMuscles:["legs"],secondaryMuscles:[],source:"system"},{id:"sys:incline-bench-press",name:"Incline Bench Press",bodyPart:"chest",target:"chest",equipment:["barbell"],primaryMuscles:["chest"],secondaryMuscles:[],source:"system"}];function T0(t){if(typeof t=="string"){const e=t.trim();if(!e)return null;const n=Me(e);let o=!1;for(const[a,l]of Object.entries(qo))if(l.some(u=>Me(u)===n)){o=!0;break}return{id:`sys:${n}`,name:e,primaryMuscles:[],secondaryMuscles:[],equipment:[],source:"system",force:void 0,mechanic:void 0,level:void 0,isAnchor:o}}if(t&&typeof t=="object"&&t.name&&typeof t.name=="string"){const e=t.name.trim();if(!e)return null;const n=Me(e),o={id:t.id&&typeof t.id=="string"?t.id:`sys:${n}`,name:e,primaryMuscles:[],secondaryMuscles:[],equipment:[],source:"system",force:void 0,mechanic:void 0,level:void 0,isAnchor:!1};for(const[a,l]of Object.entries(qo))if(l.some(u=>Me(u)===n)){o.isAnchor=!0;break}if(t.bodyPart&&(o.bodyPart=typeof t.bodyPart=="string"?t.bodyPart:String(t.bodyPart)),t.target){const a=typeof t.target=="string"?t.target:String(t.target);o.target=a,o.primaryMuscles=[a]}return t.primaryMuscles&&(o.primaryMuscles=Array.isArray(t.primaryMuscles)?t.primaryMuscles.map(String):[String(t.primaryMuscles)]),t.equipment&&(o.equipment=Array.isArray(t.equipment)?t.equipment.map(String):[String(t.equipment)]),t.secondaryMuscles&&(o.secondaryMuscles=Array.isArray(t.secondaryMuscles)?t.secondaryMuscles.map(String):[String(t.secondaryMuscles)]),t.category&&(o.category=typeof t.category=="string"?t.category:String(t.category)),t.aliases&&(o.aliases=Array.isArray(t.aliases)?t.aliases.map(String).filter(Boolean):[]),t.instructions&&(o.instructions=Array.isArray(t.instructions)?t.instructions.map(String).filter(Boolean):[]),t.force&&(o.force=typeof t.force=="string"?t.force:String(t.force)),t.mechanic&&(o.mechanic=typeof t.mechanic=="string"?t.mechanic:String(t.mechanic)),t.level&&(o.level=typeof t.level=="string"?t.level:String(t.level)),o}return null}async function $p(){const t=A0;try{const e=await fetch(t,{cache:"no-store"}),n=e.headers.get("content-type")||"";if(n.includes("text/html")){const d=(await e.text()).substring(0,200);return console.error(`[ExerciseDB] systemExercises.json is missing or service worker returned HTML.
  URL: ${t}
  Status: ${e.status} ${e.statusText}
  Content-Type: ${n}
  Response preview: ${d}
  Using fallback list of ${Cr.length} exercises.`),Cr}if(!e.ok){const d=(await e.text()).substring(0,200);return console.error(`[ExerciseDB] Failed to load systemExercises.json.
  URL: ${t}
  Status: ${e.status} ${e.statusText}
  Content-Type: ${n}
  Response preview: ${d}
  Using fallback list of ${Cr.length} exercises.`),Cr}if(!n.includes("application/json")){const d=(await e.text()).substring(0,200);return console.error(`[ExerciseDB] systemExercises.json is not valid JSON.
  URL: ${t}
  Status: ${e.status} ${e.statusText}
  Content-Type: ${n}
  Response preview: ${d}
  Using fallback list of ${Cr.length} exercises.`),Cr}const o=await e.json();let a=[];Array.isArray(o)?a=o:o.exercises&&Array.isArray(o.exercises)?a=o.exercises:o.results&&Array.isArray(o.results)&&(a=o.results);const l=[];for(const u of a){const d=T0(u);d&&l.push(d)}return l.length===0?(console.error(`[ExerciseDB] systemExercises.json is empty or contains no valid exercises.
  URL: ${t}
  Parsed array length: ${a.length}
  Using fallback list of ${Cr.length} exercises.`),Cr):l}catch(e){return console.error(`[ExerciseDB] Error loading systemExercises.json:
  URL: ${t}
  Error: ${e instanceof Error?e.message:String(e)}
  Using fallback list of ${Cr.length} exercises.`),Cr}}const rg="exercise.usage.stats";function ng(){try{const t=localStorage.getItem(rg);if(t){const e=JSON.parse(t);return typeof e=="object"&&e!==null?e:{}}return{}}catch(t){return console.error("[ExerciseUsageStats] Failed to load stats:",t),{}}}function R0(t){try{localStorage.setItem(rg,JSON.stringify(t))}catch(e){console.error("[ExerciseUsageStats] Failed to save stats:",e)}}function Up(t,e){if(!t)return;const n=ng(),o=n[t]||{useCount:0};n[t]={useCount:o.useCount+1,lastUsedAt:Date.now(),lastUsedInWorkoutTemplateId:o.lastUsedInWorkoutTemplateId},R0(n)}function sg(t){return ng()[t]||null}function Tu(t){const e=sg(t);if(!e)return 0;const n=(Date.now()-e.lastUsedAt)/(1e3*60*60*24),o=Math.exp(-n/30),a=Math.log(1+e.useCount);return o+.3*a}function P0(t,e){return 0}const og="exercise.search.affinity",Fp=5,ig=10;function ag(){try{const t=localStorage.getItem(og);if(t){const e=JSON.parse(t);return typeof e=="object"&&e!==null?e:{}}return{}}catch(t){return console.error("[ExerciseAffinity] Failed to load affinities:",t),{}}}function O0(t){try{localStorage.setItem(og,JSON.stringify(t))}catch(e){console.error("[ExerciseAffinity] Failed to save affinities:",e)}}function zp(t,e){if(!t.trim()||!e)return;const n=lg(t),o=ag(),a=o[n]||[],l=a.findIndex(u=>u.exerciseId===e);if(l>=0){a[l]={exerciseId:e,score:Math.min(a[l].score+1,ig),lastChosenAt:Date.now()};const u=[a[l],...a.filter((d,p)=>p!==l)];o[n]=u.slice(0,Fp)}else{const d=[{exerciseId:e,score:1,lastChosenAt:Date.now()},...a].slice(0,Fp);o[n]=d}O0(o)}function lg(t){return t.trim().toLowerCase().replace(/\s+/g," ")}function I0(t){if(!t.trim())return[];const e=lg(t);return ag()[e]||[]}function Ru(t,e){const o=I0(t).find(a=>a.exerciseId===e);return o?Math.min(o.score/ig,1):0}function rt(t){return t.trim().toLowerCase().replace(/\s+/g," ").replace(/[^\w\s]/g,"")}function Bp(t){return t.split(/\s+/).filter(Boolean)}function cg(t,e){const n=rt(t),o=rt(e);if(o===n)return 1;if(o.startsWith(n))return .8;if(o.includes(n))return .5;const a=Bp(n),l=Bp(o);if(a.length===0||l.length===0)return 0;const u=a.filter(y=>l.includes(y)),d=new Set([...a,...l]),p=u.length/d.size,g=M0(n,o);return Math.max(p,g)}function M0(t,e){const o=D0(t,e);return o>3?0:Math.max(0,.6-o*.2)}function D0(t,e){if(Math.abs(t.length-e.length)>3)return 999;const n=t.length,o=e.length,a=[];for(let l=0;l<=n;l++)a[l]=[l];for(let l=0;l<=o;l++)a[0][l]=l;for(let l=1;l<=n;l++)for(let u=1;u<=o;u++)t[l-1]===e[u-1]?a[l][u]=a[l-1][u-1]:a[l][u]=Math.min(a[l-1][u]+1,a[l][u-1]+1,a[l-1][u-1]+1);return a[n][o]}function L0(t,e){if(!e||e.length===0)return 0;let n=0;for(const o of e){const a=cg(t,o);n=Math.max(n,a)}return n}const ka={USAGE:.4,CONTEXT:.2,AFFINITY:.3,TEXT:.1};function $0(t){return Tu(t)}function U0(t,e){return P0()}function F0(t,e){return Ru(t,e)}function z0(t,e){const n=cg(t,e.name),a=dd(e.id).map(u=>u.alias);e.aliases&&a.push(...e.aliases);const l=L0(t,a);return Math.max(n,l)}function nu(t,e,n){const o=$0(t.id),a=U0(t.id),l=F0(e,t.id),u=z0(e,t);return ka.USAGE*o+ka.CONTEXT*a+ka.AFFINITY*l+ka.TEXT*u}let Do=[],Ko=[],Pu=!1;async function B0(){try{Do=await $p(),Ko=Ho(),Dp(Do),Pu=!0}catch(t){console.error("[ExerciseDB] Error initializing:",t),Do=await $p(),Ko=Ho(),Dp(Do),Pu=!0}}function ug(){Pu||(Ko=Ho());const t=new Map;for(const e of Do){const n=Me(e.name);t.has(n)||t.set(n,e)}for(const e of Ko){const n=Me(e.name);t.get(n)?e.aliases&&e.aliases.length>0&&t.set(n,e):t.set(n,e)}return Array.from(t.values())}function Hn(t){const e=t.trim();if(!e)throw new Error("Exercise name cannot be empty");const n=Me(e),a=ug().find(u=>Me(u.name)===n);if(a)return a;const l=x0(e);return Ko=Ho(),l}function Fo(){return ug()}async function W0(){return B0()}function V0({unfinishedWorkout:t,incompleteExerciseSession:e,workoutTemplates:n,theme:o,onThemeChange:a,onUnitChange:l,onCreateTemplate:u,onViewTemplate:d,onStartTemplate:p,onQuickStart:g,onLogExercise:y,onResumeWorkout:x,onResumeExercise:w,onDiscardWorkout:b,onDiscardExercise:_,onOpenSettings:k}){const[E,j]=S.useState(0);return S.useEffect(()=>{if(!(e!=null&&e.restTimerStart)){j(0);return}const C=setInterval(()=>{const R=Math.floor((Date.now()-e.restTimerStart)/1e3);j(R)},1e3);return()=>clearInterval(C)},[e==null?void 0:e.restTimerStart]),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto p-5 space-y-6",children:[h.jsxs("div",{className:"pt-4 pb-2 flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1 flex items-start gap-4",children:[h.jsx("img",{src:y0,alt:"Training Ledger",className:"rounded-2xl flex-shrink-0",style:{height:"calc(1.875rem + 1.25rem + 0.5rem)"}}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h1",{className:"text-3xl mb-2",children:"Training Ledger"}),h.jsx("p",{className:"text-text-muted",style:{marginTop:"-10px"},children:"Track training without the noise"})]})]}),h.jsx("button",{onClick:k,className:"p-2 rounded-xl hover:bg-panel transition-colors text-text-muted hover:text-text-primary","aria-label":"Settings",title:"Settings",children:h.jsx(Jm,{className:"w-5 h-5"})})]}),(t||e)&&h.jsxs("div",{className:"space-y-3",children:[h.jsx("h2",{className:"text-xs uppercase tracking-wide text-text-muted px-1",children:"In Progress"}),t&&h.jsx(Gt,{gradient:!0,className:"border-accent/20",onClick:x,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"mb-1 truncate",children:t.name}),h.jsxs("p",{className:"text-text-muted",children:[t.exercises.length," ",t.exercises.length===1?"exercise":"exercises","  Started ",Wa(t.startTime)]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:C=>{C.stopPropagation(),confirm("Discard this workout session? This cannot be undone.")&&b()},className:"p-2 rounded-lg border border-border-subtle hover:bg-surface/50 text-text-muted hover:text-danger hover:border-danger/30 transition-colors",title:"Discard workout",children:h.jsx(Vo,{className:"w-4 h-4"})}),h.jsx(Ve,{variant:"primary",size:"sm",onClick:C=>{C.stopPropagation(),x()},children:"Resume"})]})]})}),e&&h.jsx(Gt,{gradient:!0,className:"border-accent/20",onClick:w,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"mb-1 truncate",children:e.exerciseName}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("p",{className:"text-text-muted",children:[e.sets.length," ",e.sets.length===1?"set":"sets"," logged"]}),E>0&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-text-muted/40",children:""}),h.jsxs("p",{className:"text-text-muted/60 tabular-nums text-sm",children:[Math.floor(E/60),":",(E%60).toString().padStart(2,"0")," since last set"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:C=>{C.stopPropagation(),confirm("Discard this exercise session? This cannot be undone.")&&_()},className:"p-2 rounded-lg border border-border-subtle hover:bg-surface/50 text-text-muted hover:text-danger hover:border-danger/30 transition-colors",title:"Discard exercise session",children:h.jsx(Vo,{className:"w-4 h-4"})}),h.jsx(Ve,{variant:"primary",size:"sm",onClick:C=>{C.stopPropagation(),w()},children:"Resume"})]})]})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h2",{className:"text-xs uppercase tracking-wide text-text-muted px-1",children:"Log"}),h.jsx(Gt,{onClick:y,gradient:!0,children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent/10 flex items-center justify-center",children:h.jsx(Vn,{className:"w-6 h-6 text-accent"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"mb-0.5",children:"Record exercise"}),h.jsx("p",{className:"text-text-muted",children:"Single entry without a session"})]})]})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between px-1",children:[h.jsx("h2",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Saved"}),h.jsxs("button",{onClick:u,className:"text-accent hover:text-accent/80 transition-colors flex items-center gap-1.5",children:[h.jsx(Tp,{className:"w-4 h-4"}),h.jsx("span",{children:"Add"})]})]}),n.length===0?h.jsxs(Gt,{className:"text-center py-8",children:[h.jsx("p",{className:"text-text-muted mb-4",children:"No saved workouts yet"}),h.jsxs(Ve,{variant:"neutral",size:"sm",onClick:u,children:[h.jsx(Tp,{className:"w-4 h-4 mr-2 inline"}),"Add Workout"]})]}):h.jsx("div",{className:"space-y-2",children:n.map(C=>h.jsx(Gt,{gradient:!0,className:"group",onClick:()=>d(C.id),children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"mb-0.5 truncate",children:C.name}),h.jsxs("p",{className:"text-text-muted",children:[C.exerciseNames.length," ",C.exerciseNames.length===1?"exercise":"exercises"]})]}),h.jsxs(Ve,{variant:"primary",size:"sm",onClick:R=>{R.stopPropagation(),p(C.id)},children:[h.jsx(Wo,{className:"w-4 h-4 mr-1.5 inline"}),"Record"]})]})},C.id))})]}),!1]})})}function Br({title:t,onBack:e,rightAction:n}){return h.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-border-subtle bg-panel/80 backdrop-blur-sm sticky top-0 z-10",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e&&h.jsx("button",{onClick:e,className:"p-1.5 -ml-1.5 rounded-lg hover:bg-surface transition-colors","aria-label":"Go back",children:h.jsx(Ym,{className:"w-5 h-5"})}),t&&h.jsx("h1",{className:"text-lg truncate",children:t})]}),n&&h.jsx("div",{className:"ml-3",children:n})]})}const pd=S.forwardRef(({label:t,type:e="text",value:n,onChange:o,className:a="",icon:l,required:u,disabled:d,autoFocus:p,minLength:g,min:y,step:x,onKeyDown:w,...b},_)=>{const[k,E]=S.useState(!1),C=k||n!==void 0&&n!=="";return h.jsxs("div",{className:`relative ${a}`,children:[l&&h.jsx("div",{className:`absolute left-3 transition-all duration-200 pointer-events-none ${C?"top-[1.875rem]":"top-1/2 -translate-y-1/2"}`,children:h.jsx("div",{className:`w-5 h-5 flex items-center justify-center transition-colors ${k?"text-accent":"text-text-muted"}`,children:l})}),h.jsx("label",{className:`absolute transition-all duration-200 pointer-events-none ${l?"left-10":"left-4"} ${C?"top-2 text-xs text-accent":"top-1/2 -translate-y-1/2 text-base text-text-muted"}`,children:t}),h.jsx("input",{ref:_,type:e,value:n,onChange:o,onFocus:()=>E(!0),onBlur:()=>E(!1),onKeyDown:w,required:u,disabled:d,autoFocus:p,minLength:g,min:y,step:x,className:`w-full bg-surface border border-border-subtle rounded-lg 
            text-text-primary
            focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/30
            disabled:opacity-50 disabled:cursor-not-allowed
            transition-colors ${l?"pl-10 pr-4":"px-4"} ${C?"pt-6 pb-2":"py-4"}`,...b})]})});pd.displayName="FloatingLabelInput";function qn({isOpen:t,onClose:e,title:n,children:o}){const[a,l]=S.useState(!1),[u,d]=S.useState(0),[p,g]=S.useState(0),y=S.useRef(null),x=C=>{l(!0),d(C.touches[0].clientY),g(C.touches[0].clientY)},w=C=>{a&&g(C.touches[0].clientY)},b=()=>{e()},_=()=>{if(!a)return;l(!1),p-u>50&&b(),d(0),g(0)},k=C=>{l(!0),d(C.clientY),g(C.clientY)},E=C=>{a&&g(C.clientY)},j=()=>{if(!a)return;l(!1),p-u>50&&b(),d(0),g(0)};return S.useEffect(()=>{if(a)return document.addEventListener("mousemove",E),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",j)}},[a,p,u]),S.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-overlay backdrop-blur-sm z-40 animate-in fade-in duration-200",onClick:b}),h.jsxs("div",{ref:y,className:"fixed left-0 right-0 bg-panel border-t border-border-medium rounded-t-3xl shadow-2xl z-50 animate-in slide-in-from-bottom duration-300 flex flex-col",style:{bottom:"0",maxHeight:"90vh",height:"90vh",transform:a?`translateY(${Math.max(0,p-u)}px)`:"translateY(0)"},children:[h.jsx("div",{className:"w-full py-3 flex flex-col items-center cursor-grab active:cursor-grabbing touch-none select-none",onTouchStart:x,onTouchMove:w,onTouchEnd:_,onMouseDown:k,children:h.jsx("div",{className:"w-10 h-1 bg-border-medium rounded-full"})}),h.jsxs("div",{className:"flex items-center justify-between px-6 pb-4 border-b border-border-subtle flex-shrink-0",children:[h.jsx("h2",{className:"text-xl font-semibold",children:n}),h.jsx("button",{onClick:b,className:"p-2 -mr-2 rounded-lg hover:bg-surface transition-colors","aria-label":"Close",children:h.jsx(wn,{className:"w-5 h-5 text-text-muted"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:h.jsx("div",{className:"p-6 pb-6",children:o})})]})]}):null}const dg=S.forwardRef(({value:t,onChange:e,placeholder:n="Search exercises...",className:o="",autoFocus:a=!1},l)=>h.jsxs("div",{className:`relative ${o}`,children:[h.jsx(Xx,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),h.jsx("input",{ref:l,type:"text",placeholder:n,value:t,onChange:u=>e(u.target.value),autoFocus:a,className:`w-full pl-10 pr-4 py-2.5 bg-surface border border-border-subtle rounded-lg 
            text-text-primary placeholder:text-text-muted 
            focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/30
            transition-colors`})]}));dg.displayName="ExerciseSearchInput";function Io({exercises:t,onSelect:e,selectedExercises:n=[],showDetails:o=!1,emptyMessage:a="No exercises found",showSecondaryMuscles:l=!0,showCategory:u=!0}){let d=[];if(Array.isArray(t))d=t;else if(t&&typeof t=="object"){const p=t;Array.isArray(p.best)&&(d=[...p.best]),Array.isArray(p.related)&&(d=[...d,...p.related])}return Array.isArray(d)||(d=[]),d.length===0?h.jsx("div",{className:"py-8 text-center text-text-muted",children:h.jsx("p",{children:a})}):h.jsx("div",{className:"space-y-1",children:d.map(p=>{if(!p||typeof p!="object")return null;const g=p.name||"Unnamed Exercise",y=p.id||`exercise-${Math.random()}`,x=n.includes(g),w=Array.isArray(p.primaryMuscles)?p.primaryMuscles:[],b=Array.isArray(p.secondaryMuscles)?p.secondaryMuscles:[],_=Array.isArray(p.equipment)?p.equipment:[];return h.jsxs("button",{onClick:()=>e==null?void 0:e(p),disabled:x,className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${x?"opacity-50 cursor-not-allowed bg-surface/50":"hover:bg-surface"}`,children:[h.jsx("p",{className:"text-text-primary font-medium",children:g}),o&&h.jsxs("div",{className:"mt-1.5",children:[h.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[w.length>0?w.map((k,E)=>h.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-accent/10 text-accent",children:k},`primary-${E}`)):h.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-text-muted border border-border-subtle",children:""}),_.length>0?_.map((k,E)=>h.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-text-muted border border-border-subtle",children:k},`eq-${E}`)):h.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-text-muted border border-border-subtle",children:""})]}),l&&b.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1",children:b.map((k,E)=>h.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-text-muted border border-border-subtle",children:k},`secondary-${E}`))}),u&&p.category&&h.jsx("p",{className:"text-xs text-text-muted mt-1",children:p.category})]}),x&&h.jsx("span",{className:"text-text-muted text-sm ml-2",children:"(selected)"})]},y)})})}const Wp={chest:["chest","pectorals","pecs","pectoral"],pectorals:["chest","pectorals","pecs","pectoral"],pecs:["chest","pectorals","pecs","pectoral"],pectoral:["chest","pectorals","pecs","pectoral"],back:["lats","latissimus","back","upper back","lower back","traps","trapezius","rhomboids"],lats:["lats","latissimus","back"],latissimus:["lats","latissimus","back"],traps:["traps","trapezius","back"],trapezius:["traps","trapezius","back"],shoulders:["shoulders","delts","deltoids","deltoid"],delts:["shoulders","delts","deltoids","deltoid"],deltoids:["shoulders","delts","deltoids","deltoid"],deltoid:["shoulders","delts","deltoids","deltoid"],arms:["biceps","triceps","forearms","arms"],biceps:["biceps","bicep"],bicep:["biceps","bicep"],triceps:["triceps","tricep"],tricep:["triceps","tricep"],forearms:["forearms","forearm"],legs:["quadriceps","quads","hamstrings","hamstring","glutes","glute","calves","calf","legs"],quads:["quadriceps","quads","legs"],quadriceps:["quadriceps","quads","legs"],hamstrings:["hamstrings","hamstring","legs"],hamstring:["hamstrings","hamstring","legs"],glutes:["glutes","glute","legs"],glute:["glutes","glute","legs"],calves:["calves","calf","legs"],calf:["calves","calf","legs"],core:["abdominals","abs","core","obliques","oblique"],abs:["abdominals","abs","core"],abdominals:["abdominals","abs","core"],obliques:["obliques","oblique","core"],oblique:["obliques","oblique","core"]},Vp={barbell:["barbell","bb","bar"],dumbbell:["dumbbell","db","dumbbells"],cable:["cable","cables"],machine:["machine","machines"],"body weight":["body weight","bodyweight","bw","body only","no equipment"],bodyweight:["body weight","bodyweight","bw","body only","no equipment"],bw:["body weight","bodyweight","bw","body only","no equipment"],kettlebell:["kettlebell","kb","kettlebells"],smith:["smith","smith machine"]},H0={push:"push",pushing:"push",press:"push",pressing:"push",pull:"pull",pulling:"pull",row:"pull",rowing:"pull",curl:"pull",curling:"pull"},q0={compound:"compound",isolation:"isolation",isolated:"isolation"},K0={strength:"strength",stretching:"stretching",cardio:"cardio",olympic:"olympic",strongman:"strongman"};function G0(t){const e=rt(t),n=e.split(/\s+/).filter(Boolean),o={muscles:[],equipment:[]},a=new Set,l=new Set;for(const d of n){for(const[p,g]of Object.entries(Wp))(d.includes(p)||p.includes(d))&&g.forEach(y=>a.add(y));for(const[p,g]of Object.entries(Vp))(d===p||g.includes(d))&&g.forEach(y=>l.add(y));if(!o.force){for(const[p,g]of Object.entries(H0))if(d===p||d.includes(p)){o.force=g;break}}if(!o.mechanic){for(const[p,g]of Object.entries(q0))if(d===p||d.includes(p)){o.mechanic=g;break}}if(!o.category){for(const[p,g]of Object.entries(K0))if(d===p||d.includes(p)){o.category=g;break}}}const u=e;for(const[d,p]of Object.entries(Wp))u.includes(d)&&p.forEach(g=>a.add(g));for(const[d,p]of Object.entries(Vp))u.includes(d)&&p.forEach(g=>l.add(g));return o.muscles=Array.from(a),o.equipment=Array.from(l),o}function Y0(t,e){let n=0;const o=Array.isArray(t.equipment)?t.equipment.map(u=>rt(u)):t.equipment?[rt(t.equipment)]:[],a=(t.primaryMuscles||[]).map(u=>rt(u)),l=(t.secondaryMuscles||[]).map(u=>rt(u));if(e.muscles.length>0){const u=e.muscles.map(d=>rt(d));for(const d of u)if(a.some(p=>p.includes(d)||d.includes(p))){n+=3;break}for(const d of u)if(l.some(p=>p.includes(d)||d.includes(p))){n+=1;break}}if(e.equipment.length>0){const u=e.equipment.map(d=>rt(d));for(const d of u)if(o.some(p=>p===d||p.includes(d)||d.includes(p))){n+=2;break}}if(e.force&&"force"in t&&t.force){const u=rt(t.force),d=rt(e.force);u===d&&(n+=1)}if(e.mechanic&&"mechanic"in t&&t.mechanic){const u=rt(t.mechanic),d=rt(e.mechanic);u===d&&(n+=1)}if(e.category&&t.category){const u=rt(t.category),d=rt(e.category);u===d&&(n+=1)}return n}function Ou(t){const e=["bench press","squat","deadlift","overhead press","row","pull","curl","extension","press","raise","fly","pulldown","pullup","pull-up","dip","push-up","pushup","lunge","leg press","crunch","plank"],n=rt(t.name);for(const o of e)if(n.includes(o))return!0;return t.source==="system"&&t.mechanic==="compound"}function J0(t){return Ou(t)?.5:0}function Q0(t,e){const n=rt(e),o=Me(t.name);if(o===n||o.startsWith(n)||o.includes(n))return!0;const a=o.split(/\s+/),l=n.split(/\s+/),u=l.filter(d=>a.some(p=>p.includes(d)||d.includes(p)));if(u.length>0&&u.length===l.length)return!0;if(t.aliases)for(const d of t.aliases){const p=Me(d);if(p.includes(n)||n.includes(p))return!0}return!1}function X0(t,e,n){const o=rt(e);if(!o)return{matches:t.sort((b,_)=>{const k=nu(b,""),E=nu(_,"");return E!==k?E-k:Me(b.name).localeCompare(Me(_.name))}),related:[]};const a=G0(o),l=N0(o,t),u=[],d=[],p=new Set;for(const w of t)if(Q0(w,o)){let b=nu(w,o);l&&w.id===l.id?b+=100:C0(w,o)&&(b+=50);const _=Lp(w,o);b+=_,u.push({exercise:w,score:b,semanticScore:0}),p.add(w.id)}else{const b=Y0(w,a);if(b>0){const _=J0(w),k=Lp(w,o),E=b+_+k;d.push({exercise:w,score:0,semanticScore:E})}}u.sort((w,b)=>{const _=Tu(w.exercise.id),k=Tu(b.exercise.id),E=Ru(o,w.exercise.id),j=Ru(o,b.exercise.id),C=_*10+E*5,R=k*10+j*5;if(R!==C)return R-C;const I=l&&w.exercise.id===l.id,L=l&&b.exercise.id===l.id;return I!==L?I?-1:1:b.score!==w.score?b.score-w.score:Me(w.exercise.name).localeCompare(Me(b.exercise.name))});const g=u.slice(0,15).map(w=>w.exercise),y=g.length===0||g.length<5&&u.length<5;let x=[];return y&&d.length>0&&(d.sort((w,b)=>{if(b.semanticScore!==w.semanticScore)return b.semanticScore-w.semanticScore;const _=Ou(w.exercise),k=Ou(b.exercise);return _!==k?_?-1:1:Me(w.exercise.name).localeCompare(Me(b.exercise.name))}),x=d.slice(0,5).map(w=>w.exercise)),{matches:g,related:x}}const fg="exercise.search.recent",Z0=20;function Iu(t){return t.id||t.name.trim().toLowerCase()}function hg(){try{const t=localStorage.getItem(fg);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:[]}return[]}catch(t){return console.error("[ExerciseRecents] Failed to load recents:",t),[]}}function eb(t){try{localStorage.setItem(fg,JSON.stringify(t))}catch(e){console.error("[ExerciseRecents] Failed to save recents:",e)}}function tb(t){const e=Iu(t),o=hg().filter(l=>l!==e),a=[e,...o].slice(0,Z0);eb(a)}function rb(t,e=5,n){const o=hg(),a=new Map;t.forEach(d=>{const p=Iu(d);a.set(p,d)});const l=[];return o.forEach(d=>{const p=a.get(d);if(p){const g=n?n(Iu(p)):null;l.push({exercise:p,lastUsedAt:(g==null?void 0:g.lastUsedAt)||0,useCount:(g==null?void 0:g.useCount)||0})}}),l.sort((d,p)=>p.lastUsedAt!==d.lastUsedAt?p.lastUsedAt-d.lastUsedAt:p.useCount-d.useCount),l.slice(0,Math.min(e,7)).map(d=>d.exercise)}function nb(t,e){let n=0;const o=[],a=C=>C?C.map(R=>rt(R)):[],l=a(t.primaryMuscles),u=a(t.secondaryMuscles),d=a(t.equipment),p=t.force?rt(t.force):null,g=t.mechanic?rt(t.mechanic):null,y=a(e.primaryMuscles),x=a(e.secondaryMuscles),w=a(e.equipment),b=e.force?rt(e.force):null,_=e.mechanic?rt(e.mechanic):null,k=l.filter(C=>y.includes(C));k.length>0&&(n+=k.length*5,o.push(`${k.length} primary muscle${k.length>1?"s":""} match`));const E=u.filter(C=>x.includes(C));E.length>0&&(n+=E.length*2,o.push(`${E.length} secondary muscle${E.length>1?"s":""} match`));const j=d.filter(C=>w.includes(C));return j.length>0&&(n+=j.length*3,o.push(`${j.length} equipment match${j.length>1?"es":""}`)),p&&b&&p===b&&(n+=2,o.push("force match")),g&&_&&g===_&&(n+=2,o.push("mechanic match")),{exercise:e,score:n,reasons:o}}function sb(t,e,n=[]){const a=e.filter(l=>l.id!==t.id&&!n.includes(l.id)).map(l=>nb(t,l));return a.sort((l,u)=>u.score!==l.score?u.score-l.score:l.exercise.name.localeCompare(u.exercise.name)),a}const pg="exercise.swap.history",ob=100;function md(){try{const t=localStorage.getItem(pg);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("[SwapHistory] Error loading swap history:",t),[]}}function ib(t){try{const e=t.sort((n,o)=>o.timestamp-n.timestamp).slice(0,ob);localStorage.setItem(pg,JSON.stringify(e))}catch(e){console.error("[SwapHistory] Error saving swap history:",e)}}function ab(t,e,n,o){const a=md(),l={originalExerciseId:t,replacementExerciseId:e,timestamp:Date.now(),workoutInstanceId:n,slotId:o};a.push(l),ib(a)}function lb(t,e){const o=md().filter(a=>a.originalExerciseId===t&&a.replacementExerciseId===e).length;return o===0?0:o===1?3:o===2?5:o>=3?8:0}function cb(t){const e=md(),n=new Map;return e.filter(o=>o.originalExerciseId===t).forEach(o=>{const a=n.get(o.replacementExerciseId)||0;n.set(o.replacementExerciseId,a+1)}),n}function Kn({onSelectExercise:t,onAddNewExercise:e,selectedExercises:n=[],placeholder:o="Search exercises...",autoFocus:a=!1,showDetails:l=!0,createButtonLabel:u="Create & start",swapContext:d}){const[p,g]=S.useState(""),[y,x]=S.useState([]);S.useEffect(()=>{const F=()=>{const V=Fo();x(V)};F();const W=setTimeout(F,500);return()=>clearTimeout(W)},[]),S.useEffect(()=>{y.forEach(F=>{F.source==="system"&&Mp(F.id,F.name)})},[y.length]);const w=S.useMemo(()=>p.trim()?[]:rb(y,5,F=>{const W=sg(F);return W?{useCount:W.useCount,lastUsedAt:W.lastUsedAt}:null}),[y,p]),b=S.useMemo(()=>p.trim()?X0(y,p):{matches:[],related:[]},[p,y]),_=S.useMemo(()=>{if(!d)return[];if(p.trim().length>2)return[];const F=d.originalExercise,V=sb(F,y,[F.id]),se=cb(F.id),ye=V.map(fe=>{const re=lb(F.id,fe.exercise.id),ve=se.get(fe.exercise.id)||0,_e=fe.score+re*2+ve*1.5;return{...fe,score:_e}});return ye.sort((fe,re)=>re.score!==fe.score?re.score-fe.score:fe.exercise.name.localeCompare(re.exercise.name)),ye.slice(0,8).map(fe=>fe.exercise)},[d,y,p]),k=S.useMemo(()=>[...b.matches,...b.related],[b]),E=S.useMemo(()=>{if(!p.trim())return null;const F=p.trim().toLowerCase();return y.find(W=>W.name.toLowerCase()===F)||null},[y,p]);p.trim();const j=F=>{if(tb(F),Up(F.id),p.trim()){zp(p,F.id);const W=Me(p),V=Me(F.name);W!==V&&_0(p,F.id)}t(F.name)},C=()=>{const F=p.trim();if(!F||!e)return;const W=Me(F),se=Fo().find(re=>Me(re.name)===W);if(se){j(se);return}e(F);const ye=Fo();x(ye);const fe=ye.find(re=>Me(re.name)===W);fe&&(Mp(fe.id,fe.name),Up(fe.id),p.trim()&&zp(p,fe.id))},R=!p.trim(),I=b.matches.length>0||b.related.length>0,L=w.length>0;return h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"sticky top-0 z-10 bg-panel pb-3",style:{marginLeft:"-1.5rem",marginRight:"-1.5rem",paddingLeft:"1.5rem",paddingRight:"1.5rem"},children:h.jsx(dg,{value:p,onChange:g,placeholder:o,autoFocus:a})}),R?d&&_.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"px-4 py-1",children:h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Likely replacements"})}),h.jsx(Io,{exercises:_,onSelect:j,selectedExercises:n,showDetails:l,showSecondaryMuscles:!1,showCategory:!1,emptyMessage:""})]}):L?h.jsx("div",{className:"overflow-hidden",children:h.jsx(Io,{exercises:w,onSelect:j,selectedExercises:n,showDetails:l,showSecondaryMuscles:!1,showCategory:!1,emptyMessage:""})}):h.jsx("div",{className:"py-8 text-center text-text-muted",children:h.jsx("p",{className:"text-sm",children:"Start typing to search exercises"})}):h.jsx(h.Fragment,{children:I?h.jsxs(h.Fragment,{children:[b.matches.length>0&&h.jsx(Io,{exercises:b.matches,onSelect:j,selectedExercises:n,showDetails:l,showSecondaryMuscles:!1,showCategory:!1,emptyMessage:""}),b.related.length>0&&h.jsxs(h.Fragment,{children:[b.matches.length>0&&h.jsx("div",{className:"py-2",children:h.jsx("div",{className:"h-px bg-border-subtle"})}),h.jsx("div",{className:"px-4 py-1",children:h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Related"})}),h.jsx(Io,{exercises:b.related,onSelect:j,selectedExercises:n,showDetails:l,showSecondaryMuscles:!1,showCategory:!1,emptyMessage:""})]}),d&&p.trim().length<=2&&_.length>0&&h.jsxs(h.Fragment,{children:[(b.matches.length>0||b.related.length>0)&&h.jsx("div",{className:"py-2",children:h.jsx("div",{className:"h-px bg-border-subtle"})}),h.jsx("div",{className:"px-4 py-1",children:h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Likely replacements"})}),h.jsx(Io,{exercises:_,onSelect:j,selectedExercises:n,showDetails:l,showSecondaryMuscles:!1,showCategory:!1,emptyMessage:""})]}),!E&&k.length>0&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"py-2",children:h.jsx("div",{className:"h-px bg-border-subtle"})}),h.jsx("div",{className:"px-4 py-2",children:h.jsxs(Ve,{variant:"neutral",onClick:C,className:"w-full",children:['Add "',p.trim(),'" as New Exercise']})})]})]}):h.jsxs("div",{className:"py-8 text-center space-y-4",children:[h.jsx("div",{className:"text-text-muted",children:h.jsxs("p",{className:"mb-2",children:['No exercises found matching "',p,'"']})}),h.jsxs(Ve,{variant:"primary",onClick:C,className:"mx-auto",children:['Create "',p.trim(),'"']})]})})]})}function ub({initialName:t="",initialExercises:e=[],onSave:n,onDiscard:o}){const[a,l]=S.useState(t),[u,d]=S.useState(e),[p,g]=S.useState(!1),[y,x]=S.useState(null),w=I=>{if(I.trim()&&!u.includes(I.trim())){const L=I.trim();try{Hn(L)}catch{}d([...u,L]),g(!1)}},b=I=>{try{Hn(I)}catch{}w(I)},_=I=>{d(u.filter((L,F)=>F!==I))},k=I=>{x(I)},E=(I,L)=>{if(I.preventDefault(),y===null||y===L)return;const F=[...u],W=F[y];F.splice(y,1),F.splice(L,0,W),d(F),x(L)},j=()=>{x(null)},C=()=>{a.trim()&&u.length>0&&n(a.trim(),u)},R=a.trim()!==""&&u.length>0;return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(Br,{title:"Create Workout",onBack:o,rightAction:h.jsx(Ve,{size:"sm",variant:"primary",onClick:C,disabled:!R,children:"Save"})}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto p-5 space-y-4",children:[h.jsx(pd,{label:"Workout name",value:a,onChange:I=>l(I.target.value),autoFocus:!t,icon:h.jsx(id,{})}),u.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-text-muted mb-4",children:"No exercises yet"}),h.jsxs(Ve,{variant:"primary",onClick:()=>g(!0),children:[h.jsx(Vn,{className:"w-4 h-4 mr-2 inline"}),"Add Exercise"]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-xs uppercase tracking-wide text-text-muted px-1",children:["Exercises (",u.length,")"]}),u.map((I,L)=>h.jsxs("div",{draggable:!0,onDragStart:()=>k(L),onDragOver:F=>E(F,L),onDragEnd:j,className:`flex items-center gap-3 p-4 bg-surface rounded-xl border border-border transition-all cursor-grab active:cursor-grabbing ${y===L?"opacity-50":""}`,children:[h.jsx(ad,{className:"w-5 h-5 text-text-muted flex-shrink-0"}),h.jsx("span",{className:"flex-1",children:I}),h.jsx("button",{onClick:()=>_(L),className:"p-1.5 rounded-lg hover:bg-danger-muted text-text-muted hover:text-danger transition-colors",children:h.jsx(Vo,{className:"w-4 h-4"})})]},`${I}-${L}`)),h.jsxs(Ve,{variant:"neutral",onClick:()=>g(!0),className:"w-full",children:[h.jsx(Vn,{className:"w-4 h-4 mr-2 inline"}),"Add Exercise"]})]})]})}),h.jsx(qn,{isOpen:p,onClose:()=>{g(!1)},title:"Add Exercise",children:h.jsx(Kn,{onSelectExercise:w,onAddNewExercise:b,selectedExercises:u,placeholder:"Search exercises...",autoFocus:!0,showDetails:!0,createButtonLabel:"Create & add"})})]})}function db({template:t,lastSessionData:e,onBack:n,onStart:o,onEdit:a,onDelete:l,onSave:u}){const[d,p]=S.useState(!1),[g,y]=S.useState(!1),[x,w]=S.useState(t.name),[b,_]=S.useState(t.exerciseNames),[k,E]=S.useState(null),[j,C]=S.useState(!1),[R,I]=S.useState(!1),[L,F]=S.useState(null);S.useEffect(()=>{w(t.name),_([...t.exerciseNames])},[t.id]);const W=()=>{u&&u(x.trim(),b),y(!1)},V=()=>{w(t.name),_([...t.exerciseNames]),y(!1)},se=P=>{_(b.filter((D,H)=>H!==P))},ye=P=>{F(P),I(!0)},fe=P=>{if(L!==null){const D=[...b];D[L]=P,_(D),F(null),I(!1)}},re=P=>{const D=P.trim();if(D&&!b.includes(D)){try{Hn(D)}catch{}_([...b,D]),C(!1)}},ve=P=>{try{Hn(P)}catch{}re(P)},_e=P=>{E(P)},Ae=(P,D)=>{if(P.preventDefault(),k===null||k===D)return;const H=[...b],T=H[k];H.splice(k,1),H.splice(D,0,T),_(H),E(D)},ce=()=>{E(null)},te=()=>{o(b)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(Br,{title:g?x:t.name,onBack:g?V:n,rightAction:h.jsx("div",{className:"flex items-center gap-1",children:g?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>p(!0),className:"p-2 -mr-2 rounded-lg hover:bg-surface transition-colors text-text-muted hover:text-danger",children:h.jsx(Vo,{className:"w-5 h-5"})}),h.jsx("button",{onClick:W,className:"p-2 -mr-2 rounded-lg hover:bg-surface transition-colors text-accent",children:h.jsx(tl,{className:"w-5 h-5"})})]}):h.jsx("button",{onClick:()=>y(!0),className:"p-2 -mr-2 rounded-lg hover:bg-surface transition-colors text-text-muted hover:text-text-primary",children:h.jsx(Gx,{className:"w-5 h-5"})})})}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto p-5 space-y-4",children:[g&&h.jsx(pd,{label:"Workout name",value:x,onChange:P=>w(P.target.value),autoFocus:!1,icon:h.jsx(id,{})}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-xs uppercase tracking-wide text-text-muted px-1",children:["Exercises (",g?b.length:t.exerciseNames.length,")"]}),(g?b:t.exerciseNames).map((P,D)=>{const H=e.get(P);return h.jsx(Gt,{gradient:!0,className:g?"cursor-pointer":"",onClick:g?()=>ye(D):void 0,children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[g&&h.jsx("div",{draggable:!0,onDragStart:()=>_e(D),onDragOver:T=>Ae(T,D),onDragEnd:ce,className:"cursor-grab active:cursor-grabbing touch-none",onClick:T=>T.stopPropagation(),children:h.jsx(ad,{className:"w-5 h-5 text-text-muted"})}),h.jsxs("span",{className:"text-text-muted w-6",children:["#",D+1]}),h.jsx("span",{className:"flex-1",children:P}),g&&h.jsx("button",{onClick:T=>{T.stopPropagation(),se(D)},className:"p-1.5 text-text-muted hover:text-danger transition-colors rounded-lg hover:bg-surface/50",children:h.jsx(wn,{className:"w-4 h-4"})})]}),!g&&H&&h.jsxs("div",{className:"ml-9 text-text-muted",children:[h.jsxs("p",{className:"text-xs mb-1",children:["Last session  ",Wa(H.date)]}),h.jsx("div",{className:"flex gap-3 flex-wrap",children:H.sets.map((T,z)=>h.jsxs("span",{className:"text-xs",children:[formatWeight(T.weight),"  ",T.reps]},z))})]}),g&&h.jsx("div",{className:"ml-9 text-xs text-text-muted",children:"Tap to replace"})]})},`${P}-${D}`)}),g&&h.jsxs("button",{onClick:()=>C(!0),className:"w-full py-3 px-4 border-2 border-dashed border-border-subtle rounded-lg text-text-muted hover:text-text-primary hover:border-accent transition-colors flex items-center justify-center gap-2",children:[h.jsx(Vn,{className:"w-4 h-4"}),h.jsx("span",{children:"Add exercise"})]})]}),h.jsx("div",{className:"space-y-3 pt-4",children:h.jsxs(Ve,{variant:"primary",onClick:te,className:"w-full",children:[h.jsx(Wo,{className:"w-4 h-4 mr-2 inline"}),"Record workout"]})})]})}),d&&h.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center p-5 z-50",children:h.jsxs(Gt,{className:"max-w-sm w-full",children:[h.jsx("h3",{className:"mb-2",children:"Delete workout?"}),h.jsxs("p",{className:"text-text-muted mb-6",children:['This will permanently delete "',t.name,'". This action cannot be undone.']}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ve,{variant:"neutral",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),h.jsx(Ve,{variant:"danger",onClick:()=>{l(),p(!1)},className:"flex-1",children:"Delete"})]})]})}),h.jsx(qn,{isOpen:j,onClose:()=>C(!1),title:"Add Exercise",children:h.jsx(Kn,{onSelectExercise:re,onAddNewExercise:ve,selectedExercises:b,placeholder:"Search exercises...",autoFocus:!0,showDetails:!0,createButtonLabel:"Create & add"})}),h.jsx(qn,{isOpen:R,onClose:()=>{I(!1),F(null)},title:"Replace Exercise",children:h.jsx(Kn,{onSelectExercise:fe,onAddNewExercise:P=>{fe(P)},placeholder:"Search exercises...",autoFocus:!0,showDetails:!0,createButtonLabel:"Replace"})})]})}const Ls=S.forwardRef(({type:t="text",placeholder:e,value:n,onChange:o,className:a="",disabled:l=!1,autoFocus:u=!1,min:d,step:p,inputMode:g},y)=>h.jsx("input",{ref:y,type:t,placeholder:e,value:n,onChange:o,disabled:l,autoFocus:u,min:d,step:p,inputMode:g,className:`w-full px-4 py-2.5 bg-surface border border-border-subtle rounded-lg 
          text-text-primary placeholder:text-text-muted 
          focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/30
          disabled:opacity-50 disabled:cursor-not-allowed
          transition-colors ${a}`}));Ls.displayName="Input";function $s({isOpen:t,onClose:e,title:n,children:o,actions:a,headerAction:l,position:u="center"}){return S.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?h.jsxs("div",{className:`fixed inset-0 z-50 flex ${u==="top"?"items-start justify-center pt-4":"items-center justify-center"} p-4 animate-in fade-in duration-200`,onClick:e,children:[h.jsx("div",{className:"absolute inset-0 bg-overlay backdrop-blur-sm"}),h.jsxs("div",{className:"relative bg-panel border border-border-medium rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in slide-in-from-bottom-0 duration-300",onClick:d=>d.stopPropagation(),children:[h.jsxs("div",{className:"p-6 border-b border-border-subtle flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl",children:n}),l&&h.jsx("div",{children:l})]}),h.jsx("div",{className:"p-6",children:o}),a&&h.jsx("div",{className:"p-6 pt-0 flex gap-3",children:a})]})]}):null}function fb({children:t,peekContent:e,defaultExpanded:n=!1,isOpen:o=!0,onClose:a}){const[l,u]=S.useState(n);S.useEffect(()=>{o||u(!1)},[o]);const[d,p]=S.useState(!1),[g,y]=S.useState(0),[x,w]=S.useState(0),b=S.useRef(null),_=L=>{p(!0),y(L.touches[0].clientY),w(L.touches[0].clientY)},k=L=>{d&&w(L.touches[0].clientY)},E=()=>{u(!1),a&&setTimeout(()=>a(),300)},j=()=>{if(!d)return;p(!1);const L=x-g,F=50;L>F&&l?E():L<-F&&!l&&u(!0),y(0),w(0)},C=L=>{p(!0),y(L.clientY),w(L.clientY)},R=L=>{d&&w(L.clientY)},I=()=>{if(!d)return;p(!1);const L=x-g,F=50;L>F&&l?(u(!1),a&&setTimeout(()=>a(),300)):L<-F&&!l&&u(!0),y(0),w(0)};return S.useEffect(()=>{if(d)return document.addEventListener("mousemove",R),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",I)}},[d,x]),S.useEffect(()=>{if(!l)return;const L=F=>{b.current&&!b.current.contains(F.target)&&E()};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[l]),o?h.jsxs(h.Fragment,{children:[l&&h.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 transition-opacity duration-300",onClick:E}),h.jsxs("div",{ref:b,className:`fixed left-0 right-0 bg-panel border-t border-border-medium rounded-t-3xl shadow-2xl transition-all duration-500 ease-in-out z-50 ${l?"max-h-[80vh]":"h-auto min-h-[90px] max-h-[150px]"}`,style:{bottom:"0",transform:d?`translateY(${Math.max(0,x-g)}px)`:"translateY(0)"},children:[h.jsxs("button",{className:"w-full py-3 flex flex-col items-center cursor-grab active:cursor-grabbing touch-none select-none",onTouchStart:_,onTouchMove:k,onTouchEnd:j,onMouseDown:C,onClick:()=>{l?E():u(!0)},children:[h.jsx("div",{className:"w-10 h-1 bg-border-medium rounded-full mb-2"}),h.jsxs("div",{className:"flex items-center gap-2",children:[!l&&e&&h.jsx("div",{className:"text-base text-text-muted",children:e}),l?h.jsx(Gm,{className:"w-4 h-4 text-text-muted"}):h.jsx(Ox,{className:"w-4 h-4 text-text-muted"})]})]}),h.jsx("div",{className:`px-5 pb-6 transition-opacity duration-300 ${l?"overflow-y-auto max-h-[calc(80vh-80px)] opacity-100":"overflow-hidden opacity-100"}`,children:typeof t=="function"?t(l):t})]})]}):null}const mg="training-ledger-preferences",su={unitSystem:"metric",appearance:"light"};function Go(){try{const t=localStorage.getItem(mg);if(t){const e=JSON.parse(t);return{unitSystem:e.unitSystem||su.unitSystem,appearance:e.appearance||su.appearance}}}catch(t){console.warn("Failed to load preferences:",t)}return{...su}}function gg(t){try{const n={...Go(),...t};localStorage.setItem(mg,JSON.stringify(n))}catch(e){console.error("Failed to save preferences:",e)}}function Mu(){return Go().unitSystem}function hb(){return Go().appearance}function pb(t){gg({unitSystem:t})}function Lo(t){gg({appearance:t})}const mb=2.20462;function gb(t){return t*mb}function Qt(t,e=1){return Mu()==="imperial"?`${gb(t).toFixed(e)} lb`:`${t.toFixed(e)} kg`}function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Hp(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rl(...t){return e=>{let n=!1;const o=t.map(a=>{const l=Hp(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<o.length;a++){const l=o[a];typeof l=="function"?l():Hp(t[a],null)}}}}function zt(...t){return S.useCallback(rl(...t),t)}function ii(t,e=[]){let n=[];function o(l,u){const d=S.createContext(u),p=n.length;n=[...n,u];const g=x=>{var j;const{scope:w,children:b,..._}=x,k=((j=w==null?void 0:w[t])==null?void 0:j[p])||d,E=S.useMemo(()=>_,Object.values(_));return h.jsx(k.Provider,{value:E,children:b})};g.displayName=l+"Provider";function y(x,w){var k;const b=((k=w==null?void 0:w[t])==null?void 0:k[p])||d,_=S.useContext(b);if(_)return _;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[g,y]}const a=()=>{const l=n.map(u=>S.createContext(u));return function(d){const p=(d==null?void 0:d[t])||l;return S.useMemo(()=>({[`__scope${t}`]:{...d,[t]:p}}),[d,p])}};return a.scopeName=t,[o,yb(a,...e)]}function yb(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=o.reduce((d,{useScope:p,scopeName:g})=>{const x=p(l)[`__scope${g}`];return{...d,...x}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function vr(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var o;return(o=e.current)==null?void 0:o.call(e,...n)},[])}function yg({prop:t,defaultProp:e,onChange:n=()=>{}}){const[o,a]=vb({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:o,d=vr(n),p=S.useCallback(g=>{if(l){const x=typeof g=="function"?g(t):g;x!==t&&d(x)}else a(g)},[l,t,a,d]);return[u,p]}function vb({defaultProp:t,onChange:e}){const n=S.useState(t),[o]=n,a=S.useRef(o),l=vr(e);return S.useEffect(()=>{a.current!==o&&(l(o),a.current=o)},[o,a,l]),n}var gd=qm();const wb=Hm(gd);var Yo=S.forwardRef((t,e)=>{const{children:n,...o}=t,a=S.Children.toArray(n),l=a.find(bb);if(l){const u=l.props.children,d=a.map(p=>p===l?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:p);return h.jsx(Du,{...o,ref:e,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return h.jsx(Du,{...o,ref:e,children:n})});Yo.displayName="Slot";var Du=S.forwardRef((t,e)=>{const{children:n,...o}=t;if(S.isValidElement(n)){const a=_b(n),l=Sb(o,n.props);return n.type!==S.Fragment&&(l.ref=e?rl(e,a):a),S.cloneElement(n,l)}return S.Children.count(n)>1?S.Children.only(null):null});Du.displayName="SlotClone";var xb=({children:t})=>h.jsx(h.Fragment,{children:t});function bb(t){return S.isValidElement(t)&&t.type===xb}function Sb(t,e){const n={...e};for(const o in e){const a=t[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...d)=>{l(...d),a(...d)}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function _b(t){var o,a;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var kb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pt=kb.reduce((t,e)=>{const n=S.forwardRef((o,a)=>{const{asChild:l,...u}=o,d=l?Yo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...u,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vg(t,e){t&&gd.flushSync(()=>t.dispatchEvent(e))}function wg(t){const e=t+"CollectionProvider",[n,o]=ii(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:_,children:k}=b,E=mn.useRef(null),j=mn.useRef(new Map).current;return h.jsx(a,{scope:_,itemMap:j,collectionRef:E,children:k})};u.displayName=e;const d=t+"CollectionSlot",p=mn.forwardRef((b,_)=>{const{scope:k,children:E}=b,j=l(d,k),C=zt(_,j.collectionRef);return h.jsx(Yo,{ref:C,children:E})});p.displayName=d;const g=t+"CollectionItemSlot",y="data-radix-collection-item",x=mn.forwardRef((b,_)=>{const{scope:k,children:E,...j}=b,C=mn.useRef(null),R=zt(_,C),I=l(g,k);return mn.useEffect(()=>(I.itemMap.set(C,{ref:C,...j}),()=>void I.itemMap.delete(C))),h.jsx(Yo,{[y]:"",ref:R,children:E})});x.displayName=g;function w(b){const _=l(t+"CollectionConsumer",b);return mn.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const j=Array.from(E.querySelectorAll(`[${y}]`));return Array.from(_.itemMap.values()).sort((I,L)=>j.indexOf(I.ref.current)-j.indexOf(L.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:u,Slot:p,ItemSlot:x},w,o]}var Eb=S.createContext(void 0);function xg(t){const e=S.useContext(Eb);return t||e||"ltr"}function Cb(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t);S.useEffect(()=>{const o=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var Nb="DismissableLayer",Lu="dismissableLayer.update",jb="dismissableLayer.pointerDownOutside",Ab="dismissableLayer.focusOutside",qp,bg=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sg=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...p}=t,g=S.useContext(bg),[y,x]=S.useState(null),w=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=S.useState({}),_=zt(e,W=>x(W)),k=Array.from(g.layers),[E]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),j=k.indexOf(E),C=y?k.indexOf(y):-1,R=g.layersWithOutsidePointerEventsDisabled.size>0,I=C>=j,L=Pb(W=>{const V=W.target,se=[...g.branches].some(ye=>ye.contains(V));!I||se||(a==null||a(W),u==null||u(W),W.defaultPrevented||d==null||d())},w),F=Ob(W=>{const V=W.target;[...g.branches].some(ye=>ye.contains(V))||(l==null||l(W),u==null||u(W),W.defaultPrevented||d==null||d())},w);return Cb(W=>{C===g.layers.size-1&&(o==null||o(W),!W.defaultPrevented&&d&&(W.preventDefault(),d()))},w),S.useEffect(()=>{if(y)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(qp=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),Kp(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=qp)}},[y,w,n,g]),S.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),Kp())},[y,g]),S.useEffect(()=>{const W=()=>b({});return document.addEventListener(Lu,W),()=>document.removeEventListener(Lu,W)},[]),h.jsx(Pt.div,{...p,ref:_,style:{pointerEvents:R?I?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,L.onPointerDownCapture)})});Sg.displayName=Nb;var Tb="DismissableLayerBranch",Rb=S.forwardRef((t,e)=>{const n=S.useContext(bg),o=S.useRef(null),a=zt(e,o);return S.useEffect(()=>{const l=o.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),h.jsx(Pt.div,{...t,ref:a})});Rb.displayName=Tb;function Pb(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t),o=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const l=d=>{if(d.target&&!o.current){let p=function(){_g(jb,n,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=p,e.addEventListener("click",a.current,{once:!0})):p()}else e.removeEventListener("click",a.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function Ob(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t),o=S.useRef(!1);return S.useEffect(()=>{const a=l=>{l.target&&!o.current&&_g(Ab,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Kp(){const t=new CustomEvent(Lu);document.dispatchEvent(t)}function _g(t,e,n,{discrete:o}){const a=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),o?vg(a,l):a.dispatchEvent(l)}var ou=0;function Ib(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Gp()),document.body.insertAdjacentElement("beforeend",t[1]??Gp()),ou++,()=>{ou===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ou--}},[])}function Gp(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var iu="focusScope.autoFocusOnMount",au="focusScope.autoFocusOnUnmount",Yp={bubbles:!1,cancelable:!0},Mb="FocusScope",kg=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=t,[d,p]=S.useState(null),g=vr(a),y=vr(l),x=S.useRef(null),w=zt(e,k=>p(k)),b=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(o){let k=function(R){if(b.paused||!d)return;const I=R.target;d.contains(I)?x.current=I:gn(x.current,{select:!0})},E=function(R){if(b.paused||!d)return;const I=R.relatedTarget;I!==null&&(d.contains(I)||gn(x.current,{select:!0}))},j=function(R){if(document.activeElement===document.body)for(const L of R)L.removedNodes.length>0&&gn(d)};document.addEventListener("focusin",k),document.addEventListener("focusout",E);const C=new MutationObserver(j);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",E),C.disconnect()}}},[o,d,b.paused]),S.useEffect(()=>{if(d){Qp.add(b);const k=document.activeElement;if(!d.contains(k)){const j=new CustomEvent(iu,Yp);d.addEventListener(iu,g),d.dispatchEvent(j),j.defaultPrevented||(Db(zb(Eg(d)),{select:!0}),document.activeElement===k&&gn(d))}return()=>{d.removeEventListener(iu,g),setTimeout(()=>{const j=new CustomEvent(au,Yp);d.addEventListener(au,y),d.dispatchEvent(j),j.defaultPrevented||gn(k??document.body,{select:!0}),d.removeEventListener(au,y),Qp.remove(b)},0)}}},[d,g,y,b]);const _=S.useCallback(k=>{if(!n&&!o||b.paused)return;const E=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,j=document.activeElement;if(E&&j){const C=k.currentTarget,[R,I]=Lb(C);R&&I?!k.shiftKey&&j===I?(k.preventDefault(),n&&gn(R,{select:!0})):k.shiftKey&&j===R&&(k.preventDefault(),n&&gn(I,{select:!0})):j===C&&k.preventDefault()}},[n,o,b.paused]);return h.jsx(Pt.div,{tabIndex:-1,...u,ref:w,onKeyDown:_})});kg.displayName=Mb;function Db(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(gn(o,{select:e}),document.activeElement!==n)return}function Lb(t){const e=Eg(t),n=Jp(e,t),o=Jp(e.reverse(),t);return[n,o]}function Eg(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jp(t,e){for(const n of t)if(!$b(n,{upTo:e}))return n}function $b(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ub(t){return t instanceof HTMLInputElement&&"select"in t}function gn(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ub(t)&&e&&t.select()}}var Qp=Fb();function Fb(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Xp(t,e),t.unshift(e)},remove(e){var n;t=Xp(t,e),(n=t[0])==null||n.resume()}}}function Xp(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function zb(t){return t.filter(e=>e.tagName!=="A")}var Gn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},Bb=wx.useId||(()=>{}),Wb=0;function $u(t){const[e,n]=S.useState(Bb());return Gn(()=>{n(o=>o??String(Wb++))},[t]),t||(e?`radix-${e}`:"")}const Vb=["top","right","bottom","left"],xn=Math.min,Kt=Math.max,qa=Math.round,Ea=Math.floor,Ar=t=>({x:t,y:t}),Hb={left:"right",right:"left",bottom:"top",top:"bottom"},qb={start:"end",end:"start"};function Uu(t,e,n){return Kt(t,xn(e,n))}function Wr(t,e){return typeof t=="function"?t(e):t}function Vr(t){return t.split("-")[0]}function Fs(t){return t.split("-")[1]}function yd(t){return t==="x"?"y":"x"}function vd(t){return t==="y"?"height":"width"}const Kb=new Set(["top","bottom"]);function jr(t){return Kb.has(Vr(t))?"y":"x"}function wd(t){return yd(jr(t))}function Gb(t,e,n){n===void 0&&(n=!1);const o=Fs(t),a=wd(t),l=vd(a);let u=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Ka(u)),[u,Ka(u)]}function Yb(t){const e=Ka(t);return[Fu(t),e,Fu(e)]}function Fu(t){return t.replace(/start|end/g,e=>qb[e])}const Zp=["left","right"],em=["right","left"],Jb=["top","bottom"],Qb=["bottom","top"];function Xb(t,e,n){switch(t){case"top":case"bottom":return n?e?em:Zp:e?Zp:em;case"left":case"right":return e?Jb:Qb;default:return[]}}function Zb(t,e,n,o){const a=Fs(t);let l=Xb(Vr(t),n==="start",o);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Fu)))),l}function Ka(t){return t.replace(/left|right|bottom|top/g,e=>Hb[e])}function eS(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cg(t){return typeof t!="number"?eS(t):{top:t,right:t,bottom:t,left:t}}function Ga(t){const{x:e,y:n,width:o,height:a}=t;return{width:o,height:a,top:n,left:e,right:e+o,bottom:n+a,x:e,y:n}}function tm(t,e,n){let{reference:o,floating:a}=t;const l=jr(e),u=wd(e),d=vd(u),p=Vr(e),g=l==="y",y=o.x+o.width/2-a.width/2,x=o.y+o.height/2-a.height/2,w=o[d]/2-a[d]/2;let b;switch(p){case"top":b={x:y,y:o.y-a.height};break;case"bottom":b={x:y,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:x};break;case"left":b={x:o.x-a.width,y:x};break;default:b={x:o.x,y:o.y}}switch(Fs(e)){case"start":b[u]-=w*(n&&g?-1:1);break;case"end":b[u]+=w*(n&&g?-1:1);break}return b}const tS=async(t,e,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:x}=tm(g,o,p),w=o,b={},_=0;for(let k=0;k<d.length;k++){const{name:E,fn:j}=d[k],{x:C,y:R,data:I,reset:L}=await j({x:y,y:x,initialPlacement:o,placement:w,strategy:a,middlewareData:b,rects:g,platform:u,elements:{reference:t,floating:e}});y=C??y,x=R??x,b={...b,[E]:{...b[E],...I}},L&&_<=50&&(_++,typeof L=="object"&&(L.placement&&(w=L.placement),L.rects&&(g=L.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):L.rects),{x:y,y:x}=tm(g,w,p)),k=-1)}return{x:y,y:x,placement:w,strategy:a,middlewareData:b}};async function Jo(t,e){var n;e===void 0&&(e={});const{x:o,y:a,platform:l,rects:u,elements:d,strategy:p}=t,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:w=!1,padding:b=0}=Wr(e,t),_=Cg(b),E=d[w?x==="floating"?"reference":"floating":x],j=Ga(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(E)))==null||n?E:E.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:g,rootBoundary:y,strategy:p})),C=x==="floating"?{x:o,y:a,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),I=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},L=Ga(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:R,strategy:p}):C);return{top:(j.top-L.top+_.top)/I.y,bottom:(L.bottom-j.bottom+_.bottom)/I.y,left:(j.left-L.left+_.left)/I.x,right:(L.right-j.right+_.right)/I.x}}const rS=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:a,rects:l,platform:u,elements:d,middlewareData:p}=e,{element:g,padding:y=0}=Wr(t,e)||{};if(g==null)return{};const x=Cg(y),w={x:n,y:o},b=wd(a),_=vd(b),k=await u.getDimensions(g),E=b==="y",j=E?"top":"left",C=E?"bottom":"right",R=E?"clientHeight":"clientWidth",I=l.reference[_]+l.reference[b]-w[b]-l.floating[_],L=w[b]-l.reference[b],F=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let W=F?F[R]:0;(!W||!await(u.isElement==null?void 0:u.isElement(F)))&&(W=d.floating[R]||l.floating[_]);const V=I/2-L/2,se=W/2-k[_]/2-1,ye=xn(x[j],se),fe=xn(x[C],se),re=ye,ve=W-k[_]-fe,_e=W/2-k[_]/2+V,Ae=Uu(re,_e,ve),ce=!p.arrow&&Fs(a)!=null&&_e!==Ae&&l.reference[_]/2-(_e<re?ye:fe)-k[_]/2<0,te=ce?_e<re?_e-re:_e-ve:0;return{[b]:w[b]+te,data:{[b]:Ae,centerOffset:_e-Ae-te,...ce&&{alignmentOffset:te}},reset:ce}}}),nS=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:a,middlewareData:l,rects:u,initialPlacement:d,platform:p,elements:g}=e,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:k=!0,...E}=Wr(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const j=Vr(a),C=jr(d),R=Vr(d)===d,I=await(p.isRTL==null?void 0:p.isRTL(g.floating)),L=w||(R||!k?[Ka(d)]:Yb(d)),F=_!=="none";!w&&F&&L.push(...Zb(d,k,_,I));const W=[d,...L],V=await Jo(e,E),se=[];let ye=((o=l.flip)==null?void 0:o.overflows)||[];if(y&&se.push(V[j]),x){const _e=Gb(a,u,I);se.push(V[_e[0]],V[_e[1]])}if(ye=[...ye,{placement:a,overflows:se}],!se.every(_e=>_e<=0)){var fe,re;const _e=(((fe=l.flip)==null?void 0:fe.index)||0)+1,Ae=W[_e];if(Ae&&(!(x==="alignment"?C!==jr(Ae):!1)||ye.every(P=>jr(P.placement)===C?P.overflows[0]>0:!0)))return{data:{index:_e,overflows:ye},reset:{placement:Ae}};let ce=(re=ye.filter(te=>te.overflows[0]<=0).sort((te,P)=>te.overflows[1]-P.overflows[1])[0])==null?void 0:re.placement;if(!ce)switch(b){case"bestFit":{var ve;const te=(ve=ye.filter(P=>{if(F){const D=jr(P.placement);return D===C||D==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((P,D)=>P[1]-D[1])[0])==null?void 0:ve[0];te&&(ce=te);break}case"initialPlacement":ce=d;break}if(a!==ce)return{reset:{placement:ce}}}return{}}}};function rm(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nm(t){return Vb.some(e=>t[e]>=0)}const sS=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...a}=Wr(t,e);switch(o){case"referenceHidden":{const l=await Jo(e,{...a,elementContext:"reference"}),u=rm(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:nm(u)}}}case"escaped":{const l=await Jo(e,{...a,altBoundary:!0}),u=rm(l,n.floating);return{data:{escapedOffsets:u,escaped:nm(u)}}}default:return{}}}}},Ng=new Set(["left","top"]);async function oS(t,e){const{placement:n,platform:o,elements:a}=t,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),u=Vr(n),d=Fs(n),p=jr(n)==="y",g=Ng.has(u)?-1:1,y=l&&p?-1:1,x=Wr(e,t);let{mainAxis:w,crossAxis:b,alignmentAxis:_}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof _=="number"&&(b=d==="end"?_*-1:_),p?{x:b*y,y:w*g}:{x:w*g,y:b*y}}const iS=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:a,y:l,placement:u,middlewareData:d}=e,p=await oS(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:a+p.x,y:l+p.y,data:{...p,placement:u}}}}},aS=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:E=>{let{x:j,y:C}=E;return{x:j,y:C}}},...p}=Wr(t,e),g={x:n,y:o},y=await Jo(e,p),x=jr(Vr(a)),w=yd(x);let b=g[w],_=g[x];if(l){const E=w==="y"?"top":"left",j=w==="y"?"bottom":"right",C=b+y[E],R=b-y[j];b=Uu(C,b,R)}if(u){const E=x==="y"?"top":"left",j=x==="y"?"bottom":"right",C=_+y[E],R=_-y[j];_=Uu(C,_,R)}const k=d.fn({...e,[w]:b,[x]:_});return{...k,data:{x:k.x-n,y:k.y-o,enabled:{[w]:l,[x]:u}}}}}},lS=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:a,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:p=!0,crossAxis:g=!0}=Wr(t,e),y={x:n,y:o},x=jr(a),w=yd(x);let b=y[w],_=y[x];const k=Wr(d,e),E=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(p){const R=w==="y"?"height":"width",I=l.reference[w]-l.floating[R]+E.mainAxis,L=l.reference[w]+l.reference[R]-E.mainAxis;b<I?b=I:b>L&&(b=L)}if(g){var j,C;const R=w==="y"?"width":"height",I=Ng.has(Vr(a)),L=l.reference[x]-l.floating[R]+(I&&((j=u.offset)==null?void 0:j[x])||0)+(I?0:E.crossAxis),F=l.reference[x]+l.reference[R]+(I?0:((C=u.offset)==null?void 0:C[x])||0)-(I?E.crossAxis:0);_<L?_=L:_>F&&(_=F)}return{[w]:b,[x]:_}}}},cS=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:a,rects:l,platform:u,elements:d}=e,{apply:p=()=>{},...g}=Wr(t,e),y=await Jo(e,g),x=Vr(a),w=Fs(a),b=jr(a)==="y",{width:_,height:k}=l.floating;let E,j;x==="top"||x==="bottom"?(E=x,j=w===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(j=x,E=w==="end"?"top":"bottom");const C=k-y.top-y.bottom,R=_-y.left-y.right,I=xn(k-y[E],C),L=xn(_-y[j],R),F=!e.middlewareData.shift;let W=I,V=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(V=R),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(W=C),F&&!w){const ye=Kt(y.left,0),fe=Kt(y.right,0),re=Kt(y.top,0),ve=Kt(y.bottom,0);b?V=_-2*(ye!==0||fe!==0?ye+fe:Kt(y.left,y.right)):W=k-2*(re!==0||ve!==0?re+ve:Kt(y.top,y.bottom))}await p({...e,availableWidth:V,availableHeight:W});const se=await u.getDimensions(d.floating);return _!==se.width||k!==se.height?{reset:{rects:!0}}:{}}}};function nl(){return typeof window<"u"}function zs(t){return jg(t)?(t.nodeName||"").toLowerCase():"#document"}function Xt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(jg(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jg(t){return nl()?t instanceof Node||t instanceof Xt(t).Node:!1}function wr(t){return nl()?t instanceof Element||t instanceof Xt(t).Element:!1}function Tr(t){return nl()?t instanceof HTMLElement||t instanceof Xt(t).HTMLElement:!1}function sm(t){return!nl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xt(t).ShadowRoot}const uS=new Set(["inline","contents"]);function ai(t){const{overflow:e,overflowX:n,overflowY:o,display:a}=xr(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!uS.has(a)}const dS=new Set(["table","td","th"]);function fS(t){return dS.has(zs(t))}const hS=[":popover-open",":modal"];function sl(t){return hS.some(e=>{try{return t.matches(e)}catch{return!1}})}const pS=["transform","translate","scale","rotate","perspective"],mS=["transform","translate","scale","rotate","perspective","filter"],gS=["paint","layout","strict","content"];function xd(t){const e=bd(),n=wr(t)?xr(t):t;return pS.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||mS.some(o=>(n.willChange||"").includes(o))||gS.some(o=>(n.contain||"").includes(o))}function yS(t){let e=bn(t);for(;Tr(e)&&!Us(e);){if(xd(e))return e;if(sl(e))return null;e=bn(e)}return null}function bd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vS=new Set(["html","body","#document"]);function Us(t){return vS.has(zs(t))}function xr(t){return Xt(t).getComputedStyle(t)}function ol(t){return wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bn(t){if(zs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sm(t)&&t.host||Rr(t);return sm(e)?e.host:e}function Ag(t){const e=bn(t);return Us(e)?t.ownerDocument?t.ownerDocument.body:t.body:Tr(e)&&ai(e)?e:Ag(e)}function Qo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Ag(t),l=a===((o=t.ownerDocument)==null?void 0:o.body),u=Xt(a);if(l){const d=zu(u);return e.concat(u,u.visualViewport||[],ai(a)?a:[],d&&n?Qo(d):[])}return e.concat(a,Qo(a,[],n))}function zu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Tg(t){const e=xr(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=Tr(t),l=a?t.offsetWidth:n,u=a?t.offsetHeight:o,d=qa(n)!==l||qa(o)!==u;return d&&(n=l,o=u),{width:n,height:o,$:d}}function Sd(t){return wr(t)?t:t.contextElement}function Is(t){const e=Sd(t);if(!Tr(e))return Ar(1);const n=e.getBoundingClientRect(),{width:o,height:a,$:l}=Tg(e);let u=(l?qa(n.width):n.width)/o,d=(l?qa(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const wS=Ar(0);function Rg(t){const e=Xt(t);return!bd()||!e.visualViewport?wS:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xS(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xt(t)?!1:e}function Yn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=Sd(t);let u=Ar(1);e&&(o?wr(o)&&(u=Is(o)):u=Is(t));const d=xS(l,n,o)?Rg(l):Ar(0);let p=(a.left+d.x)/u.x,g=(a.top+d.y)/u.y,y=a.width/u.x,x=a.height/u.y;if(l){const w=Xt(l),b=o&&wr(o)?Xt(o):o;let _=w,k=zu(_);for(;k&&o&&b!==_;){const E=Is(k),j=k.getBoundingClientRect(),C=xr(k),R=j.left+(k.clientLeft+parseFloat(C.paddingLeft))*E.x,I=j.top+(k.clientTop+parseFloat(C.paddingTop))*E.y;p*=E.x,g*=E.y,y*=E.x,x*=E.y,p+=R,g+=I,_=Xt(k),k=zu(_)}}return Ga({width:y,height:x,x:p,y:g})}function il(t,e){const n=ol(t).scrollLeft;return e?e.left+n:Yn(Rr(t)).left+n}function Pg(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-il(t,n),a=n.top+e.scrollTop;return{x:o,y:a}}function bS(t){let{elements:e,rect:n,offsetParent:o,strategy:a}=t;const l=a==="fixed",u=Rr(o),d=e?sl(e.floating):!1;if(o===u||d&&l)return n;let p={scrollLeft:0,scrollTop:0},g=Ar(1);const y=Ar(0),x=Tr(o);if((x||!x&&!l)&&((zs(o)!=="body"||ai(u))&&(p=ol(o)),Tr(o))){const b=Yn(o);g=Is(o),y.x=b.x+o.clientLeft,y.y=b.y+o.clientTop}const w=u&&!x&&!l?Pg(u,p):Ar(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-p.scrollLeft*g.x+y.x+w.x,y:n.y*g.y-p.scrollTop*g.y+y.y+w.y}}function SS(t){return Array.from(t.getClientRects())}function _S(t){const e=Rr(t),n=ol(t),o=t.ownerDocument.body,a=Kt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=Kt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+il(t);const d=-n.scrollTop;return xr(o).direction==="rtl"&&(u+=Kt(e.clientWidth,o.clientWidth)-a),{width:a,height:l,x:u,y:d}}const om=25;function kS(t,e){const n=Xt(t),o=Rr(t),a=n.visualViewport;let l=o.clientWidth,u=o.clientHeight,d=0,p=0;if(a){l=a.width,u=a.height;const y=bd();(!y||y&&e==="fixed")&&(d=a.offsetLeft,p=a.offsetTop)}const g=il(o);if(g<=0){const y=o.ownerDocument,x=y.body,w=getComputedStyle(x),b=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,_=Math.abs(o.clientWidth-x.clientWidth-b);_<=om&&(l-=_)}else g<=om&&(l+=g);return{width:l,height:u,x:d,y:p}}const ES=new Set(["absolute","fixed"]);function CS(t,e){const n=Yn(t,!0,e==="fixed"),o=n.top+t.clientTop,a=n.left+t.clientLeft,l=Tr(t)?Is(t):Ar(1),u=t.clientWidth*l.x,d=t.clientHeight*l.y,p=a*l.x,g=o*l.y;return{width:u,height:d,x:p,y:g}}function im(t,e,n){let o;if(e==="viewport")o=kS(t,n);else if(e==="document")o=_S(Rr(t));else if(wr(e))o=CS(e,n);else{const a=Rg(t);o={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Ga(o)}function Og(t,e){const n=bn(t);return n===e||!wr(n)||Us(n)?!1:xr(n).position==="fixed"||Og(n,e)}function NS(t,e){const n=e.get(t);if(n)return n;let o=Qo(t,[],!1).filter(d=>wr(d)&&zs(d)!=="body"),a=null;const l=xr(t).position==="fixed";let u=l?bn(t):t;for(;wr(u)&&!Us(u);){const d=xr(u),p=xd(u);!p&&d.position==="fixed"&&(a=null),(l?!p&&!a:!p&&d.position==="static"&&!!a&&ES.has(a.position)||ai(u)&&!p&&Og(t,u))?o=o.filter(y=>y!==u):a=d,u=bn(u)}return e.set(t,o),o}function jS(t){let{element:e,boundary:n,rootBoundary:o,strategy:a}=t;const u=[...n==="clippingAncestors"?sl(e)?[]:NS(e,this._c):[].concat(n),o],d=u[0],p=u.reduce((g,y)=>{const x=im(e,y,a);return g.top=Kt(x.top,g.top),g.right=xn(x.right,g.right),g.bottom=xn(x.bottom,g.bottom),g.left=Kt(x.left,g.left),g},im(e,d,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function AS(t){const{width:e,height:n}=Tg(t);return{width:e,height:n}}function TS(t,e,n){const o=Tr(e),a=Rr(e),l=n==="fixed",u=Yn(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const p=Ar(0);function g(){p.x=il(a)}if(o||!o&&!l)if((zs(e)!=="body"||ai(a))&&(d=ol(e)),o){const b=Yn(e,!0,l,e);p.x=b.x+e.clientLeft,p.y=b.y+e.clientTop}else a&&g();l&&!o&&a&&g();const y=a&&!o&&!l?Pg(a,d):Ar(0),x=u.left+d.scrollLeft-p.x-y.x,w=u.top+d.scrollTop-p.y-y.y;return{x,y:w,width:u.width,height:u.height}}function lu(t){return xr(t).position==="static"}function am(t,e){if(!Tr(t)||xr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function Ig(t,e){const n=Xt(t);if(sl(t))return n;if(!Tr(t)){let a=bn(t);for(;a&&!Us(a);){if(wr(a)&&!lu(a))return a;a=bn(a)}return n}let o=am(t,e);for(;o&&fS(o)&&lu(o);)o=am(o,e);return o&&Us(o)&&lu(o)&&!xd(o)?n:o||yS(t)||n}const RS=async function(t){const e=this.getOffsetParent||Ig,n=this.getDimensions,o=await n(t.floating);return{reference:TS(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function PS(t){return xr(t).direction==="rtl"}const OS={convertOffsetParentRelativeRectToViewportRelativeRect:bS,getDocumentElement:Rr,getClippingRect:jS,getOffsetParent:Ig,getElementRects:RS,getClientRects:SS,getDimensions:AS,getScale:Is,isElement:wr,isRTL:PS};function Mg(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function IS(t,e){let n=null,o;const a=Rr(t);function l(){var d;clearTimeout(o),(d=n)==null||d.disconnect(),n=null}function u(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),l();const g=t.getBoundingClientRect(),{left:y,top:x,width:w,height:b}=g;if(d||e(),!w||!b)return;const _=Ea(x),k=Ea(a.clientWidth-(y+w)),E=Ea(a.clientHeight-(x+b)),j=Ea(y),R={rootMargin:-_+"px "+-k+"px "+-E+"px "+-j+"px",threshold:Kt(0,xn(1,p))||1};let I=!0;function L(F){const W=F[0].intersectionRatio;if(W!==p){if(!I)return u();W?u(!1,W):o=setTimeout(()=>{u(!1,1e-7)},1e3)}W===1&&!Mg(g,t.getBoundingClientRect())&&u(),I=!1}try{n=new IntersectionObserver(L,{...R,root:a.ownerDocument})}catch{n=new IntersectionObserver(L,R)}n.observe(t)}return u(!0),l}function MS(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,g=Sd(t),y=a||l?[...g?Qo(g):[],...Qo(e)]:[];y.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),l&&j.addEventListener("resize",n)});const x=g&&d?IS(g,n):null;let w=-1,b=null;u&&(b=new ResizeObserver(j=>{let[C]=j;C&&C.target===g&&b&&(b.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var R;(R=b)==null||R.observe(e)})),n()}),g&&!p&&b.observe(g),b.observe(e));let _,k=p?Yn(t):null;p&&E();function E(){const j=Yn(t);k&&!Mg(k,j)&&n(),k=j,_=requestAnimationFrame(E)}return n(),()=>{var j;y.forEach(C=>{a&&C.removeEventListener("scroll",n),l&&C.removeEventListener("resize",n)}),x==null||x(),(j=b)==null||j.disconnect(),b=null,p&&cancelAnimationFrame(_)}}const DS=iS,LS=aS,$S=nS,US=cS,FS=sS,lm=rS,zS=lS,BS=(t,e,n)=>{const o=new Map,a={platform:OS,...n},l={...a.platform,_c:o};return tS(t,e,{...a,platform:l})};var WS=typeof document<"u",VS=function(){},Ua=WS?S.useLayoutEffect:VS;function Ya(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Ya(t[o],e[o]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,a[o]))return!1;for(o=n;o--!==0;){const l=a[o];if(!(l==="_owner"&&t.$$typeof)&&!Ya(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Dg(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cm(t,e){const n=Dg(t);return Math.round(e*n)/n}function cu(t){const e=S.useRef(t);return Ua(()=>{e.current=t}),e}function HS(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:p,open:g}=t,[y,x]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,b]=S.useState(o);Ya(w,o)||b(o);const[_,k]=S.useState(null),[E,j]=S.useState(null),C=S.useCallback(P=>{P!==F.current&&(F.current=P,k(P))},[]),R=S.useCallback(P=>{P!==W.current&&(W.current=P,j(P))},[]),I=l||_,L=u||E,F=S.useRef(null),W=S.useRef(null),V=S.useRef(y),se=p!=null,ye=cu(p),fe=cu(a),re=cu(g),ve=S.useCallback(()=>{if(!F.current||!W.current)return;const P={placement:e,strategy:n,middleware:w};fe.current&&(P.platform=fe.current),BS(F.current,W.current,P).then(D=>{const H={...D,isPositioned:re.current!==!1};_e.current&&!Ya(V.current,H)&&(V.current=H,gd.flushSync(()=>{x(H)}))})},[w,e,n,fe,re]);Ua(()=>{g===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,x(P=>({...P,isPositioned:!1})))},[g]);const _e=S.useRef(!1);Ua(()=>(_e.current=!0,()=>{_e.current=!1}),[]),Ua(()=>{if(I&&(F.current=I),L&&(W.current=L),I&&L){if(ye.current)return ye.current(I,L,ve);ve()}},[I,L,ve,ye,se]);const Ae=S.useMemo(()=>({reference:F,floating:W,setReference:C,setFloating:R}),[C,R]),ce=S.useMemo(()=>({reference:I,floating:L}),[I,L]),te=S.useMemo(()=>{const P={position:n,left:0,top:0};if(!ce.floating)return P;const D=cm(ce.floating,y.x),H=cm(ce.floating,y.y);return d?{...P,transform:"translate("+D+"px, "+H+"px)",...Dg(ce.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:H}},[n,d,ce.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:ve,refs:Ae,elements:ce,floatingStyles:te}),[y,ve,Ae,ce,te])}const qS=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:a}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?lm({element:o.current,padding:a}).fn(n):{}:o?lm({element:o,padding:a}).fn(n):{}}}},KS=(t,e)=>({...DS(t),options:[t,e]}),GS=(t,e)=>({...LS(t),options:[t,e]}),YS=(t,e)=>({...zS(t),options:[t,e]}),JS=(t,e)=>({...$S(t),options:[t,e]}),QS=(t,e)=>({...US(t),options:[t,e]}),XS=(t,e)=>({...FS(t),options:[t,e]}),ZS=(t,e)=>({...qS(t),options:[t,e]});var e_="Arrow",Lg=S.forwardRef((t,e)=>{const{children:n,width:o=10,height:a=5,...l}=t;return h.jsx(Pt.svg,{...l,ref:e,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Lg.displayName=e_;var t_=Lg;function r_(t){const[e,n]=S.useState(void 0);return Gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,d;if("borderBoxSize"in l){const p=l.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,d=g.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var _d="Popper",[$g,Ug]=ii(_d),[n_,Fg]=$g(_d),zg=t=>{const{__scopePopper:e,children:n}=t,[o,a]=S.useState(null);return h.jsx(n_,{scope:e,anchor:o,onAnchorChange:a,children:n})};zg.displayName=_d;var Bg="PopperAnchor",Wg=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...a}=t,l=Fg(Bg,n),u=S.useRef(null),d=zt(e,u);return S.useEffect(()=>{l.onAnchorChange((o==null?void 0:o.current)||u.current)}),o?null:h.jsx(Pt.div,{...a,ref:d})});Wg.displayName=Bg;var kd="PopperContent",[s_,o_]=$g(kd),Vg=S.forwardRef((t,e)=>{var ne,Oe,Te,Be,dt,wt;const{__scopePopper:n,side:o="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:b="optimized",onPlaced:_,...k}=t,E=Fg(kd,n),[j,C]=S.useState(null),R=zt(e,st=>C(st)),[I,L]=S.useState(null),F=r_(I),W=(F==null?void 0:F.width)??0,V=(F==null?void 0:F.height)??0,se=o+(l!=="center"?"-"+l:""),ye=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},fe=Array.isArray(g)?g:[g],re=fe.length>0,ve={padding:ye,boundary:fe.filter(a_),altBoundary:re},{refs:_e,floatingStyles:Ae,placement:ce,isPositioned:te,middlewareData:P}=HS({strategy:"fixed",placement:se,whileElementsMounted:(...st)=>MS(...st,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[KS({mainAxis:a+V,alignmentAxis:u}),p&&GS({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?YS():void 0,...ve}),p&&JS({...ve}),QS({...ve,apply:({elements:st,rects:kt,availableWidth:ar,availableHeight:Z})=>{const{width:ae,height:Ue}=kt.reference,He=st.floating.style;He.setProperty("--radix-popper-available-width",`${ar}px`),He.setProperty("--radix-popper-available-height",`${Z}px`),He.setProperty("--radix-popper-anchor-width",`${ae}px`),He.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),I&&ZS({element:I,padding:d}),l_({arrowWidth:W,arrowHeight:V}),w&&XS({strategy:"referenceHidden",...ve})]}),[D,H]=Kg(ce),T=vr(_);Gn(()=>{te&&(T==null||T())},[te,T]);const z=(ne=P.arrow)==null?void 0:ne.x,ie=(Oe=P.arrow)==null?void 0:Oe.y,G=((Te=P.arrow)==null?void 0:Te.centerOffset)!==0,[de,ke]=S.useState();return Gn(()=>{j&&ke(window.getComputedStyle(j).zIndex)},[j]),h.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:te?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(Be=P.transformOrigin)==null?void 0:Be.x,(dt=P.transformOrigin)==null?void 0:dt.y].join(" "),...((wt=P.hide)==null?void 0:wt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(s_,{scope:n,placedSide:D,onArrowChange:L,arrowX:z,arrowY:ie,shouldHideArrow:G,children:h.jsx(Pt.div,{"data-side":D,"data-align":H,...k,ref:R,style:{...k.style,animation:te?void 0:"none"}})})})});Vg.displayName=kd;var Hg="PopperArrow",i_={top:"bottom",right:"left",bottom:"top",left:"right"},qg=S.forwardRef(function(e,n){const{__scopePopper:o,...a}=e,l=o_(Hg,o),u=i_[l.placedSide];return h.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:h.jsx(t_,{...a,ref:n,style:{...a.style,display:"block"}})})});qg.displayName=Hg;function a_(t){return t!==null}var l_=t=>({name:"transformOrigin",options:t,fn(e){var E,j,C;const{placement:n,rects:o,middlewareData:a}=e,u=((E=a.arrow)==null?void 0:E.centerOffset)!==0,d=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[g,y]=Kg(n),x={start:"0%",center:"50%",end:"100%"}[y],w=(((j=a.arrow)==null?void 0:j.x)??0)+d/2,b=(((C=a.arrow)==null?void 0:C.y)??0)+p/2;let _="",k="";return g==="bottom"?(_=u?x:`${w}px`,k=`${-p}px`):g==="top"?(_=u?x:`${w}px`,k=`${o.floating.height+p}px`):g==="right"?(_=`${-p}px`,k=u?x:`${b}px`):g==="left"&&(_=`${o.floating.width+p}px`,k=u?x:`${b}px`),{data:{x:_,y:k}}}});function Kg(t){const[e,n="center"]=t.split("-");return[e,n]}var c_=zg,u_=Wg,d_=Vg,f_=qg,h_="Portal",Gg=S.forwardRef((t,e)=>{var d;const{container:n,...o}=t,[a,l]=S.useState(!1);Gn(()=>l(!0),[]);const u=n||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?wb.createPortal(h.jsx(Pt.div,{...o,ref:e}),u):null});Gg.displayName=h_;function p_(t,e){return S.useReducer((n,o)=>e[n][o]??n,t)}var li=t=>{const{present:e,children:n}=t,o=m_(e),a=typeof n=="function"?n({present:o.isPresent}):S.Children.only(n),l=zt(o.ref,g_(a));return typeof n=="function"||o.isPresent?S.cloneElement(a,{ref:l}):null};li.displayName="Presence";function m_(t){const[e,n]=S.useState(),o=S.useRef({}),a=S.useRef(t),l=S.useRef("none"),u=t?"mounted":"unmounted",[d,p]=p_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const g=Ca(o.current);l.current=d==="mounted"?g:"none"},[d]),Gn(()=>{const g=o.current,y=a.current;if(y!==t){const w=l.current,b=Ca(g);t?p("MOUNT"):b==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(y&&w!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,p]),Gn(()=>{if(e){let g;const y=e.ownerDocument.defaultView??window,x=b=>{const k=Ca(o.current).includes(b.animationName);if(b.target===e&&k&&(p("ANIMATION_END"),!a.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",g=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},w=b=>{b.target===e&&(l.current=Ca(o.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{y.clearTimeout(g),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:S.useCallback(g=>{g&&(o.current=getComputedStyle(g)),n(g)},[])}}function Ca(t){return(t==null?void 0:t.animationName)||"none"}function g_(t){var o,a;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var uu="rovingFocusGroup.onEntryFocus",y_={bubbles:!1,cancelable:!0},al="RovingFocusGroup",[Bu,Yg,v_]=wg(al),[w_,Jg]=ii(al,[v_]),[x_,b_]=w_(al),Qg=S.forwardRef((t,e)=>h.jsx(Bu.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(Bu.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(S_,{...t,ref:e})})}));Qg.displayName=al;var S_=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:y=!1,...x}=t,w=S.useRef(null),b=zt(e,w),_=xg(l),[k=null,E]=yg({prop:u,defaultProp:d,onChange:p}),[j,C]=S.useState(!1),R=vr(g),I=Yg(n),L=S.useRef(!1),[F,W]=S.useState(0);return S.useEffect(()=>{const V=w.current;if(V)return V.addEventListener(uu,R),()=>V.removeEventListener(uu,R)},[R]),h.jsx(x_,{scope:n,orientation:o,dir:_,loop:a,currentTabStopId:k,onItemFocus:S.useCallback(V=>E(V),[E]),onItemShiftTab:S.useCallback(()=>C(!0),[]),onFocusableItemAdd:S.useCallback(()=>W(V=>V+1),[]),onFocusableItemRemove:S.useCallback(()=>W(V=>V-1),[]),children:h.jsx(Pt.div,{tabIndex:j||F===0?-1:0,"data-orientation":o,...x,ref:b,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{L.current=!0}),onFocus:Fe(t.onFocus,V=>{const se=!L.current;if(V.target===V.currentTarget&&se&&!j){const ye=new CustomEvent(uu,y_);if(V.currentTarget.dispatchEvent(ye),!ye.defaultPrevented){const fe=I().filter(ce=>ce.focusable),re=fe.find(ce=>ce.active),ve=fe.find(ce=>ce.id===k),Ae=[re,ve,...fe].filter(Boolean).map(ce=>ce.ref.current);ey(Ae,y)}}L.current=!1}),onBlur:Fe(t.onBlur,()=>C(!1))})})}),Xg="RovingFocusGroupItem",Zg=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:l,...u}=t,d=$u(),p=l||d,g=b_(Xg,n),y=g.currentTabStopId===p,x=Yg(n),{onFocusableItemAdd:w,onFocusableItemRemove:b}=g;return S.useEffect(()=>{if(o)return w(),()=>b()},[o,w,b]),h.jsx(Bu.ItemSlot,{scope:n,id:p,focusable:o,active:a,children:h.jsx(Pt.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:Fe(t.onMouseDown,_=>{o?g.onItemFocus(p):_.preventDefault()}),onFocus:Fe(t.onFocus,()=>g.onItemFocus(p)),onKeyDown:Fe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){g.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const k=E_(_,g.orientation,g.dir);if(k!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let j=x().filter(C=>C.focusable).map(C=>C.ref.current);if(k==="last")j.reverse();else if(k==="prev"||k==="next"){k==="prev"&&j.reverse();const C=j.indexOf(_.currentTarget);j=g.loop?C_(j,C+1):j.slice(C+1)}setTimeout(()=>ey(j))}})})})});Zg.displayName=Xg;var __={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k_(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function E_(t,e,n){const o=k_(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return __[o]}function ey(t,e=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function C_(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var N_=Qg,j_=Zg,A_=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xs=new WeakMap,Na=new WeakMap,ja={},du=0,ty=function(t){return t&&(t.host||ty(t.parentNode))},T_=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=ty(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},R_=function(t,e,n,o){var a=T_(e,Array.isArray(t)?t:[t]);ja[n]||(ja[n]=new WeakMap);var l=ja[n],u=[],d=new Set,p=new Set(a),g=function(x){!x||d.has(x)||(d.add(x),g(x.parentNode))};a.forEach(g);var y=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(w){if(d.has(w))y(w);else try{var b=w.getAttribute(o),_=b!==null&&b!=="false",k=(xs.get(w)||0)+1,E=(l.get(w)||0)+1;xs.set(w,k),l.set(w,E),u.push(w),k===1&&_&&Na.set(w,!0),E===1&&w.setAttribute(n,"true"),_||w.setAttribute(o,"true")}catch(j){console.error("aria-hidden: cannot operate on ",w,j)}})};return y(e),d.clear(),du++,function(){u.forEach(function(x){var w=xs.get(x)-1,b=l.get(x)-1;xs.set(x,w),l.set(x,b),w||(Na.has(x)||x.removeAttribute(o),Na.delete(x)),b||x.removeAttribute(n)}),du--,du||(xs=new WeakMap,xs=new WeakMap,Na=new WeakMap,ja={})}},P_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),a=A_(t);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),R_(o,a,n,"aria-hidden")):function(){return null}},Nr=function(){return Nr=Object.assign||function(e){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Nr.apply(this,arguments)};function Bs(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n}function O_(t,e,n,o){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(y){try{g(o.next(y))}catch(x){u(x)}}function p(y){try{g(o.throw(y))}catch(x){u(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((o=o.apply(t,e||[])).next())})}function I_(t,e,n){if(n||arguments.length===2)for(var o=0,a=e.length,l;o<a;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return t.concat(l||Array.prototype.slice.call(e))}var Fa="right-scroll-bar-position",za="width-before-scroll-bar",M_="with-scroll-bars-hidden",D_="--removed-body-scroll-bar-size";function fu(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function L_(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=e,n.facade}var $_=typeof window<"u"?S.useLayoutEffect:S.useEffect,um=new WeakMap;function U_(t,e){var n=L_(null,function(o){return t.forEach(function(a){return fu(a,o)})});return $_(function(){var o=um.get(n);if(o){var a=new Set(o),l=new Set(t),u=n.current;a.forEach(function(d){l.has(d)||fu(d,null)}),l.forEach(function(d){a.has(d)||fu(d,u)})}um.set(n,t)},[t]),n}function F_(t){return t}function z_(t,e){e===void 0&&(e=F_);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,o);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(o=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){o=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var p=function(){var y=u;u=[],y.forEach(l)},g=function(){return Promise.resolve().then(p)};g(),n={push:function(y){u.push(y),g()},filter:function(y){return u=u.filter(y),n}}}};return a}function B_(t){t===void 0&&(t={});var e=z_(null);return e.options=Nr({async:!0,ssr:!1},t),e}var ry=function(t){var e=t.sideCar,n=Bs(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return S.createElement(o,Nr({},n))};ry.isSideCarExport=!0;function W_(t,e){return t.useMedium(e),ry}var ny=B_(),hu=function(){},ll=S.forwardRef(function(t,e){var n=S.useRef(null),o=S.useState({onScrollCapture:hu,onWheelCapture:hu,onTouchMoveCapture:hu}),a=o[0],l=o[1],u=t.forwardProps,d=t.children,p=t.className,g=t.removeScrollBar,y=t.enabled,x=t.shards,w=t.sideCar,b=t.noRelative,_=t.noIsolation,k=t.inert,E=t.allowPinchZoom,j=t.as,C=j===void 0?"div":j,R=t.gapMode,I=Bs(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=w,F=U_([n,e]),W=Nr(Nr({},I),a);return S.createElement(S.Fragment,null,y&&S.createElement(L,{sideCar:ny,removeScrollBar:g,shards:x,noRelative:b,noIsolation:_,inert:k,setCallbacks:l,allowPinchZoom:!!E,lockRef:n,gapMode:R}),u?S.cloneElement(S.Children.only(d),Nr(Nr({},W),{ref:F})):S.createElement(C,Nr({},W,{className:p,ref:F}),d))});ll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ll.classNames={fullWidth:za,zeroRight:Fa};var V_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function H_(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V_();return e&&t.setAttribute("nonce",e),t}function q_(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function K_(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var G_=function(){var t=0,e=null;return{add:function(n){t==0&&(e=H_())&&(q_(e,n),K_(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Y_=function(){var t=G_();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sy=function(){var t=Y_(),e=function(n){var o=n.styles,a=n.dynamic;return t(o,a),null};return e},J_={left:0,top:0,right:0,gap:0},pu=function(t){return parseInt(t||"",10)||0},Q_=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[pu(n),pu(o),pu(a)]},X_=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return J_;var e=Q_(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},Z_=sy(),Ms="data-scroll-locked",ek=function(t,e,n,o){var a=t.left,l=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(M_,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(Ms,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fa,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(za,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Fa," .").concat(Fa,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(za," .").concat(za,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Ms,`] {
    `).concat(D_,": ").concat(d,`px;
  }
`)},dm=function(){var t=parseInt(document.body.getAttribute(Ms)||"0",10);return isFinite(t)?t:0},tk=function(){S.useEffect(function(){return document.body.setAttribute(Ms,(dm()+1).toString()),function(){var t=dm()-1;t<=0?document.body.removeAttribute(Ms):document.body.setAttribute(Ms,t.toString())}},[])},rk=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,a=o===void 0?"margin":o;tk();var l=S.useMemo(function(){return X_(a)},[a]);return S.createElement(Z_,{styles:ek(l,!e,a,n?"":"!important")})},Wu=!1;if(typeof window<"u")try{var Aa=Object.defineProperty({},"passive",{get:function(){return Wu=!0,!0}});window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{Wu=!1}var bs=Wu?{passive:!1}:!1,nk=function(t){return t.tagName==="TEXTAREA"},oy=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!nk(t)&&n[e]==="visible")},sk=function(t){return oy(t,"overflowY")},ok=function(t){return oy(t,"overflowX")},fm=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=iy(t,o);if(a){var l=ay(t,o),u=l[1],d=l[2];if(u>d)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},ik=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},ak=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},iy=function(t,e){return t==="v"?sk(e):ok(e)},ay=function(t,e){return t==="v"?ik(e):ak(e)},lk=function(t,e){return t==="h"&&e==="rtl"?-1:1},ck=function(t,e,n,o,a){var l=lk(t,window.getComputedStyle(e).direction),u=l*o,d=n.target,p=e.contains(d),g=!1,y=u>0,x=0,w=0;do{if(!d)break;var b=ay(t,d),_=b[0],k=b[1],E=b[2],j=k-E-l*_;(_||j)&&iy(t,d)&&(x+=j,w+=_);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(y&&Math.abs(x)<1||!y&&Math.abs(w)<1)&&(g=!0),g},Ta=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hm=function(t){return[t.deltaX,t.deltaY]},pm=function(t){return t&&"current"in t?t.current:t},uk=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dk=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fk=0,Ss=[];function hk(t){var e=S.useRef([]),n=S.useRef([0,0]),o=S.useRef(),a=S.useState(fk++)[0],l=S.useState(sy)[0],u=S.useRef(t);S.useEffect(function(){u.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var k=I_([t.lockRef.current],(t.shards||[]).map(pm),!0).filter(Boolean);return k.forEach(function(E){return E.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),k.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var d=S.useCallback(function(k,E){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!u.current.allowPinchZoom;var j=Ta(k),C=n.current,R="deltaX"in k?k.deltaX:C[0]-j[0],I="deltaY"in k?k.deltaY:C[1]-j[1],L,F=k.target,W=Math.abs(R)>Math.abs(I)?"h":"v";if("touches"in k&&W==="h"&&F.type==="range")return!1;var V=window.getSelection(),se=V&&V.anchorNode,ye=se?se===F||se.contains(F):!1;if(ye)return!1;var fe=fm(W,F);if(!fe)return!0;if(fe?L=W:(L=W==="v"?"h":"v",fe=fm(W,F)),!fe)return!1;if(!o.current&&"changedTouches"in k&&(R||I)&&(o.current=L),!L)return!0;var re=o.current||L;return ck(re,E,k,re==="h"?R:I)},[]),p=S.useCallback(function(k){var E=k;if(!(!Ss.length||Ss[Ss.length-1]!==l)){var j="deltaY"in E?hm(E):Ta(E),C=e.current.filter(function(L){return L.name===E.type&&(L.target===E.target||E.target===L.shadowParent)&&uk(L.delta,j)})[0];if(C&&C.should){E.cancelable&&E.preventDefault();return}if(!C){var R=(u.current.shards||[]).map(pm).filter(Boolean).filter(function(L){return L.contains(E.target)}),I=R.length>0?d(E,R[0]):!u.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),g=S.useCallback(function(k,E,j,C){var R={name:k,delta:E,target:j,should:C,shadowParent:pk(j)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(I){return I!==R})},1)},[]),y=S.useCallback(function(k){n.current=Ta(k),o.current=void 0},[]),x=S.useCallback(function(k){g(k.type,hm(k),k.target,d(k,t.lockRef.current))},[]),w=S.useCallback(function(k){g(k.type,Ta(k),k.target,d(k,t.lockRef.current))},[]);S.useEffect(function(){return Ss.push(l),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",p,bs),document.addEventListener("touchmove",p,bs),document.addEventListener("touchstart",y,bs),function(){Ss=Ss.filter(function(k){return k!==l}),document.removeEventListener("wheel",p,bs),document.removeEventListener("touchmove",p,bs),document.removeEventListener("touchstart",y,bs)}},[]);var b=t.removeScrollBar,_=t.inert;return S.createElement(S.Fragment,null,_?S.createElement(l,{styles:dk(a)}):null,b?S.createElement(rk,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function pk(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const mk=W_(ny,hk);var ly=S.forwardRef(function(t,e){return S.createElement(ll,Nr({},t,{ref:e,sideCar:mk}))});ly.classNames=ll.classNames;var Vu=["Enter"," "],gk=["ArrowDown","PageUp","Home"],cy=["ArrowUp","PageDown","End"],yk=[...gk,...cy],vk={ltr:[...Vu,"ArrowRight"],rtl:[...Vu,"ArrowLeft"]},wk={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ci="Menu",[Xo,xk,bk]=wg(ci),[Jn,uy]=ii(ci,[bk,Ug,Jg]),cl=Ug(),dy=Jg(),[Sk,Qn]=Jn(ci),[_k,ui]=Jn(ci),fy=t=>{const{__scopeMenu:e,open:n=!1,children:o,dir:a,onOpenChange:l,modal:u=!0}=t,d=cl(e),[p,g]=S.useState(null),y=S.useRef(!1),x=vr(l),w=xg(a);return S.useEffect(()=>{const b=()=>{y.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>y.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),h.jsx(c_,{...d,children:h.jsx(Sk,{scope:e,open:n,onOpenChange:x,content:p,onContentChange:g,children:h.jsx(_k,{scope:e,onClose:S.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:y,dir:w,modal:u,children:o})})})};fy.displayName=ci;var kk="MenuAnchor",Ed=S.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t,a=cl(n);return h.jsx(u_,{...a,...o,ref:e})});Ed.displayName=kk;var Cd="MenuPortal",[Ek,hy]=Jn(Cd,{forceMount:void 0}),py=t=>{const{__scopeMenu:e,forceMount:n,children:o,container:a}=t,l=Qn(Cd,e);return h.jsx(Ek,{scope:e,forceMount:n,children:h.jsx(li,{present:n||l.open,children:h.jsx(Gg,{asChild:!0,container:a,children:o})})})};py.displayName=Cd;var ir="MenuContent",[Ck,Nd]=Jn(ir),my=S.forwardRef((t,e)=>{const n=hy(ir,t.__scopeMenu),{forceMount:o=n.forceMount,...a}=t,l=Qn(ir,t.__scopeMenu),u=ui(ir,t.__scopeMenu);return h.jsx(Xo.Provider,{scope:t.__scopeMenu,children:h.jsx(li,{present:o||l.open,children:h.jsx(Xo.Slot,{scope:t.__scopeMenu,children:u.modal?h.jsx(Nk,{...a,ref:e}):h.jsx(jk,{...a,ref:e})})})})}),Nk=S.forwardRef((t,e)=>{const n=Qn(ir,t.__scopeMenu),o=S.useRef(null),a=zt(e,o);return S.useEffect(()=>{const l=o.current;if(l)return P_(l)},[]),h.jsx(jd,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Fe(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jk=S.forwardRef((t,e)=>{const n=Qn(ir,t.__scopeMenu);return h.jsx(jd,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),jd=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:w,onDismiss:b,disableOutsideScroll:_,...k}=t,E=Qn(ir,n),j=ui(ir,n),C=cl(n),R=dy(n),I=xk(n),[L,F]=S.useState(null),W=S.useRef(null),V=zt(e,W,E.onContentChange),se=S.useRef(0),ye=S.useRef(""),fe=S.useRef(0),re=S.useRef(null),ve=S.useRef("right"),_e=S.useRef(0),Ae=_?ly:S.Fragment,ce=_?{as:Yo,allowPinchZoom:!0}:void 0,te=D=>{var ne,Oe;const H=ye.current+D,T=I().filter(Te=>!Te.disabled),z=document.activeElement,ie=(ne=T.find(Te=>Te.ref.current===z))==null?void 0:ne.textValue,G=T.map(Te=>Te.textValue),de=Fk(G,H,ie),ke=(Oe=T.find(Te=>Te.textValue===de))==null?void 0:Oe.ref.current;(function Te(Be){ye.current=Be,window.clearTimeout(se.current),Be!==""&&(se.current=window.setTimeout(()=>Te(""),1e3))})(H),ke&&setTimeout(()=>ke.focus())};S.useEffect(()=>()=>window.clearTimeout(se.current),[]),Ib();const P=S.useCallback(D=>{var T,z;return ve.current===((T=re.current)==null?void 0:T.side)&&Bk(D,(z=re.current)==null?void 0:z.area)},[]);return h.jsx(Ck,{scope:n,searchRef:ye,onItemEnter:S.useCallback(D=>{P(D)&&D.preventDefault()},[P]),onItemLeave:S.useCallback(D=>{var H;P(D)||((H=W.current)==null||H.focus(),F(null))},[P]),onTriggerLeave:S.useCallback(D=>{P(D)&&D.preventDefault()},[P]),pointerGraceTimerRef:fe,onPointerGraceIntentChange:S.useCallback(D=>{re.current=D},[]),children:h.jsx(Ae,{...ce,children:h.jsx(kg,{asChild:!0,trapped:a,onMountAutoFocus:Fe(l,D=>{var H;D.preventDefault(),(H=W.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:h.jsx(Sg,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:w,onDismiss:b,children:h.jsx(N_,{asChild:!0,...R,dir:j.dir,orientation:"vertical",loop:o,currentTabStopId:L,onCurrentTabStopIdChange:F,onEntryFocus:Fe(p,D=>{j.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(d_,{role:"menu","aria-orientation":"vertical","data-state":Ry(E.open),"data-radix-menu-content":"",dir:j.dir,...C,...k,ref:V,style:{outline:"none",...k.style},onKeyDown:Fe(k.onKeyDown,D=>{const T=D.target.closest("[data-radix-menu-content]")===D.currentTarget,z=D.ctrlKey||D.altKey||D.metaKey,ie=D.key.length===1;T&&(D.key==="Tab"&&D.preventDefault(),!z&&ie&&te(D.key));const G=W.current;if(D.target!==G||!yk.includes(D.key))return;D.preventDefault();const ke=I().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);cy.includes(D.key)&&ke.reverse(),$k(ke)}),onBlur:Fe(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(se.current),ye.current="")}),onPointerMove:Fe(t.onPointerMove,Zo(D=>{const H=D.target,T=_e.current!==D.clientX;if(D.currentTarget.contains(H)&&T){const z=D.clientX>_e.current?"right":"left";ve.current=z,_e.current=D.clientX}}))})})})})})})});my.displayName=ir;var Ak="MenuGroup",Ad=S.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return h.jsx(Pt.div,{role:"group",...o,ref:e})});Ad.displayName=Ak;var Tk="MenuLabel",gy=S.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return h.jsx(Pt.div,{...o,ref:e})});gy.displayName=Tk;var Ja="MenuItem",mm="menu.itemSelect",ul=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:o,...a}=t,l=S.useRef(null),u=ui(Ja,t.__scopeMenu),d=Nd(Ja,t.__scopeMenu),p=zt(e,l),g=S.useRef(!1),y=()=>{const x=l.current;if(!n&&x){const w=new CustomEvent(mm,{bubbles:!0,cancelable:!0});x.addEventListener(mm,b=>o==null?void 0:o(b),{once:!0}),vg(x,w),w.defaultPrevented?g.current=!1:u.onClose()}};return h.jsx(yy,{...a,ref:p,disabled:n,onClick:Fe(t.onClick,y),onPointerDown:x=>{var w;(w=t.onPointerDown)==null||w.call(t,x),g.current=!0},onPointerUp:Fe(t.onPointerUp,x=>{var w;g.current||(w=x.currentTarget)==null||w.click()}),onKeyDown:Fe(t.onKeyDown,x=>{const w=d.searchRef.current!=="";n||w&&x.key===" "||Vu.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});ul.displayName=Ja;var yy=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:o=!1,textValue:a,...l}=t,u=Nd(Ja,n),d=dy(n),p=S.useRef(null),g=zt(e,p),[y,x]=S.useState(!1),[w,b]=S.useState("");return S.useEffect(()=>{const _=p.current;_&&b((_.textContent??"").trim())},[l.children]),h.jsx(Xo.ItemSlot,{scope:n,disabled:o,textValue:a??w,children:h.jsx(j_,{asChild:!0,...d,focusable:!o,children:h.jsx(Pt.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...l,ref:g,onPointerMove:Fe(t.onPointerMove,Zo(_=>{o?u.onItemLeave(_):(u.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(t.onPointerLeave,Zo(_=>u.onItemLeave(_))),onFocus:Fe(t.onFocus,()=>x(!0)),onBlur:Fe(t.onBlur,()=>x(!1))})})})}),Rk="MenuCheckboxItem",vy=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:o,...a}=t;return h.jsx(_y,{scope:t.__scopeMenu,checked:n,children:h.jsx(ul,{role:"menuitemcheckbox","aria-checked":Qa(n)?"mixed":n,...a,ref:e,"data-state":Rd(n),onSelect:Fe(a.onSelect,()=>o==null?void 0:o(Qa(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vy.displayName=Rk;var wy="MenuRadioGroup",[Pk,Ok]=Jn(wy,{value:void 0,onValueChange:()=>{}}),xy=S.forwardRef((t,e)=>{const{value:n,onValueChange:o,...a}=t,l=vr(o);return h.jsx(Pk,{scope:t.__scopeMenu,value:n,onValueChange:l,children:h.jsx(Ad,{...a,ref:e})})});xy.displayName=wy;var by="MenuRadioItem",Sy=S.forwardRef((t,e)=>{const{value:n,...o}=t,a=Ok(by,t.__scopeMenu),l=n===a.value;return h.jsx(_y,{scope:t.__scopeMenu,checked:l,children:h.jsx(ul,{role:"menuitemradio","aria-checked":l,...o,ref:e,"data-state":Rd(l),onSelect:Fe(o.onSelect,()=>{var u;return(u=a.onValueChange)==null?void 0:u.call(a,n)},{checkForDefaultPrevented:!1})})})});Sy.displayName=by;var Td="MenuItemIndicator",[_y,Ik]=Jn(Td,{checked:!1}),ky=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:o,...a}=t,l=Ik(Td,n);return h.jsx(li,{present:o||Qa(l.checked)||l.checked===!0,children:h.jsx(Pt.span,{...a,ref:e,"data-state":Rd(l.checked)})})});ky.displayName=Td;var Mk="MenuSeparator",Ey=S.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return h.jsx(Pt.div,{role:"separator","aria-orientation":"horizontal",...o,ref:e})});Ey.displayName=Mk;var Dk="MenuArrow",Cy=S.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t,a=cl(n);return h.jsx(f_,{...a,...o,ref:e})});Cy.displayName=Dk;var Lk="MenuSub",[gj,Ny]=Jn(Lk),$o="MenuSubTrigger",jy=S.forwardRef((t,e)=>{const n=Qn($o,t.__scopeMenu),o=ui($o,t.__scopeMenu),a=Ny($o,t.__scopeMenu),l=Nd($o,t.__scopeMenu),u=S.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:p}=l,g={__scopeMenu:t.__scopeMenu},y=S.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return S.useEffect(()=>y,[y]),S.useEffect(()=>{const x=d.current;return()=>{window.clearTimeout(x),p(null)}},[d,p]),h.jsx(Ed,{asChild:!0,...g,children:h.jsx(yy,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Ry(n.open),...t,ref:rl(e,a.onTriggerChange),onClick:x=>{var w;(w=t.onClick)==null||w.call(t,x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Fe(t.onPointerMove,Zo(x=>{l.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Fe(t.onPointerLeave,Zo(x=>{var b,_;y();const w=(b=n.content)==null?void 0:b.getBoundingClientRect();if(w){const k=(_=n.content)==null?void 0:_.dataset.side,E=k==="right",j=E?-5:5,C=w[E?"left":"right"],R=w[E?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+j,y:x.clientY},{x:C,y:w.top},{x:R,y:w.top},{x:R,y:w.bottom},{x:C,y:w.bottom}],side:k}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(t.onKeyDown,x=>{var b;const w=l.searchRef.current!=="";t.disabled||w&&x.key===" "||vk[o.dir].includes(x.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),x.preventDefault())})})})});jy.displayName=$o;var Ay="MenuSubContent",Ty=S.forwardRef((t,e)=>{const n=hy(ir,t.__scopeMenu),{forceMount:o=n.forceMount,...a}=t,l=Qn(ir,t.__scopeMenu),u=ui(ir,t.__scopeMenu),d=Ny(Ay,t.__scopeMenu),p=S.useRef(null),g=zt(e,p);return h.jsx(Xo.Provider,{scope:t.__scopeMenu,children:h.jsx(li,{present:o||l.open,children:h.jsx(Xo.Slot,{scope:t.__scopeMenu,children:h.jsx(jd,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:g,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var x;u.isUsingKeyboardRef.current&&((x=p.current)==null||x.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Fe(t.onFocusOutside,y=>{y.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Fe(t.onEscapeKeyDown,y=>{u.onClose(),y.preventDefault()}),onKeyDown:Fe(t.onKeyDown,y=>{var b;const x=y.currentTarget.contains(y.target),w=wk[u.dir].includes(y.key);x&&w&&(l.onOpenChange(!1),(b=d.trigger)==null||b.focus(),y.preventDefault())})})})})})});Ty.displayName=Ay;function Ry(t){return t?"open":"closed"}function Qa(t){return t==="indeterminate"}function Rd(t){return Qa(t)?"indeterminate":t?"checked":"unchecked"}function $k(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Uk(t,e){return t.map((n,o)=>t[(e+o)%t.length])}function Fk(t,e,n){const a=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=Uk(t,Math.max(l,0));a.length===1&&(u=u.filter(g=>g!==n));const p=u.find(g=>g.toLowerCase().startsWith(a.toLowerCase()));return p!==n?p:void 0}function zk(t,e){const{x:n,y:o}=t;let a=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const d=e[l].x,p=e[l].y,g=e[u].x,y=e[u].y;p>o!=y>o&&n<(g-d)*(o-p)/(y-p)+d&&(a=!a)}return a}function Bk(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return zk(n,e)}function Zo(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Wk=fy,Vk=Ed,Hk=py,qk=my,Kk=Ad,Gk=gy,Yk=ul,Jk=vy,Qk=xy,Xk=Sy,Zk=ky,eE=Ey,tE=Cy,rE=jy,nE=Ty,Pd="DropdownMenu",[sE]=ii(Pd,[uy]),Ot=uy(),[oE,Py]=sE(Pd),Oy=t=>{const{__scopeDropdownMenu:e,children:n,dir:o,open:a,defaultOpen:l,onOpenChange:u,modal:d=!0}=t,p=Ot(e),g=S.useRef(null),[y=!1,x]=yg({prop:a,defaultProp:l,onChange:u});return h.jsx(oE,{scope:e,triggerId:$u(),triggerRef:g,contentId:$u(),open:y,onOpenChange:x,onOpenToggle:S.useCallback(()=>x(w=>!w),[x]),modal:d,children:h.jsx(Wk,{...p,open:y,onOpenChange:x,dir:o,modal:d,children:n})})};Oy.displayName=Pd;var Iy="DropdownMenuTrigger",My=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...a}=t,l=Py(Iy,n),u=Ot(n);return h.jsx(Vk,{asChild:!0,...u,children:h.jsx(Pt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...a,ref:rl(e,l.triggerRef),onPointerDown:Fe(t.onPointerDown,d=>{!o&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Fe(t.onKeyDown,d=>{o||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});My.displayName=Iy;var iE="DropdownMenuPortal",Dy=t=>{const{__scopeDropdownMenu:e,...n}=t,o=Ot(e);return h.jsx(Hk,{...o,...n})};Dy.displayName=iE;var Ly="DropdownMenuContent",$y=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Py(Ly,n),l=Ot(n),u=S.useRef(!1);return h.jsx(qk,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...o,ref:e,onCloseAutoFocus:Fe(t.onCloseAutoFocus,d=>{var p;u.current||(p=a.triggerRef.current)==null||p.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Fe(t.onInteractOutside,d=>{const p=d.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,y=p.button===2||g;(!a.modal||y)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$y.displayName=Ly;var aE="DropdownMenuGroup",lE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(Kk,{...a,...o,ref:e})});lE.displayName=aE;var cE="DropdownMenuLabel",uE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(Gk,{...a,...o,ref:e})});uE.displayName=cE;var dE="DropdownMenuItem",Uy=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(Yk,{...a,...o,ref:e})});Uy.displayName=dE;var fE="DropdownMenuCheckboxItem",hE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(Jk,{...a,...o,ref:e})});hE.displayName=fE;var pE="DropdownMenuRadioGroup",mE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(Qk,{...a,...o,ref:e})});mE.displayName=pE;var gE="DropdownMenuRadioItem",yE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(Xk,{...a,...o,ref:e})});yE.displayName=gE;var vE="DropdownMenuItemIndicator",wE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(Zk,{...a,...o,ref:e})});wE.displayName=vE;var xE="DropdownMenuSeparator",bE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(eE,{...a,...o,ref:e})});bE.displayName=xE;var SE="DropdownMenuArrow",_E=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(tE,{...a,...o,ref:e})});_E.displayName=SE;var kE="DropdownMenuSubTrigger",EE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(rE,{...a,...o,ref:e})});EE.displayName=kE;var CE="DropdownMenuSubContent",NE=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,a=Ot(n);return h.jsx(nE,{...a,...o,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NE.displayName=CE;var jE=Oy,AE=My,TE=Dy,RE=$y,PE=Uy;function Fy(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=Fy(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function OE(){for(var t,e,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=Fy(t))&&(o&&(o+=" "),o+=e);return o}const Od="-",IE=t=>{const e=DE(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:u=>{const d=u.split(Od);return d[0]===""&&d.length!==1&&d.shift(),zy(d,e)||ME(u)},getConflictingClassGroupIds:(u,d)=>{const p=n[u]||[];return d&&o[u]?[...p,...o[u]]:p}}},zy=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),a=o?zy(t.slice(1),o):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(Od);return(u=e.validators.find(({validator:d})=>d(l)))==null?void 0:u.classGroupId},gm=/^\[(.+)\]$/,ME=t=>{if(gm.test(t)){const e=gm.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},DE=t=>{const{theme:e,classGroups:n}=t,o={nextPart:new Map,validators:[]};for(const a in n)Hu(n[a],o,a,e);return o},Hu=(t,e,n,o)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:ym(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(LE(a)){Hu(a(o),e,n,o);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,u])=>{Hu(u,ym(e,l),n,o)})})},ym=(t,e)=>{let n=t;return e.split(Od).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},LE=t=>t.isThemeGetter,$E=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;const a=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,o=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=o.get(l))!==void 0)return a(l,u),u},set(l,u){n.has(l)?n.set(l,u):a(l,u)}}},qu="!",Ku=":",UE=Ku.length,FE=t=>{const{prefix:e,experimentalParseClassName:n}=t;let o=a=>{const l=[];let u=0,d=0,p=0,g;for(let _=0;_<a.length;_++){let k=a[_];if(u===0&&d===0){if(k===Ku){l.push(a.slice(p,_)),p=_+UE;continue}if(k==="/"){g=_;continue}}k==="["?u++:k==="]"?u--:k==="("?d++:k===")"&&d--}const y=l.length===0?a:a.substring(p),x=zE(y),w=x!==y,b=g&&g>p?g-p:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:b}};if(e){const a=e+Ku,l=o;o=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=o;o=l=>n({className:l,parseClassName:a})}return o},zE=t=>t.endsWith(qu)?t.substring(0,t.length-1):t.startsWith(qu)?t.substring(1):t,BE=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const a=[];let l=[];return o.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},WE=t=>({cache:$E(t.cacheSize),parseClassName:FE(t),sortModifiers:BE(t),...IE(t)}),VE=/\s+/,HE=(t,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],d=t.trim().split(VE);let p="";for(let g=d.length-1;g>=0;g-=1){const y=d[g],{isExternal:x,modifiers:w,hasImportantModifier:b,baseClassName:_,maybePostfixModifierPosition:k}=n(y);if(x){p=y+(p.length>0?" "+p:p);continue}let E=!!k,j=o(E?_.substring(0,k):_);if(!j){if(!E){p=y+(p.length>0?" "+p:p);continue}if(j=o(_),!j){p=y+(p.length>0?" "+p:p);continue}E=!1}const C=l(w).join(":"),R=b?C+qu:C,I=R+j;if(u.includes(I))continue;u.push(I);const L=a(j,E);for(let F=0;F<L.length;++F){const W=L[F];u.push(R+W)}p=y+(p.length>0?" "+p:p)}return p};function qE(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=By(e))&&(o&&(o+=" "),o+=n);return o}const By=t=>{if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=By(t[o]))&&(n&&(n+=" "),n+=e);return n};function KE(t,...e){let n,o,a,l=u;function u(p){const g=e.reduce((y,x)=>x(y),t());return n=WE(g),o=n.cache.get,a=n.cache.set,l=d,d(p)}function d(p){const g=o(p);if(g)return g;const y=HE(p,n);return a(p,y),y}return function(){return l(qE.apply(null,arguments))}}const pt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Wy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Vy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GE=/^\d+\/\d+$/,YE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=t=>GE.test(t),Ie=t=>!!t&&!Number.isNaN(Number(t)),pn=t=>!!t&&Number.isInteger(Number(t)),mu=t=>t.endsWith("%")&&Ie(t.slice(0,-1)),Fr=t=>YE.test(t),e1=()=>!0,t1=t=>JE.test(t)&&!QE.test(t),Hy=()=>!1,r1=t=>XE.test(t),n1=t=>ZE.test(t),s1=t=>!me(t)&&!ge(t),o1=t=>Ws(t,Gy,Hy),me=t=>Wy.test(t),Ln=t=>Ws(t,Yy,t1),gu=t=>Ws(t,u1,Ie),vm=t=>Ws(t,qy,Hy),i1=t=>Ws(t,Ky,n1),Ra=t=>Ws(t,Jy,r1),ge=t=>Vy.test(t),Mo=t=>Vs(t,Yy),a1=t=>Vs(t,d1),wm=t=>Vs(t,qy),l1=t=>Vs(t,Gy),c1=t=>Vs(t,Ky),Pa=t=>Vs(t,Jy,!0),Ws=(t,e,n)=>{const o=Wy.exec(t);return o?o[1]?e(o[1]):n(o[2]):!1},Vs=(t,e,n=!1)=>{const o=Vy.exec(t);return o?o[1]?e(o[1]):n:!1},qy=t=>t==="position"||t==="percentage",Ky=t=>t==="image"||t==="url",Gy=t=>t==="length"||t==="size"||t==="bg-size",Yy=t=>t==="length",u1=t=>t==="number",d1=t=>t==="family-name",Jy=t=>t==="shadow",f1=()=>{const t=pt("color"),e=pt("font"),n=pt("text"),o=pt("font-weight"),a=pt("tracking"),l=pt("leading"),u=pt("breakpoint"),d=pt("container"),p=pt("spacing"),g=pt("radius"),y=pt("shadow"),x=pt("inset-shadow"),w=pt("text-shadow"),b=pt("drop-shadow"),_=pt("blur"),k=pt("perspective"),E=pt("aspect"),j=pt("ease"),C=pt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...I(),ge,me],F=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto","contain","none"],V=()=>[ge,me,p],se=()=>[_s,"full","auto",...V()],ye=()=>[pn,"none","subgrid",ge,me],fe=()=>["auto",{span:["full",pn,ge,me]},pn,ge,me],re=()=>[pn,"auto",ge,me],ve=()=>["auto","min","max","fr",ge,me],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...V()],te=()=>[_s,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],P=()=>[t,ge,me],D=()=>[...I(),wm,vm,{position:[ge,me]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",l1,o1,{size:[ge,me]}],z=()=>[mu,Mo,Ln],ie=()=>["","none","full",g,ge,me],G=()=>["",Ie,Mo,Ln],de=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Ie,mu,wm,vm],Oe=()=>["","none",_,ge,me],Te=()=>["none",Ie,ge,me],Be=()=>["none",Ie,ge,me],dt=()=>[Ie,ge,me],wt=()=>[_s,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fr],breakpoint:[Fr],color:[e1],container:[Fr],"drop-shadow":[Fr],ease:["in","out","in-out"],font:[s1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fr],shadow:[Fr],spacing:["px",Ie],text:[Fr],"text-shadow":[Fr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_s,me,ge,E]}],container:["container"],columns:[{columns:[Ie,me,ge,d]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[pn,"auto",ge,me]}],basis:[{basis:[_s,"full","auto",d,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ie,_s,"auto","initial","none",me]}],grow:[{grow:["",Ie,ge,me]}],shrink:[{shrink:["",Ie,ge,me]}],order:[{order:[pn,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":ye()}],"col-start-end":[{col:fe()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":ye()}],"row-start-end":[{row:fe()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[d,"screen",...te()]}],"min-w":[{"min-w":[d,"screen","none",...te()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...te()]}],h:[{h:["screen",...te()]}],"min-h":[{"min-h":["screen","none",...te()]}],"max-h":[{"max-h":["screen",...te()]}],"font-size":[{text:["base",n,Mo,Ln]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ge,gu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mu,me]}],"font-family":[{font:[a1,me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ge,me]}],"line-clamp":[{"line-clamp":[Ie,"none",ge,gu]}],leading:[{leading:[l,...V()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ie,"from-font","auto",ge,Ln]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[Ie,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pn,ge,me],radial:["",ge,me],conic:[pn,ge,me]},c1,i1]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ie,ge,me]}],"outline-w":[{outline:["",Ie,Mo,Ln]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",y,Pa,Ra]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",x,Pa,Ra]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[Ie,Ln]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",w,Pa,Ra]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[Ie,ge,me]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ie]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Ie]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:Oe()}],brightness:[{brightness:[Ie,ge,me]}],contrast:[{contrast:[Ie,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",b,Pa,Ra]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",Ie,ge,me]}],"hue-rotate":[{"hue-rotate":[Ie,ge,me]}],invert:[{invert:["",Ie,ge,me]}],saturate:[{saturate:[Ie,ge,me]}],sepia:[{sepia:["",Ie,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Ie,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[Ie,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ie,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ie,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",Ie,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[Ie,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[Ie,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Ie,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ie,"initial",ge,me]}],ease:[{ease:["linear","initial",j,ge,me]}],delay:[{delay:[Ie,ge,me]}],animate:[{animate:["none",C,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ge,me]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Be()}],"scale-x":[{"scale-x":Be()}],"scale-y":[{"scale-y":Be()}],"scale-z":[{"scale-z":Be()}],"scale-3d":["scale-3d"],skew:[{skew:dt()}],"skew-x":[{"skew-x":dt()}],"skew-y":[{"skew-y":dt()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wt()}],"translate-x":[{"translate-x":wt()}],"translate-y":[{"translate-y":wt()}],"translate-z":[{"translate-z":wt()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[Ie,Mo,Ln,gu]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},h1=KE(f1);function Qy(...t){return h1(OE(t))}function p1({...t}){return h.jsx(jE,{"data-slot":"dropdown-menu",...t})}function m1({...t}){return h.jsx(AE,{"data-slot":"dropdown-menu-trigger",...t})}function g1({className:t,sideOffset:e=4,...n}){return h.jsx(TE,{children:h.jsx(RE,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Qy("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function yu({className:t,inset:e,variant:n="default",...o}){return h.jsx(PE,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Qy("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o})}function y1({workoutName:t,exercises:e,lastSessionData:n,allWorkouts:o,onBack:a,onAddExercise:l,onAddSet:u,onDeleteSet:d,onCompleteExercise:p,onSkipExercise:g,onDeferExercise:y,onSwapExercise:x,onReorderExercises:w,onFinishWorkout:b}){const[_,k]=S.useState(""),[E,j]=S.useState(""),[C,R]=S.useState(!1),[I,L]=S.useState(!1),[F,W]=S.useState(!1),[V,se]=S.useState(null),[ye,fe]=S.useState(null),[re,ve]=S.useState(0),[_e,Ae]=S.useState("upcoming"),[ce,te]=S.useState(!1),P=S.useRef(0),[D,H]=S.useState(()=>{const K=e.find(le=>!le.isComplete);return(K==null?void 0:K.id)||null}),[T,z]=S.useState(()=>{const K=e.find(le=>!le.isComplete);return(K==null?void 0:K.id)||null});S.useEffect(()=>{if(!D&&e.length>0){const K=e.find(le=>!le.isComplete);K&&(H(K.id),z(K.id))}},[e,D]);const ie=e.find(K=>K.id===D)||null,G=e.find(K=>K.id===T)||ie;S.useEffect(()=>{if(G&&G.sets.length>0){const K=G.sets[G.sets.length-1];k(K.weight.toString()),j(K.reps.toString())}else G&&G.sets.length===0&&(k(""),j(""))},[G==null?void 0:G.id,G==null?void 0:G.sets.length]);const de=e.filter(K=>K.isComplete);S.useEffect(()=>{const K=de.length,le=P.current;if(K>le&&le>0){te(!0);const Pe=setTimeout(()=>te(!1),1e3);return P.current=K,()=>clearTimeout(Pe)}P.current=K},[de.length]);const ke=ie?e.indexOf(ie):-1,ne=ie&&ke>=0?e.slice(ke+1).filter(K=>!K.isComplete):e.filter(K=>!K.isComplete);S.useEffect(()=>{if(ye===null){ve(0);return}const K=setInterval(()=>{const le=Math.floor((Date.now()-ye)/1e3);ve(le)},1e3);return()=>clearInterval(K)},[ye]);const Oe=()=>{if(!G)return;const K=parseFloat(_),le=parseInt(E);isNaN(K)||isNaN(le)||K<=0||le<=0||(u(G.id,K,le,re>0?re:void 0),k(K.toString()),j(le.toString()),fe(Date.now()),ve(0))},Te=K=>{G&&d(G.id,K)},Be=()=>{if(!G)return;p(G.id);const K=e.findIndex(Pe=>Pe.id===G.id),le=e.slice(K+1).find(Pe=>!Pe.isComplete);le?(H(le.id),z(le.id)):(H(null),z(null))},dt=K=>{g(K);const le=e.find(Pe=>Pe.id===K);if(le){const Pe=e.indexOf(le),Ge=e.slice(Pe+1).find(It=>!It.isComplete);Ge&&(H(Ge.id),z(Ge.id))}},wt=K=>{y(K);const le=e.find(Pe=>Pe.id===K);if(le){const Pe=e.indexOf(le),Ge=e.slice(Pe+1).find(It=>!It.isComplete);Ge&&(H(Ge.id),z(Ge.id))}},st=K=>{G&&(x(G.id,K),W(!1))},kt=K=>{z(K)},ar=()=>{z(D)},Z=K=>{K.trim()&&(l(K.trim()),R(!1))},ae=K=>{try{const{addExerciseToDb:le}=require("../utils/exerciseDb");le(K)}catch{}Z(K)},Ue=K=>{se(K)},He=(K,le)=>{if(K.preventDefault(),V===null||V===le)return;const Pe=[...ne],Ge=Pe[V];Pe.splice(V,1),Pe.splice(le,0,Ge);const It=[...de,...ie?[ie]:[],...Pe];w(It),se(le)},Le=()=>{se(null)};return G?h.jsxs("div",{className:"h-screen flex flex-col bg-panel",children:[h.jsx(Br,{title:t,onBack:a}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-6 space-y-6",children:[h.jsxs("div",{className:"bg-surface rounded-2xl border border-border-subtle p-6 space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold",children:G.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[G.isComplete&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ju,{className:"w-4 h-4 text-accent"}),h.jsx("p",{className:"text-sm",children:"Editing completed exercise"})]}),G.isComplete&&h.jsx("button",{onClick:ar,className:"text-sm text-accent hover:text-accent/80 transition-colors",children:"Cancel"}),!G.isComplete&&h.jsxs(p1,{children:[h.jsx(m1,{asChild:!0,children:h.jsx("button",{className:"p-1.5 text-text-muted hover:text-text-primary transition-colors rounded-lg hover:bg-surface/50",children:h.jsx(Lx,{className:"w-5 h-5"})})}),h.jsxs(g1,{align:"end",className:"w-48",children:[h.jsxs(yu,{onClick:()=>{dt(G.id)},className:"cursor-pointer",children:[h.jsx(Rp,{className:"w-4 h-4 mr-2"}),"Skip Exercise"]}),h.jsxs(yu,{onClick:()=>{wt(G.id)},className:"cursor-pointer",children:[h.jsx(Fx,{className:"w-4 h-4 mr-2"}),"Defer to End"]}),h.jsxs(yu,{onClick:()=>{W(!0)},className:"cursor-pointer",children:[h.jsx(Ex,{className:"w-4 h-4 mr-2"}),"Swap Exercise"]})]})]})]})]}),ye!==null&&G.sets.length>0?h.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-surface/50 rounded-lg border border-border-subtle",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Nu,{className:"w-4 h-4 text-text-muted"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Since last set"}),h.jsxs("p",{className:"text-lg tabular-nums",children:[Math.floor(re/60),":",(re%60).toString().padStart(2,"0")]})]})]}),h.jsx("button",{onClick:()=>{fe(null),ve(0)},className:"p-1.5 text-text-muted hover:text-text-primary transition-colors rounded-lg hover:bg-surface",children:h.jsx(wn,{className:"w-4 h-4"})})]}):(()=>{const K=n.get(G.name);return K?h.jsxs("button",{onClick:()=>{if(K.sets.length>0){const le=Math.min(...K.sets.map(Pe=>Pe.weight));k(le.toString())}},className:"w-full px-3 py-2 bg-surface/50 rounded-lg border border-border-subtle text-left hover:bg-surface/70 transition-colors",children:[h.jsxs("p",{className:"text-xs uppercase tracking-wide text-text-muted mb-1",children:["Last Session  ",$a(K.date)]}),h.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:K.sets.map((le,Pe)=>h.jsxs("span",{className:"text-sm text-text-primary",children:[Qt(le.weight),"  ",le.reps]},Pe))})]}):null})(),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Ls,{type:"number",inputMode:"decimal",placeholder:"Weight (kg)",value:_,onChange:K=>k(K.target.value),autoFocus:!0}),h.jsx(Ls,{type:"number",inputMode:"numeric",placeholder:"Reps",value:E,onChange:K=>j(K.target.value)})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ve,{variant:"primary",onClick:Oe,disabled:!_||!E||parseFloat(_)<=0||parseInt(E)<=0,className:"flex-1",children:"Add Set"}),!G.isComplete&&G.sets.length>0&&h.jsxs(Ve,{variant:"neutral",onClick:Be,disabled:G.sets.length===0,children:[h.jsx(tl,{className:"w-4 h-4 mr-2 inline"}),"Complete"]})]})]}),G.sets.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Sets"}),G.sets.map((K,le)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg border border-border-subtle",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"text-text-muted w-8",children:["#",le+1]}),h.jsxs("span",{className:"text-text-primary",children:[Qt(K.weight),"  ",K.reps," reps"]})]}),h.jsx("button",{onClick:()=>Te(K.id),className:"text-text-muted hover:text-danger transition-colors p-1",children:h.jsx(wn,{className:"w-4 h-4"})})]},K.id))]})]}),e.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-text-muted mb-4",children:"No exercises yet"}),h.jsxs(Ve,{variant:"primary",onClick:()=>R(!0),children:[h.jsx(Vn,{className:"w-4 h-4 mr-2 inline"}),"Add Exercise"]})]}):null,(ne.length>0||de.length>0)&&h.jsx(fb,{peekContent:h.jsxs("div",{className:"text-sm flex items-center gap-1",children:[ne.length>0&&h.jsxs("span",{className:"text-sm uppercase tracking-wide text-text-muted",children:[ne.length," upcoming"]}),ne.length>0&&de.length>0&&h.jsx("span",{className:"text-text-muted",children:""}),de.length>0&&h.jsxs("span",{className:`text-sm uppercase tracking-wide text-text-muted ${ce?"animate-pulse-completed":""}`,children:[de.length," COMPLETED"]})]}),children:K=>h.jsxs("div",{className:"space-y-6",children:[K&&h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex-1",children:ne.length>0&&h.jsxs("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:["Up Next (",ne.length,")"]})}),h.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-3 py-2 text-text-muted hover:text-text-primary transition-colors rounded-lg hover:bg-surface/50",title:"Add exercise",children:[h.jsx(Vn,{className:"w-5 h-5"}),h.jsx("span",{className:"text-sm",children:"Add exercise"})]})]}),ne.length>0&&h.jsx("div",{className:"space-y-2",children:ne.map((le,Pe)=>{const Ge=n.get(le.name);return h.jsxs("div",{draggable:!0,onDragStart:()=>Ue(Pe),onDragOver:It=>He(It,Pe),onDragEnd:Le,className:`flex items-center gap-3 px-4 py-4 bg-surface/30 rounded-lg border border-border-subtle hover:bg-surface/50 transition-all cursor-grab active:cursor-grabbing ${V===Pe?"opacity-50":""}`,children:[h.jsx(ad,{className:"w-5 h-5 text-text-muted flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"truncate text-base",children:le.name}),Ge&&h.jsxs("p",{className:"text-sm text-text-muted mt-0.5",children:["Last: ",Ge.sets.length," sets  ",$a(Ge.date)]})]}),h.jsx("button",{onClick:()=>dt(le.id),className:"text-text-muted hover:text-text-primary transition-colors p-2",title:"Skip",children:h.jsx(Rp,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>wt(le.id),className:"text-text-muted hover:text-text-primary transition-colors p-2",title:"Defer",children:h.jsx(Nu,{className:"w-5 h-5"})})]},le.id)})}),de.length>0&&h.jsxs("div",{children:[K&&h.jsxs("p",{className:"text-xs uppercase tracking-wide text-text-muted mb-3",children:["Completed (",de.length,")"]}),h.jsx("div",{className:"space-y-2",children:de.map(le=>h.jsxs("div",{className:"px-4 py-4 bg-surface/30 rounded-lg border border-border-subtle",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"mb-1 text-base",children:le.name}),h.jsxs("p",{className:"text-sm text-text-muted",children:[le.sets.length," sets"]})]}),h.jsx("button",{onClick:()=>kt(le.id),className:"text-text-muted hover:text-accent transition-colors p-2",title:"Edit",children:h.jsx(ju,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"space-y-1",children:le.sets.map((Pe,Ge)=>h.jsxs("div",{className:"flex items-center gap-3 text-sm px-2 py-1",children:[h.jsxs("span",{className:"text-text-muted w-6",children:["#",Ge+1]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("span",{className:"text-text-muted",children:[Qt(Pe.weight),"  ",Pe.reps," reps"]})})]},Pe.id))})]},le.id))})]})]})})]})}),h.jsx(qn,{isOpen:C,onClose:()=>{R(!1)},title:"Add Exercise",children:h.jsx(Kn,{onSelectExercise:Z,onAddNewExercise:ae,placeholder:"Search exercises...",autoFocus:!0,showDetails:!0,createButtonLabel:"Create & add"})}),G&&h.jsx($s,{isOpen:I,onClose:()=>L(!1),title:G.name,children:h.jsx("div",{className:"space-y-4",children:(()=>{if(!o||!G)return h.jsx("p",{className:"text-text-muted text-center py-6",children:"No previous sessions"});if(typeof Op>"u")return console.error("getRecentSessionsForExercise is not defined"),h.jsx("p",{className:"text-text-muted text-center py-6",children:"Error loading sessions"});try{const K=Op(G.name,o,5);return K.length===0?h.jsx("p",{className:"text-text-muted text-center py-6",children:"No previous sessions found for this exercise"}):h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Recent Sessions"}),h.jsx("div",{className:"space-y-3",children:K.map((le,Pe)=>h.jsxs("div",{className:"p-4 bg-surface rounded-lg border border-border-subtle",children:[h.jsx("p",{className:"text-sm text-text-muted mb-2",children:$a(le.date)}),h.jsx("div",{className:"space-y-1",children:le.sets.map((Ge,It)=>h.jsxs("div",{className:"text-sm text-text-primary",children:[Qt(Ge.weight),"  ",Ge.reps," reps"]},It))})]},Pe))})]})}catch(K){return console.error("Error loading recent sessions:",K),h.jsx("p",{className:"text-text-muted text-center py-6",children:"Error loading sessions"})}})()})}),G&&h.jsx(qn,{isOpen:F,onClose:()=>W(!1),title:`Swap "${G.name}"`,children:h.jsx(Kn,{onSelectExercise:K=>{st(K)},onAddNewExercise:K=>{st(K)},placeholder:"Search for replacement...",autoFocus:!0,showDetails:!0,createButtonLabel:"Swap",swapContext:(()=>{const le=Fo().find(Pe=>Pe.name===G.name);return le?{originalExercise:le}:{originalExercise:{id:G.id,name:G.name,source:"user",primaryMuscles:[],secondaryMuscles:[],equipment:[]}}})()})})]}):h.jsxs("div",{className:"h-screen flex flex-col",children:[h.jsx(Br,{title:t,onBack:a}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"text-center space-y-3 w-full max-w-sm px-5",children:[h.jsx("p",{className:"text-text-muted",children:"All exercises completed!"}),h.jsx(Ve,{variant:"primary",onClick:b,className:"w-full",children:"Finish Workout"}),h.jsxs(Ve,{variant:"neutral",onClick:()=>R(!0),className:"w-full",children:[h.jsx(Vn,{className:"w-4 h-4 mr-2 inline"}),"Add Another Exercise"]})]})}),h.jsx(qn,{isOpen:C,onClose:()=>{R(!1)},title:"Add Exercise",children:h.jsx(Kn,{onSelectExercise:Z,onAddNewExercise:ae,placeholder:"Search exercises...",autoFocus:!0,showDetails:!0,createButtonLabel:"Create & add"})})]})}function v1({exerciseName:t,sets:e,lastSession:n,initialRestTimerStart:o,onBack:a,onAddSet:l,onDeleteSet:u,onFinish:d,onRestTimerChange:p}){const[g,y]=S.useState(""),[x,w]=S.useState(""),[b,_]=S.useState(o||null),[k,E]=S.useState(0);S.useEffect(()=>{if(b===null)return;const C=setInterval(()=>{const R=Math.floor((Date.now()-b)/1e3);E(R)},1e3);return()=>clearInterval(C)},[b]),S.useEffect(()=>{p&&p(b)},[b,p]),S.useEffect(()=>{if(e.length>0){const C=e[e.length-1];y(C.weight.toString()),w(C.reps.toString())}else y(""),w("")},[e.length]);const j=()=>{const C=parseFloat(g),R=parseInt(x);!isNaN(C)&&C>=0&&R>0&&(l(C,R,k),y(C.toString()),w(R.toString()),_(Date.now()))};return h.jsxs("div",{className:"h-screen flex flex-col bg-panel",children:[h.jsx(Br,{title:t,onBack:()=>a(b)}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsx("div",{className:"max-w-2xl mx-auto px-6 py-6 space-y-6",children:h.jsxs("div",{className:"bg-surface rounded-2xl border border-border-subtle p-6 space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx("h2",{className:"text-xl font-semibold",children:t})}),b!==null&&e.length>0?h.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-surface/50 rounded-lg border border-border-subtle",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Nu,{className:"w-4 h-4 text-text-muted"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Since last set"}),h.jsxs("p",{className:"text-lg tabular-nums",children:[Math.floor(k/60),":",(k%60).toString().padStart(2,"0")]})]})]}),h.jsx("button",{onClick:()=>{_(null),E(0)},className:"p-1.5 text-text-muted hover:text-text-primary transition-colors rounded-lg hover:bg-surface",children:h.jsx(wn,{className:"w-4 h-4"})})]}):n?h.jsxs("button",{onClick:()=>{if(n.sets.length>0){const C=Math.min(...n.sets.map(R=>R.weight));y(C.toString())}},className:"w-full px-3 py-2 bg-surface/50 rounded-lg border border-border-subtle text-left hover:bg-surface/70 transition-colors",children:[h.jsxs("p",{className:"text-xs uppercase tracking-wide text-text-muted mb-1",children:["Last Session  ",$a(n.date)]}),h.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:n.sets.map((C,R)=>h.jsxs("span",{className:"text-sm text-text-primary",children:[Qt(C.weight),"  ",C.reps]},R))})]}):null,h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Ls,{type:"number",inputMode:"decimal",placeholder:"Weight (kg)",value:g,onChange:C=>y(C.target.value),autoFocus:!0}),h.jsx(Ls,{type:"number",inputMode:"numeric",placeholder:"Reps",value:x,onChange:C=>w(C.target.value)})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ve,{variant:"primary",onClick:j,disabled:!g||!x||parseFloat(g)<=0||parseInt(x)<=0,className:"flex-1",children:"Add Set"}),e.length>0&&h.jsxs(Ve,{variant:"neutral",onClick:d,disabled:e.length===0,children:[h.jsx(tl,{className:"w-4 h-4 mr-2 inline"}),"End Exercise"]})]})]}),e.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted",children:"Sets"}),e.map((C,R)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg border border-border-subtle",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"text-text-muted w-8",children:["#",R+1]}),h.jsxs("span",{className:"text-text-primary",children:[Qt(C.weight),"  ",C.reps," reps"]})]}),h.jsx("button",{onClick:()=>u(C.id),className:"p-1.5 text-text-muted hover:text-danger transition-colors rounded-lg hover:bg-surface",title:"Delete set",children:h.jsx(wn,{className:"w-4 h-4"})})]},C.id))]})]})})})]})}function w1({workout:t,isJustCompleted:e=!1,isSingleExercise:n=!1,onBack:o,onStartAgain:a,onAddAnother:l,onEditExercise:u,onViewExerciseHistory:d,onDelete:p}){const[g,y]=S.useState(!1),x=()=>{p&&(p(),y(!1))};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(Br,{title:"Summary",onBack:o,rightAction:p?h.jsx("button",{onClick:()=>y(!0),className:"p-2 rounded-lg hover:bg-surface transition-colors text-text-muted hover:text-danger","aria-label":"Delete entry",title:"Delete entry",children:h.jsx(Vo,{className:"w-5 h-5"})}):void 0}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto p-5 space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl mb-2",children:t.name}),h.jsxs("p",{className:"text-text-muted",children:[Va(t.endTime||t.startTime),"  ",t.exercises.length," exercises"]})]}),h.jsx("div",{className:"space-y-4",children:t.exercises.map(w=>{const b=w.sets.reduce((k,E)=>k+E.weight*E.reps,0),_=w.sets.reduce((k,E)=>k+E.weight,0)/w.sets.length;return h.jsxs(Gt,{gradient:!0,onClick:d?()=>d(w.name):void 0,className:d?"cursor-pointer":"",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsx("h3",{className:"flex-1",children:w.name}),u&&n&&h.jsx("button",{onClick:k=>{k.stopPropagation(),u(w.id)},className:"p-2 text-text-muted hover:text-accent transition-colors rounded-lg hover:bg-surface",title:"Edit exercise",children:h.jsx(ju,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"space-y-2 mb-4",children:w.sets.map((k,E)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg",children:[h.jsxs("span",{className:"text-text-muted",children:["Set ",E+1]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:Qt(k.weight)}),h.jsx("span",{className:"text-text-muted",children:""}),h.jsxs("span",{children:[k.reps," reps"]})]})]},k.id))}),h.jsxs("div",{className:"flex gap-4 mb-4 text-text-muted",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-xs uppercase tracking-wide",children:"Total Volume"}),h.jsx("p",{className:"text-text-primary",children:Qt(b,0)})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs uppercase tracking-wide",children:"Avg Weight"}),h.jsx("p",{className:"text-text-primary",children:Qt(_)})]})]})]},w.id)})}),h.jsxs("div",{className:"space-y-3 pb-6",children:[!e&&a&&h.jsxs(Ve,{variant:"primary",onClick:a,className:"w-full",children:[h.jsx(Wo,{className:"w-4 h-4 mr-2 inline"}),n?"Repeat exercise":"Repeat workout"]}),e&&h.jsx(Ve,{variant:"neutral",onClick:o,className:"w-full",children:"Done"})]})]})}),h.jsx($s,{isOpen:g,onClose:()=>y(!1),title:"Delete entry?",actions:h.jsxs(h.Fragment,{children:[h.jsx(Ve,{variant:"neutral",onClick:()=>y(!1),className:"flex-1",children:"Cancel"}),h.jsx(Ve,{variant:"danger",onClick:x,className:"flex-1",children:"Delete"})]}),children:h.jsx("p",{className:"text-text-muted",children:"This will permanently delete this record."})})]})}function x1({exerciseName:t,workouts:e,onBack:n,onViewWorkout:o}){const a=e.map(u=>{const d=u.exercises.find(y=>y.name===t);if(!d)return null;const p=d.sets.reduce((y,x)=>y+x.weight*x.reps,0),g=d.sets.reduce((y,x)=>y+x.weight,0)/d.sets.length;return{workoutId:u.id,workoutName:u.name,date:u.endTime||u.startTime,sets:d.sets,totalVolume:p,avgWeight:g}}).filter(u=>u!==null).sort((u,d)=>d.date-u.date),l=u=>{if(u===a.length-1)return null;const d=a[u].avgWeight,p=a[u+1].avgWeight,g=d-p;return Math.abs(g)<.5?"same":g>0?"up":"down"};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(Br,{title:t,onBack:n}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto p-5 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs(Gt,{className:"text-center",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted mb-1",children:"Sessions"}),h.jsx("p",{className:"text-2xl",children:a.length})]}),h.jsxs(Gt,{className:"text-center",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted mb-1",children:"Max Weight Logged"}),h.jsx("p",{className:"text-2xl",children:Qt(Math.max(...a.map(u=>u.avgWeight)))})]}),h.jsxs(Gt,{className:"text-center",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted mb-1",children:"Max Volume Logged"}),h.jsx("p",{className:"text-2xl",children:Qt(Math.max(...a.map(u=>u.totalVolume)),0)})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h2",{className:"text-xs uppercase tracking-wide text-text-muted px-1",children:"History"}),a.length===0?h.jsx(Gt,{className:"text-center py-8",children:h.jsx("p",{className:"text-text-muted",children:"No history for this exercise yet"})}):h.jsx("div",{className:"space-y-2",children:a.map((u,d)=>{const p=l(d);return h.jsx(Gt,{gradient:!0,onClick:o?()=>o(u.workoutId):void 0,className:o?"cursor-pointer":"",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"mb-0.5 truncate",children:u.workoutName}),h.jsx("p",{className:"text-text-muted",children:Va(u.date)})]}),p&&p!=="same"&&h.jsx("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg ${p==="up"?"bg-accent/10":"bg-surface"}`,children:p==="up"?h.jsx(c0,{className:"w-4 h-4 text-accent"}):h.jsx(a0,{className:"w-4 h-4 text-text-muted"})})]}),h.jsx("div",{className:"space-y-1.5",children:u.sets.map((g,y)=>h.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-surface rounded-lg",children:[h.jsxs("span",{className:"text-text-muted text-sm",children:["Set ",y+1]}),h.jsxs("div",{className:"text-sm flex items-center gap-2",children:[h.jsxs("span",{children:[g.weight," kg"]}),h.jsx("span",{className:"text-text-muted",children:""}),h.jsxs("span",{children:[g.reps," reps"]}),g.restDuration!==void 0&&g.restDuration>0&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-text-muted/40",children:""}),h.jsxs("span",{className:"text-text-muted/60 text-xs tabular-nums",children:[Math.floor(g.restDuration/60),":",(g.restDuration%60).toString().padStart(2,"0")," rest"]})]})]})]},g.id))}),h.jsxs("div",{className:"flex gap-4 pt-2 border-t border-border-subtle",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted mb-0.5",children:"Total Volume"}),h.jsx("p",{className:"text-text-primary",children:Qt(u.totalVolume,0)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-text-muted mb-0.5",children:"Avg Weight"}),h.jsx("p",{className:"text-text-primary",children:Qt(u.avgWeight)})]})]})]})},u.workoutId)})})]})]})})]})}function b1(t){const e=new Date,n=new Map,o=t.filter(l=>l.isComplete);o.forEach(l=>{const u=new Date(l.endTime||l.startTime),d=S1(u,e),p=Ba(d);n.has(p)||n.set(p,{bucket:d,workouts:[],isExpanded:!1}),n.get(p).workouts.push(l)}),n.forEach(l=>{l.workouts.sort((u,d)=>(d.endTime||0)-(u.endTime||0))});const a=Array.from(n.values()).sort((l,u)=>_1(u.bucket,l.bucket));return a.forEach(l=>{(l.bucket.type==="this-week"||l.bucket.type==="this-month")&&(l.isExpanded=!0)}),{buckets:a,totalCount:o.length}}function S1(t,e){const n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=new Date(n);o.setDate(o.getDate()-o.getDay());const a=Math.floor((n.getTime()-t.getTime())/(1e3*60*60*24));return a<0?{type:"this-week"}:a<=6?{type:"this-week"}:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()?{type:"this-month"}:{type:"month",year:t.getFullYear(),month:t.getMonth()}}function Ba(t){switch(t.type){case"this-week":return"this-week";case"this-month":return"this-month";case"month":return`month-${t.year}-${t.month}`;case"year":return`year-${t.year}`}}function _1(t,e){const n=o=>{const a=new Date;switch(o.type){case"this-week":case"this-month":return a;case"month":return new Date(o.year,o.month,1);case"year":return new Date(o.year,0,1)}};return n(t).getTime()-n(e).getTime()}function k1(t){const e=new Date;switch(t.type){case"this-week":return"This Week";case"this-month":return"This Month";case"month":const n=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.year===e.getFullYear()?n[t.month]:`${n[t.month]} ${t.year}`;case"year":return t.year.toString()}}function E1(t,e){const n=e.toLowerCase().trim();return t.filter(o=>o.isComplete).filter(o=>o.exercises.some(a=>a.name.toLowerCase().includes(n))).sort((o,a)=>(a.endTime||0)-(o.endTime||0))}function Oa(t){var e;return t.exercises.length===1&&t.name===((e=t.exercises[0])==null?void 0:e.name)}function C1({workouts:t,theme:e,onThemeChange:n,onUnitChange:o,initialSearchQuery:a="",initialScrollPosition:l=0,onBack:u,onViewWorkout:d,onViewExerciseHistory:p,onStartWorkout:g,onStartExercise:y,onDeleteWorkouts:x,onStateChange:w,onOpenSettings:b}){const[_,k]=S.useState(a),[E,j]=S.useState("all"),[C,R]=S.useState(!1),[I,L]=S.useState(new Set),[F,W]=S.useState(!1),[V,se]=S.useState(new Set),[ye,fe]=S.useState(!1),[re,ve]=S.useState(null),[_e,Ae]=S.useState(null),[ce,te]=S.useState(!1),P=S.useRef(null),D=S.useRef(!1),H=S.useRef(null);S.useEffect(()=>{const Z=ae=>{H.current&&!H.current.contains(ae.target)&&te(!1)};if(ce)return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[ce]),S.useEffect(()=>{P.current&&l>0&&!D.current&&(D.current=!0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{P.current&&(P.current.scrollTop=l,setTimeout(()=>{D.current=!1},100))})}))},[l]),S.useEffect(()=>{var Z;if(!D.current){const ae=((Z=P.current)==null?void 0:Z.scrollTop)||0;w(_,ae)}},[_,w]);const T=()=>{var ae;const Z=((ae=P.current)==null?void 0:ae.scrollTop)||0;w(_,Z)},z=S.useMemo(()=>{const Z=new Set;return t.filter(ae=>ae.isComplete).forEach(ae=>{const Ue=new Date(ae.endTime||ae.startTime);Z.add(Ue.getFullYear())}),Array.from(Z).sort((ae,Ue)=>Ue-ae)},[t]),ie=z.length>1;re!=null&&re.year||z[0]||new Date().getFullYear();const G=S.useMemo(()=>{const Z=new Map;return t.filter(ae=>ae.isComplete).forEach(ae=>{const Ue=new Date(ae.endTime||ae.startTime),He=Ue.getFullYear(),Le=Ue.getMonth();Z.has(He)||Z.set(He,new Set),Z.get(He).add(Le)}),Z},[t]),de=_e??z[0]??new Date().getFullYear();S.useEffect(()=>{ye&&_e===null&&Ae(z[0]||new Date().getFullYear())},[ye,z,_e]);const ke=S.useMemo(()=>{let Z=t;return E==="workouts"?Z=Z.filter(ae=>!Oa(ae)):E==="exercises"&&(Z=Z.filter(ae=>Oa(ae))),re&&(Z=Z.filter(ae=>{const Ue=new Date(ae.endTime||ae.startTime);return Ue.getFullYear()===re.year&&Ue.getMonth()===re.month})),Z},[t,E,re]),ne=S.useMemo(()=>b1(ke),[ke]);S.useEffect(()=>{const Z=new Set;ne.buckets.forEach(ae=>{ae.isExpanded&&Z.add(Ba(ae.bucket))}),se(Z)},[ne.buckets,E]);const Oe=Z=>{se(ae=>{const Ue=new Set(ae);return Ue.has(Z)?Ue.delete(Z):Ue.add(Z),Ue})};S.useMemo(()=>{const Z=_.toLowerCase(),ae=[];return ne.buckets.forEach(Ue=>{const He=Ba(Ue.bucket);V.has(He)&&Ue.workouts.forEach(K=>{(_===""||K.name.toLowerCase().includes(Z))&&ae.push(K)})}),ae},[ne.buckets,V,_]);const Te=S.useMemo(()=>_.trim()===""?[]:E1(ke,_),[ke,_]),Be=Z=>{const ae=new Set(I);ae.has(Z)?ae.delete(Z):ae.add(Z),L(ae)},dt=()=>{x(Array.from(I)),L(new Set),R(!1),W(!1)},wt=()=>{R(!1),L(new Set)},st=S.useMemo(()=>{const Z=new Set,ae=_.toLowerCase();return ke.forEach(Ue=>{(_.trim()===""||Ue.name.toLowerCase().includes(ae)||Ue.exercises.some(He=>He.name.toLowerCase().includes(ae)))&&Z.add(Ue.id)}),Z},[ke,_]),kt=S.useMemo(()=>st.size>0&&Array.from(st).every(Z=>I.has(Z)),[st,I]),ar=()=>{if(kt){const Z=new Set(I);st.forEach(ae=>Z.delete(ae)),L(Z)}else{const Z=new Set(I);st.forEach(ae=>Z.add(ae)),L(Z)}};return S.useEffect(()=>{C&&L(new Set)},[E,_,re]),h.jsxs("div",{className:"flex flex-col h-full",children:[C&&h.jsx(Br,{title:`${I.size} selected`,onBack:wt,rightAction:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ve,{size:"sm",variant:"neutral",onClick:ar,disabled:st.size===0,children:kt?"Deselect all":"Select all"}),h.jsx(Ve,{size:"sm",variant:"danger",onClick:()=>W(!0),disabled:I.size===0,children:"Delete"})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto",ref:P,children:h.jsxs("div",{className:"max-w-2xl mx-auto p-5 space-y-4",children:[!C&&h.jsxs("div",{className:"pt-4 pb-2 flex items-start justify-between",children:[h.jsx("div",{className:"flex-1",children:h.jsx("h1",{className:"text-3xl mb-2",children:"History"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>R(!0),className:"p-2 rounded-xl hover:bg-panel transition-colors text-text-muted hover:text-text-primary",title:"Select items",children:h.jsx(r0,{className:"w-5 h-5"})}),h.jsx("button",{onClick:b,className:"p-2 rounded-xl hover:bg-panel transition-colors text-text-muted hover:text-text-primary","aria-label":"Settings",title:"Settings",children:h.jsx(Jm,{className:"w-5 h-5"})})]})]}),!C&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"flex-1",children:h.jsx(Ls,{type:"search",placeholder:"Search workouts and exercises...",value:_,onChange:Z=>k(Z.target.value)})}),h.jsx("button",{onClick:()=>fe(!0),className:"px-4 py-2 rounded-lg border border-border-medium bg-surface hover:bg-surface-secondary transition-colors flex items-center gap-2",title:"Jump to date",children:h.jsx(Nx,{className:"w-4 h-4 text-text-muted"})})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>j("all"),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-colors ${E==="all"?"bg-accent text-white":"bg-surface text-text-muted hover:bg-surface-secondary"}`,children:"All"}),h.jsx("button",{onClick:()=>j("workouts"),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-colors ${E==="workouts"?"bg-accent text-white":"bg-surface text-text-muted hover:bg-surface-secondary"}`,children:"Workouts"}),h.jsx("button",{onClick:()=>j("exercises"),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-colors ${E==="exercises"?"bg-accent text-white":"bg-surface text-text-muted hover:bg-surface-secondary"}`,children:"Exercise only"})]})]}),_.trim()!==""&&Te.length>0?h.jsx("div",{className:"divide-y divide-border-subtle",children:Te.map(Z=>h.jsxs("div",{className:"flex items-center gap-4 py-4 hover:bg-panel/50 transition-colors",children:[h.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{T(),d(Z.id)},children:[h.jsx("h3",{className:"mb-1",children:Z.name}),h.jsxs("p",{className:"text-text-muted text-sm",children:[Va(Z.endTime||Z.startTime),"  ",Wa(Z.endTime||Z.startTime),"  ",Z.exercises.length," ",Z.exercises.length===1?"exercise":"exercises"]})]}),(()=>{const ae=Oa(Z);return h.jsx("button",{onClick:()=>{ae&&y?y(Z.exercises[0].name):g(Z.id)},className:"p-2 rounded-lg hover:bg-accent-muted text-accent transition-colors flex-shrink-0",title:ae?"Repeat exercise":"Repeat workout",children:h.jsx(Wo,{className:"w-5 h-5"})})})()]},Z.id))}):h.jsx("div",{children:ne.buckets.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-text-muted",children:_?"No workouts found":E==="exercises"?"No single exercises logged yet":"No workouts yet"})}):h.jsx("div",{className:"space-y-1",children:ne.buckets.map(Z=>{const ae=Ba(Z.bucket),Ue=V.has(ae),He=_.trim()===""?Z.workouts:Z.workouts.filter(Le=>Le.name.toLowerCase().includes(_.toLowerCase())||Le.exercises.some(K=>K.name.toLowerCase().includes(_.toLowerCase())));return He.length===0?null:h.jsxs("div",{"data-bucket-key":ae,className:"border-b border-border-subtle last:border-b-0",children:[h.jsx("button",{onClick:()=>Oe(ae),className:"w-full flex items-center justify-between py-3 px-1 hover:bg-panel/50 transition-colors",children:h.jsxs("div",{className:"flex items-center gap-2",children:[Ue?h.jsx(Gm,{className:"w-4 h-4 text-text-muted"}):h.jsx(Ap,{className:"w-4 h-4 text-text-muted"}),h.jsx("span",{className:"text-sm font-medium text-text-muted",children:k1(Z.bucket)}),h.jsxs("span",{className:"text-xs text-text-muted/60",children:["(",He.length,")"]})]})}),Ue&&h.jsx("div",{className:"divide-y divide-border-subtle",children:He.map(Le=>{var K;return Le.exercises.length===1&&(Le.name,(K=Le.exercises[0])==null||K.name),h.jsxs("div",{className:`flex items-center gap-4 py-4 pl-6 hover:bg-panel/50 transition-colors ${C?"cursor-pointer":""}`,onClick:()=>{C?Be(Le.id):(T(),d(Le.id))},onContextMenu:le=>{le.preventDefault(),R(!0),Be(Le.id)},children:[C&&h.jsx("div",{className:"flex-shrink-0",children:I.has(Le.id)?h.jsx("div",{className:"w-6 h-6 rounded-md bg-accent flex items-center justify-center border border-accent",children:h.jsx(tl,{className:"w-4 h-4 text-white"})}):h.jsx("div",{className:"w-6 h-6 rounded-md border-2 border-border-medium flex items-center justify-center bg-transparent"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"mb-1 truncate",children:Le.name}),h.jsxs("p",{className:"text-text-muted text-sm",children:[Va(Le.endTime||Le.startTime),"  ",Wa(Le.endTime||Le.startTime),"  ",Le.exercises.length," ",Le.exercises.length===1?"exercise":"exercises"]})]}),!C&&(()=>{const le=Oa(Le);return h.jsx("button",{onClick:Pe=>{Pe.stopPropagation(),le&&y?y(Le.exercises[0].name):g(Le.id)},className:"p-2 rounded-lg border border-border-medium hover:bg-panel text-text-muted hover:text-text-primary transition-colors flex-shrink-0",title:le?"Repeat exercise":"Repeat workout",children:h.jsx(Wo,{className:"w-5 h-5"})})})()]},Le.id)})})]},ae)})})})]})}),h.jsx($s,{isOpen:F,onClose:()=>W(!1),title:"Delete selected?",actions:h.jsxs(h.Fragment,{children:[h.jsx(Ve,{variant:"neutral",onClick:()=>W(!1),className:"flex-1",children:"Cancel"}),h.jsx(Ve,{variant:"danger",onClick:dt,className:"flex-1",children:"Delete"})]}),children:h.jsxs("p",{className:"text-text-muted",children:["This will delete ",I.size," ",I.size===1?"item":"items","."]})}),h.jsx($s,{isOpen:ye,onClose:()=>{fe(!1),Ae(null),te(!1)},title:"Jump to date",children:h.jsxs("div",{className:"space-y-4",children:[ie&&h.jsxs("div",{className:"relative flex items-center justify-center gap-2",ref:H,children:[h.jsx("button",{onClick:()=>{const Z=z.indexOf(de);Z<z.length-1&&Ae(z[Z+1])},disabled:z.indexOf(de)>=z.length-1,className:"p-1.5 rounded-lg border border-border-medium hover:bg-surface disabled:opacity-30 disabled:cursor-not-allowed transition-colors","aria-label":"Previous year",children:h.jsx(Ym,{className:"w-4 h-4"})}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>te(!ce),className:"px-4 py-1.5 rounded-lg border border-border-medium bg-surface hover:bg-surface-secondary transition-colors text-sm font-medium",children:de}),ce&&h.jsx("div",{className:"absolute top-full left-0 mt-2 bg-surface border border-border-medium rounded-lg shadow-lg max-h-48 overflow-y-auto z-50 min-w-[100px]",children:z.map(Z=>h.jsx("button",{onClick:()=>{Ae(Z),te(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-surface-secondary transition-colors ${Z===de?"bg-accent/10 text-accent font-medium":""}`,children:Z},Z))})]}),h.jsx("button",{onClick:()=>{const Z=z.indexOf(de);Z>0&&Ae(z[Z-1])},disabled:z.indexOf(de)<=0,className:"p-1.5 rounded-lg border border-border-medium hover:bg-surface disabled:opacity-30 disabled:cursor-not-allowed transition-colors","aria-label":"Next year",children:h.jsx(Ap,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((Z,ae)=>{const He=(G.get(de)||new Set).has(ae),Le=(re==null?void 0:re.year)===de&&(re==null?void 0:re.month)===ae,K=["January","February","March","April","May","June","July","August","September","October","November","December"];return h.jsx("button",{onClick:()=>{if(He){const le=`month-${de}-${ae}`;se(Pe=>{const Ge=new Set(Pe);return Ge.add(le),Ge}),ve({year:de,month:ae}),fe(!1),Ae(null),te(!1),setTimeout(()=>{const Pe=document.querySelector(`[data-bucket-key="${le}"]`);Pe&&Pe.scrollIntoView({behavior:"smooth",block:"start"})},100)}},disabled:!He,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${Le?"bg-accent text-white":He?"bg-surface text-text-muted hover:bg-surface-secondary":"bg-surface/30 text-text-muted/40 cursor-not-allowed opacity-50"}`,"aria-label":He?`${K[ae]} ${de}`:`${K[ae]} ${de} (no data)`,"aria-disabled":!He,children:Z},ae)})}),re&&h.jsx("button",{onClick:()=>{ve(null),fe(!1),Ae(null),te(!1)},className:"w-full text-sm text-text-muted hover:text-text-primary transition-colors py-2",children:"Clear filter"})]})})]})}function xm({options:t,value:e,onChange:n,ariaLabel:o}){const[a,l]=t,u=e===a.value;return h.jsxs("div",{role:"group","aria-label":o,className:"relative inline-flex p-1 bg-surface/50 rounded-lg border border-border-subtle",children:[h.jsx("div",{className:`absolute top-1 bottom-1 rounded-md bg-accent transition-all duration-200 ease-out ${u?"left-1 right-[calc(50%+0.125rem)]":"left-[calc(50%+0.125rem)] right-1"}`}),h.jsxs("button",{type:"button",onClick:()=>n(a.value),className:`relative z-10 flex items-center justify-center gap-2 rounded-md transition-colors ${a.label?"px-4 py-2 min-w-[80px]":"p-2 min-w-[44px]"} ${u?"text-white":"text-text-muted hover:text-text-primary"}`,"aria-label":o&&a.ariaLabel?`${o}, ${a.ariaLabel}`:o&&a.label?`${o}, ${a.label}${u?" selected":""}`:a.ariaLabel||a.label||void 0,"aria-pressed":u,children:[a.icon&&h.jsx("span",{className:`flex-shrink-0 flex items-center justify-center ${a.label?"w-4 h-4":"w-5 h-5"}`,children:a.icon}),a.label&&h.jsx("span",{className:"text-sm font-medium",children:a.label})]}),h.jsxs("button",{type:"button",onClick:()=>n(l.value),className:`relative z-10 flex items-center justify-center gap-2 rounded-md transition-colors ${l.label?"px-4 py-2 min-w-[80px]":"p-2 min-w-[44px]"} ${u?"text-text-muted hover:text-text-primary":"text-white"}`,"aria-label":o&&l.ariaLabel?`${o}, ${l.ariaLabel}`:o&&l.label?`${o}, ${l.label}${u?"":" selected"}`:l.ariaLabel||l.label||void 0,"aria-pressed":!u,children:[l.icon&&h.jsx("span",{className:`flex-shrink-0 flex items-center justify-center ${l.label?"w-4 h-4":"w-5 h-5"}`,children:l.icon}),l.label&&h.jsx("span",{className:"text-sm font-medium",children:l.label})]})]})}function N1({theme:t,onThemeChange:e,onUnitChange:n,onBack:o}){const[a,l]=S.useState(t),[u,d]=S.useState(Mu());return S.useEffect(()=>{l(hb()),d(Mu())},[]),h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(Br,{title:"Settings",onBack:o}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto p-5 space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between gap-4 py-2",children:[h.jsx("label",{className:"text-sm font-medium text-text-primary flex-shrink-0",children:"Units"}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx(xm,{options:[{value:"metric",label:"kg",ariaLabel:"Kilograms"},{value:"imperial",label:"lb",ariaLabel:"Pounds"}],value:u,onChange:p=>{d(p),pb(p),n&&n()},ariaLabel:"Units"})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-4 py-2",children:[h.jsx("label",{className:"text-sm font-medium text-text-primary flex-shrink-0",children:"Appearance"}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx(xm,{options:[{value:"light",label:"",icon:h.jsx(s0,{className:"w-5 h-5"}),ariaLabel:"light mode"},{value:"dark",label:"",icon:h.jsx(Hx,{className:"w-5 h-5"}),ariaLabel:"dark mode"}],value:a,onChange:p=>{l(p),Lo(p),e(p)},ariaLabel:"Appearance"})})]})]})})]})}function j1({message:t,variant:e="info",onDismiss:n,autoHide:o}){const[a,l]=S.useState(!0);if(S.useEffect(()=>{if(o){const p=setTimeout(()=>{l(!1),n==null||n()},o);return()=>clearTimeout(p)}},[o,n]),!a)return null;const u={info:"bg-accent-muted border-accent/30 text-accent",warning:"bg-surface border-border-medium text-text-muted",error:"bg-danger-muted border-danger/30 text-danger"},d=()=>{l(!1),n==null||n()};return h.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 animate-in slide-in-from-top-2 duration-300",children:h.jsxs("div",{className:`mx-auto max-w-md rounded-xl border px-4 py-3 shadow-lg backdrop-blur-sm flex items-start gap-3 ${u[e]}`,children:[h.jsx("p",{className:"flex-1",children:t}),n&&h.jsx("button",{onClick:d,className:"p-1 hover:bg-black/10 rounded-lg transition-colors","aria-label":"Dismiss",children:h.jsx(wn,{className:"w-4 h-4"})})]})})}function A1({onSelectExercise:t,onAddNewExercise:e}){return h.jsx("div",{className:"-mx-6 px-6",children:h.jsx(Kn,{onSelectExercise:t,onAddNewExercise:e,placeholder:"Search exercises...",autoFocus:!0,showDetails:!0,createButtonLabel:"Create & start"})})}function T1(t,e){const n=t==="exercise"?"exercise":"workout",o=e==="exercise"?"exercise":"workout";return{title:`${t==="exercise"?"Exercise":"Workout"} in progress`,body:`You have an active ${n} already open.`,resumeButton:`Resume ${n}`,startNewButton:`Start new ${o}`}}function R1({isOpen:t,onClose:e,inProgressSessionType:n,requestedSessionType:o,sessionName:a,onResume:l,onDiscard:u,onSaveAndContinue:d}){const p=T1(n,o);return h.jsx($s,{isOpen:t,onClose:e,title:p.title,headerAction:h.jsx("button",{onClick:e,className:"p-2 text-text-muted hover:text-text-primary transition-colors rounded-lg hover:bg-surface",children:h.jsx(wn,{className:"w-5 h-5"})}),children:h.jsxs("div",{className:"space-y-6",children:[h.jsx("p",{className:"text-text-muted text-center",children:p.body}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(Ve,{onClick:l,variant:"primary",className:"w-full",children:p.resumeButton}),d&&h.jsx(Ve,{onClick:d,variant:"neutral",className:"w-full",children:p.startNewButton})]})]})})}const Xy="xitlmkambdtpkkxzudpm",P1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhpdGxta2FtYmR0cGtreHp1ZHBtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjczNDQ4NjQsImV4cCI6MjA4MjkyMDg2NH0.wTDAeGPpfCsLFSxq_k1vxoXaDHv-wOz-uUqz1_wyt-U",O1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Id extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class I1 extends Id{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bm extends Id{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sm extends Id{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gu||(Gu={}));class M1{constructor(e,{headers:n={},customFetch:o,region:a=Gu.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=O1(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O_(this,arguments,void 0,function*(n,o={}){var a;let l,u;try{const{headers:d,method:p,body:g,signal:y,timeout:x}=o;let w={},{region:b}=o;b||(b=this.region);const _=new URL(`${this.url}/${n}`);b&&b!=="any"&&(w["x-region"]=b,_.searchParams.set("forceFunctionRegion",b));let k;g&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=g):typeof g=="string"?(w["Content-Type"]="text/plain",k=g):typeof FormData<"u"&&g instanceof FormData?k=g:(w["Content-Type"]="application/json",k=JSON.stringify(g)):k=g;let E=y;x&&(u=new AbortController,l=setTimeout(()=>u.abort(),x),y?(E=u.signal,y.addEventListener("abort",()=>u.abort())):E=u.signal);const j=yield this.fetch(_.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:k,signal:E}).catch(L=>{throw new I1(L)}),C=j.headers.get("x-relay-error");if(C&&C==="true")throw new bm(j);if(!j.ok)throw new Sm(j);let R=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),I;return R==="application/json"?I=yield j.json():R==="application/octet-stream"||R==="application/pdf"?I=yield j.blob():R==="text/event-stream"?I=j:R==="multipart/form-data"?I=yield j.formData():I=yield j.text(),{data:I,error:null,response:j}}catch(d){return{data:null,error:d,response:d instanceof Sm||d instanceof bm?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var D1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},L1=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,p=null,g=l.status,y=l.statusText;if(l.ok){var x,w;if(n.method!=="HEAD"){var b;const j=await l.text();j===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=j:d=JSON.parse(j))}const k=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),E=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&E&&E.length>1&&(p=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,g=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var _;const k=await l.text();try{u=JSON.parse(k),Array.isArray(u)&&l.status===404&&(d=[],u=null,g=200,y="OK")}catch{l.status===404&&k===""?(g=204,y="No Content"):u={message:k}}if(u&&n.isMaybeSingle&&(!(u==null||(_=u.details)===null||_===void 0)&&_.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&n.shouldThrowOnError)throw new D1(u)}return{error:u,data:d,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var u;let d="";const p=l==null?void 0:l.cause;if(p){var g,y,x,w;const _=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",k=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";d=`${(x=l==null?void 0:l.name)!==null&&x!==void 0?x:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"Error"}: ${_}`,k&&(d+=` (${k})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var b;d=(b=l==null?void 0:l.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},$1=class extends L1{select(t){let e=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:l="text"}={}){var u;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const _m=new RegExp("[,()]");var Ts=class extends $1{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&_m.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&_m.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},U1=class{constructor(t,{headers:e={},schema:n,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=o}select(t,e){const{head:n=!1,count:o}=e??{},a=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new Ts({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var o;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ts({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Ts({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const o="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Ts({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ts({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},F1=class Zy{constructor(e,{headers:n={},schema:o,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=o,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new U1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:o=!1,get:a=!1,count:l}={}){var u;let d;const p=new URL(`${this.url}/rpc/${e}`);let g;o||a?(d=o?"HEAD":"GET",Object.entries(n).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{p.searchParams.append(x,w)})):(d="POST",g=n);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new Ts({method:d,url:p,headers:y,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class z1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const B1="2.89.0",W1=`realtime-js/${B1}`,ev="1.0.0",V1="2.0.0",km=ev,Yu=1e4,H1=1e3,q1=100;var yn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yn||(yn={}));var mt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(mt||(mt={}));var yr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yr||(yr={}));var Ju;(function(t){t.websocket="websocket"})(Ju||(Ju={}));var zn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zn||(zn={}));class K1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,o){var a,l;const u=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",g=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+d.length+u.length+g.length+x.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(b),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,p.length),_.setUint8(k++,d.length),_.setUint8(k++,u.length),_.setUint8(k++,g.length),_.setUint8(k++,x.length),_.setUint8(k++,n),Array.from(p,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(d,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(u,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(g,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(x,j=>_.setUint8(k++,j.charCodeAt(0)));var E=new Uint8Array(b.byteLength+o.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(o),b.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[a,l,u,d,p]=o;return n({join_ref:a,ref:l,topic:u,event:d,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,o){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=o.decode(e.slice(p,p+a));p=p+a;const y=o.decode(e.slice(p,p+l));p=p+l;const x=o.decode(e.slice(p,p+u));p=p+u;const w=e.slice(p,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,_={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(_.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>n.includes(o)))}}class tv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Je||(Je={}));const Em=(t,e,n={})=>{var o;const a=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=G1(u,t,e,a),l),{}):{}},G1=(t,e,n,o)=>{const a=e.find(d=>d.name===t),l=a==null?void 0:a.type,u=n[t];return l&&!o.includes(l)?rv(l,u):Qu(u)},rv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return X1(e,n)}switch(t){case Je.bool:return Y1(e);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return J1(e);case Je.json:case Je.jsonb:return Q1(e);case Je.timestamp:return Z1(e);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Qu(e);default:return Qu(e)}},Qu=t=>t,Y1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},J1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},X1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,o=t[n];if(t[0]==="{"&&o==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>rv(e,d))}return t},Z1=t=>typeof t=="string"?t.replace(" ","T"):t,nv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class vu{constructor(e,n,o={},a=Yu){this.channel=e,this.event=n,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cm||(Cm={}));class zo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,a,l,u),this.pendingDiffs.forEach(p=>{this.state=zo.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(o.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zo.syncDiff(this.state,a,l,u),d())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,a){const l=this.cloneDeep(e),u=this.transformState(n),d={},p={};return this.map(l,(g,y)=>{u[g]||(p[g]=y)}),this.map(u,(g,y)=>{const x=l[g];if(x){const w=y.map(E=>E.presence_ref),b=x.map(E=>E.presence_ref),_=y.filter(E=>b.indexOf(E.presence_ref)<0),k=x.filter(E=>w.indexOf(E.presence_ref)<0);_.length>0&&(d[g]=_),k.length>0&&(p[g]=k)}else d[g]=y}),this.syncDiff(l,{joins:d,leaves:p},o,a)}static syncDiff(e,n,o,a){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(l,(d,p)=>{var g;const y=(g=e[d])!==null&&g!==void 0?g:[];if(e[d]=this.cloneDeep(p),y.length>0){const x=e[d].map(b=>b.presence_ref),w=y.filter(b=>x.indexOf(b.presence_ref)<0);e[d].unshift(...w)}o(d,y,p)}),this.map(u,(d,p)=>{let g=e[d];if(!g)return;const y=p.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),e[d]=g,a(d,g,p),g.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const a=e[o];return"metas"in a?n[o]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[o]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nm||(Nm={}));var Bo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bo||(Bo={}));var zr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zr||(zr={}));class Os{constructor(e,n={config:{}},o){var a,l;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vu(this,yr.join,this.params,this.timeout),this.rejoinTimer=new tv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new zo(this),this.broadcastEndpointURL=nv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:u,presence:d,private:p}}=this.params,g=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Bo.PRESENCE]&&this.bindings[Bo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(zr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(zr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(zr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(_=k==null?void 0:k.length)!==null&&_!==void 0?_:0,j=[];for(let C=0;C<E;C++){const R=k[C],{filter:{event:I,schema:L,table:F,filter:W}}=R,V=b&&b[C];if(V&&V.event===I&&Os.isFilterValueEqual(V.schema,L)&&Os.isFilterValueEqual(V.table,F)&&Os.isFilterValueEqual(V.filter,W))j.push(Object.assign(Object.assign({},R),{id:V.id}));else{this.unsubscribe(),this.state=mt.errored,e==null||e(zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(zr.SUBSCRIBED);return}}).receive("error",b=>{this.state=mt.errored,e==null||e(zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===mt.joined&&e===Bo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const g=await d.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var o,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,p;const g=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new vu(this,yr.leave,{},e),o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const a=new AbortController,l=setTimeout(()=>a.abort(),o),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),u}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new vu(this,e,n,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>q1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var a,l;const u=e.toLocaleLowerCase(),{close:d,error:p,leave:g,join:y}=yr;if(o&&[d,p,g,y].indexOf(u)>=0&&o!==this._joinRef())return;let w=this._onMessage(u,n,o);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var _,k,E;return((_=b.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(k=b.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(b=>b.callback(w,o)):(l=this.bindings[u])===null||l===void 0||l.filter(b=>{var _,k,E,j,C,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const I=b.id,L=(_=b.filter)===null||_===void 0?void 0:_.event;return I&&((k=n.ids)===null||k===void 0?void 0:k.includes(I))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const I=(C=(j=b==null?void 0:b.filter)===null||j===void 0?void 0:j.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return I==="*"||I===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:k,table:E,commit_timestamp:j,type:C,errors:R}=_;w=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:j,eventType:C,new:{},old:{},errors:R}),this._getPayloadRecords(_))}b.callback(w,o)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:o};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&Os.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yr.close,{},e)}_onError(e){this._on(yr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Em(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Em(e.columns,e.old_record)),n}}const wu=()=>{},Ia={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eC=[1e3,2e3,5e3,1e4],tC=1e4,rC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nC{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yu,this.transport=null,this.heartbeatIntervalMs=Ia.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wu,this.ref=0,this.reconnectTimer=null,this.vsn=km,this.logger=wu,this.conn=null,this.sendBuffer=[],this.serializer=new K1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ju.websocket}`,this.httpEndpoint=nv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=z1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case yn.connecting:return zn.Connecting;case yn.open:return zn.Open;case yn.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===o);if(a)return a;{const l=new Os(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:o,payload:a,ref:l}=e,u=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${n} ${o} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(H1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ia.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:l,ref:u}=n,d=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${o} ${a} ${d}`.trim(),l),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(a,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===yn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yn.open||this.conn.readyState===yn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${o}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([rC],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,o=!1;if(e)n=e,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:W1};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(yr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new tv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ia.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,a,l,u,d,p,g,y,x,w,b;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:Yu,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Ia.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:wu,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:km,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(_=>eC[_-1]||tC),this.vsn){case ev:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((_,k)=>k(JSON.stringify(_))),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:((_,k)=>k(JSON.parse(_)));break;case V1:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ei=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sC(t,e,n){const o=new URL(e,t);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&o.searchParams.set(a,l);return o.toString()}async function oC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function iC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:a,body:l,headers:u}){const d=sC(t.baseUrl,o,a),p=await oC(t.auth),g=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...u},body:l?JSON.stringify(l):void 0}),y=await g.text(),x=(g.headers.get("content-type")||"").includes("application/json"),w=x&&y?JSON.parse(y):y;if(!g.ok){const b=x?w:void 0,_=b==null?void 0:b.error;throw new ei((_==null?void 0:_.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:b})}return{status:g.status,headers:g.headers,data:w}}}}function Ma(t){return t.join("")}var aC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ma(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ma(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ma(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ma(t.namespace)}`}),!0}catch(e){if(e instanceof ei&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ei&&n.status===409)return;throw n}}};function ks(t){return t.join("")}var lC=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ks(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ks(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ks(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ks(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ks(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ks(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ei&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ei&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},cC=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=iC({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new aC(this.client,e),this.tableOps=new lC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},dl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function nt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var uC=class extends dl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xu=class extends dl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Md=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dC=()=>Response,Zu=t=>{if(Array.isArray(t))return t.map(n=>Zu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,o])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Zu(o)}),e},fC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ti(t){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(t)}function pC(t,e){if(ti(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(ti(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mC(t){var e=pC(t,"string");return ti(e)=="symbol"?e:e+""}function gC(t,e,n){return(e=mC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jm(Object(n),!0).forEach(function(o){gC(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const xu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},yC=async(t,e,n)=>{t instanceof await dC()&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,l=(o==null?void 0:o.statusCode)||a+"";e(new uC(xu(o),a,l))}).catch(o=>{e(new Xu(xu(o),o))}):e(new Xu(xu(t),t))},vC=(t,e,n,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?a:(fC(o)?(a.headers=je({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o)):a.body=o,e!=null&&e.duplex&&(a.duplex=e.duplex),je(je({},a),n))};async function di(t,e,n,o,a,l){return new Promise((u,d)=>{t(n,vC(e,o,a,l)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>yC(p,d,o))})}async function ri(t,e,n,o){return di(t,"GET",e,n,o)}async function gr(t,e,n,o,a){return di(t,"POST",e,o,a,n)}async function ed(t,e,n,o,a){return di(t,"PUT",e,o,a,n)}async function wC(t,e,n,o){return di(t,"HEAD",e,je(je({},n),{},{noResolveJson:!0}),o)}async function Dd(t,e,n,o,a){return di(t,"DELETE",e,o,a,n)}var xC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nt(e))return{data:null,error:e};throw e}}};let sv;sv=Symbol.toStringTag;var bC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[sv]="BlobDownloadBuilder",this.promise=null}asStream(){return new xC(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nt(e))return{data:null,error:e};throw e}}};const SC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Am={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _C=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Md(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,o){var a=this;try{let l;const u=je(je({},Am),o);let d=je(je({},a.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",a.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(p))):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,p&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(d=je(je({},d),o.headers));const g=a._removeEmptyFolders(e),y=a._getFinalPath(g),x=await(t=="PUT"?ed:gr)(a.fetch,`${a.url}/object/${y}`,l,je({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(nt(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,o){var a=this;const l=a._removeEmptyFolders(t),u=a._getFinalPath(l),d=new URL(a.url+`/object/upload/sign/${u}`);d.searchParams.set("token",e);try{let p;const g=je({upsert:Am.upsert},o),y=je(je({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",g.cacheControl)):(p=n,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:l,fullPath:(await ed(a.fetch,d.toString(),p,{headers:y})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(nt(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(t,e){var n=this;try{let o=n._getFinalPath(t);const a=je({},n.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await gr(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:a}),u=new URL(n.url+l.url),d=u.searchParams.get("token");if(!d)throw new dl("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var o=this;try{return{data:await gr(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}}async copy(t,e,n){var o=this;try{return{data:{path:(await gr(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,n){var o=this;try{let a=o._getFinalPath(t),l=await gr(o.fetch,`${o.url}/object/sign/${a}`,je({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${o.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,n){var o=this;try{const a=await gr(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:t},{headers:o.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(u=>je(je({},u),{},{signedUrl:u.signedURL?encodeURI(`${o.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=o?`?${o}`:"",l=this._getFinalPath(t),u=()=>ri(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new bC(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Zu(await ri(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await wC(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(nt(o)&&o instanceof Xu){const a=o.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:o}}throw o}}getPublicUrl(t,e){const n=this._getFinalPath(t),o=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&o.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&o.push(u);let d=o.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(t){var e=this;try{return{data:await Dd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async list(t,e,n){var o=this;try{const a=je(je(je({},SC),e),{},{prefix:t||""});return{data:await gr(o.fetch,`${o.url}/object/list/${o.bucketId}`,a,{headers:o.headers},n),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}}async listV2(t,e){var n=this;try{const o=je({},t);return{data:await gr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},e),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const ov="2.89.0",iv={"X-Client-Info":`storage-js/${ov}`};var kC=class{constructor(t,e={},n,o){this.shouldThrowOnError=!1;const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=je(je({},iv),e),this.fetch=Md(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await ri(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await ri(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await gr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async updateBucket(t,e){var n=this;try{return{data:await ed(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async emptyBucket(t){var e=this;try{return{data:await gr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Dd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},EC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},iv),e),this.fetch=Md(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await gr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const o=n.toString(),a=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return{data:await ri(e.fetch,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Dd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!hC(t))throw new dl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new cC({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(a,l){const u=a[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(a,d),error:null}}catch(p){if(o)throw p;return{data:null,error:p}}}}})}};const Ld={"X-Client-Info":`storage-js/${ov}`,"Content-Type":"application/json"};var av=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Yt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var bu=class extends av{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},CC=class extends av{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const $d=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jC=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new bu(Tm(l),o,u))}).catch(()=>{const l=o+"";e(new bu(a.statusText||`HTTP ${o} error`,o,l))});else{const l=o+"";e(new bu(a.statusText||`HTTP ${o} error`,o,l))}}else e(new CC(Tm(t),t))},AC=(t,e,n,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return o?(NC(o)?(a.headers=je({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o)):a.body=o,je(je({},a),n)):a};async function TC(t,e,n,o,a,l){return new Promise((u,d)=>{t(n,AC(e,o,a,l)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>jC(p,d,o))})}async function Jt(t,e,n,o,a){return TC(t,"POST",e,o,a,n)}var RC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},Ld),e),this.fetch=$d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Jt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Jt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}}async listIndexes(t){var e=this;try{return{data:await Jt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Jt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}}},PC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},Ld),e),this.fetch=$d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Jt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Jt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Jt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Jt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Jt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}},OC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=je(je({},Ld),e),this.fetch=$d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Jt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Jt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Jt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Jt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}},IC=class extends OC{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new MC(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},MC=class extends RC{constructor(t,e,n,o){super(t,e,o),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new DC(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},DC=class extends PC{constructor(t,e,n,o,a){super(t,e,a),this.vectorBucketName=n,this.indexName=o}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,je(je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},LC=class extends kC{constructor(t,e={},n,o){super(t,e,n,o)}from(t){return new _C(this.url,this.headers,t,this.fetch)}get vectors(){return new IC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new EC(this.url+"/iceberg",this.headers,this.fetch)}};const lv="2.89.0",Rs=30*1e3,td=3,Su=td*Rs,$C="http://localhost:9999",UC="supabase.auth.token",FC={"X-Client-Info":`gotrue-js/${lv}`},rd="X-Supabase-Api-Version",cv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BC=600*1e3;class ni extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function Se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class WC extends ni{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function VC(t){return Se(t)&&t.name==="AuthApiError"}class Bn extends ni{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Hr extends ni{constructor(e,n,o,a){super(e,o,a),this.name=n,this.status=o}}class qt extends Hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HC(t){return Se(t)&&t.name==="AuthSessionMissingError"}class Es extends Hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Da extends Hr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class La extends Hr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qC(t){return Se(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rm extends Hr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class KC extends Hr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nd extends Hr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function _u(t){return Se(t)&&t.name==="AuthRetryableFetchError"}class Pm extends Hr{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class sd extends Hr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Om=` 	
\r=`.split(""),GC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Om.length;e+=1)t[Om[e].charCodeAt(0)]=-2;for(let e=0;e<Xa.length;e+=1)t[Xa[e].charCodeAt(0)]=e;return t})();function Im(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Xa[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Xa[o]),e.queuedBits-=6}}function uv(t,e,n){const o=GC[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mm(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{QC(u,o,n)};for(let u=0;u<t.length;u+=1)uv(t.charCodeAt(u),a,l);return e.join("")}function YC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function JC(t,e){for(let n=0;n<t.length;n+=1){let o=t.charCodeAt(n);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}YC(o,e)}}function QC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ds(t){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)uv(t.charCodeAt(a),n,o);return new Uint8Array(e)}function XC(t){const e=[];return JC(t,n=>e.push(n)),new Uint8Array(e)}function Wn(t){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};return t.forEach(a=>Im(a,n,o)),Im(null,n,o),e.join("")}function ZC(t){return Math.round(Date.now()/1e3)+t}function eN(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",$n={tested:!1,writable:!1},dv=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($n.tested)return $n.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$n.tested=!0,$n.writable=!0}catch{$n.tested=!0,$n.writable=!1}return $n.writable};function tN(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((o,a)=>{e[a]=o}),e}const fv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ps=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Un=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},St=async(t,e)=>{await t.removeItem(e)};class fl{constructor(){this.promise=new fl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fl.promiseConstructor=Promise;function ku(t){const e=t.split(".");if(e.length!==3)throw new sd("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!zC.test(e[o]))throw new sd("JWT not in base64url format");return{header:JSON.parse(Mm(e[0])),payload:JSON.parse(Mm(e[1])),signature:Ds(e[2]),raw:{header:e[0],payload:e[1]}}}async function nN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sN(t,e){return new Promise((o,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){o(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function oN(t){return("0"+t.toString(16)).substr(-2)}function iN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(e),Array.from(e,oN).join("")}async function aN(t){const n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(o);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function lN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await aN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(t,e,n=!1){const o=iN();let a=o;n&&(a+="/PASSWORD_RECOVERY"),await Ps(t,`${e}-code-verifier`,a);const l=await lN(o);return[l,o===l?"plain":"s256"]}const cN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uN(t){const e=t.headers.get(rd);if(!e||!e.match(cN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ns(t){if(!hN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Eu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pN(t,e){return new Proxy(t,{get:(n,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,a)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,a)}})}function Dm(t){return JSON.parse(JSON.stringify(t))}const Fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mN=[502,503,504];async function Lm(t){var e;if(!rN(t))throw new nd(Fn(t),0);if(mN.includes(t.status))throw new nd(Fn(t),t.status);let n;try{n=await t.json()}catch(l){throw new Bn(Fn(l),l)}let o;const a=uN(t);if(a&&a.getTime()>=cv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Pm(Fn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Pm(Fn(n),t.status,n.weak_password.reasons);throw new WC(Fn(n),t.status||500,o)}const gN=(t,e,n,o)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),n))};async function Ne(t,e,n,o){var a;const l=Object.assign({},o==null?void 0:o.headers);l[rd]||(l[rd]=cv["2024-01-01"].name),o!=null&&o.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const u=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(u.redirect_to=o.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await yN(t,e,n+d,{headers:l,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function yN(t,e,n,o,a,l){const u=gN(e,o,a,l);let d;try{d=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new nd(Fn(p),0)}if(d.ok||await Lm(d),o!=null&&o.noResolveJson)return d;try{return await d.json()}catch(p){await Lm(p)}}function mr(t){var e;let n=null;xN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ZC(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:o},error:null}}function $m(t){const e=mr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vN(t){return{data:t,error:null}}function wN(t){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l}=t,u=Bs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l},p=Object.assign({},u);return{data:{properties:d,user:p},error:null}}function Um(t){return t}function xN(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cu=["global","local","others"];class bN{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=fv(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Cu[0]){if(Cu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cu.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Se(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vn})}catch(o){if(Se(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=Bs(e,["options"]),a=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:wN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vn})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,a,l,u,d,p;try{const g={nextPage:null,lastPage:0,total:0},y=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Um});if(y.error)throw y.error;const x=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);g[`${E}Page`]=k}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(Se(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Ns(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vn})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ns(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:vn})}catch(o){if(Se(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){Ns(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:vn})}catch(o){if(Se(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){Ns(e.userId);try{const{data:n,error:o}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:o}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ns(e.userId),Ns(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,a,l,u,d,p;try{const g={nextPage:null,lastPage:0,total:0},y=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Um});if(y.error)throw y.error;const x=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);g[`${E}Page`]=k}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(Se(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Se(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}}function Fm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const js={debug:!!(globalThis&&dv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class SN extends hv{}async function _N(t,e,n){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new SN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(js.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function kN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function EN(t){return parseInt(t,16)}function CN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function NN(t){var e;const{chainId:n,domain:o,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:p,resources:g,scheme:y,uri:x,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=pv(t.address),_=y?`${y}://${o}`:o,k=t.statement?`${t.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${b}

${k}`;let j=`URI: ${x}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),p&&(j+=`
Request ID: ${p}`),g){let C=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);C+=`
- ${R}`}j+=C}return`${E}
${j}`}class ut extends Error{constructor({message:e,code:n,cause:o,name:a}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=a??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Za extends ut{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function jN({error:t,options:e}){var n,o,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(mv(u)){if(l.rp.id!==u)return new ut({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function AN({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(mv(o)){if(n.rpId!==o)return new ut({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class TN{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const RN=new TN;function PN(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:o}=t,a=Bs(t,["challenge","user","excludeCredentials"]),l=Ds(e).buffer,u=Object.assign(Object.assign({},n),{id:Ds(n.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:u});if(o&&o.length>0){d.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const g=o[p];d.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Ds(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function ON(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,o=Bs(t,["challenge","allowCredentials"]),a=Ds(e).buffer,l=Object.assign(Object.assign({},o),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Ds(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function IN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function MN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,o=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wn(new Uint8Array(a.authenticatorData)),clientDataJSON:Wn(new Uint8Array(a.clientDataJSON)),signature:Wn(new Uint8Array(a.signature)),userHandle:a.userHandle?Wn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zm(){var t,e;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function DN(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Za("Browser returned unexpected credential type",e)}:{data:null,error:new Za("Empty credential response",e)}}catch(e){return{data:null,error:jN({error:e,options:t})}}}async function LN(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Za("Browser returned unexpected credential type",e)}:{data:null,error:new Za("Empty credential response",e)}}catch(e){return{data:null,error:AN({error:e,options:t})}}}const $N={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function el(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of t)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))o[l]=u;else if(n(u))o[l]=u;else if(e(u)){const d=o[l];e(d)?o[l]=el(d,u):o[l]=el(u)}else o[l]=u}return o}function FN(t,e){return el($N,t,e||{})}function zN(t,e){return el(UN,t,e||{})}class BN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:a},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const p=a??RN.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=FN(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:x}=await DN({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const g=zN(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:x}=await LN(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new ni("rpId is required for WebAuthn authentication")};try{if(!zm())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:a},{request:l});if(!u)return{data:null,error:d};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new ni("rpId is required for WebAuthn registration")};try{if(!zm())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:p,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:a},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in register",u)}}}}kN();const WN={url:$C,storageKey:UC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Bm(t,e,n){return await n()}const As={};class si{get jwks(){var e,n;return(n=(e=As[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=As[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},WN),e);if(this.storageKey=l.storageKey,this.instanceID=(n=si.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,si.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&_t()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new bN({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=fv(l.fetch),this.lock=l.lock||Bm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&_t()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=_N:this.lock=Bm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new BN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:dv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Fm(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(_t()&&(n=tN(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),_t()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),qC(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?this._returnResult({error:n}):this._returnResult({error:new Bn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,a;try{const l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:mr}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(Se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,o,a;try{let l;if("email"in e){const{email:y,password:x,options:w}=e;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await Cs(this.storage,this.storageKey)),l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:x,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:_},xform:mr})}else if("phone"in e){const{phone:y,password:x,options:w}=e;l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(o=w==null?void 0:w.data)!==null&&o!==void 0?o:{},channel:(a=w==null?void 0:w.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:mr})}else throw new Da("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await St(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:$m})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:$m})}else throw new Da("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const l=new Es;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(n){if(Se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,a,l,u,d,p,g,y,x,w;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:k,wallet:E,statement:j,options:C}=e;let R;if(_t())if(typeof E=="object")R=E;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")R=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const I=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href),L=await R.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=pv(L[0]);let W=(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!W){const se=await R.request({method:"eth_chainId"});W=EN(se)}const V={domain:I.host,address:F,statement:j,uri:I.href,version:"1",chainId:W,nonce:(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=C==null?void 0:C.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=C==null?void 0:C.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=C==null?void 0:C.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=C==null?void 0:C.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=NN(V),_=await R.request({method:"personal_sign",params:[CN(b),F]})}try{const{data:k,error:E}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:_},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:mr});if(E)throw E;if(!k||!k.session||!k.user){const j=new Es;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(Se(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var n,o,a,l,u,d,p,g,y,x,w,b;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:E,wallet:j,statement:C,options:R}=e;let I;if(_t())if(typeof j=="object")I=j;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))I=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=j}const L=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const F=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),C?{statement:C}:null));let W;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")W=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)W=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)_=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),k=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${L.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(a=(o=R==null?void 0:R.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R==null?void 0:R.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(y=R==null?void 0:R.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const F=await I.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=F}}try{const{data:E,error:j}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Wn(k)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:mr});if(j)throw j;if(!E||!E.session||!E.user){const C=new Es;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(Se(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await Un(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new KC;const{data:l,error:u}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:mr});if(await St(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new Es;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:o,token:a,access_token:l,nonce:u}=e,d=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mr}),{data:p,error:g}=d;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const y=new Es;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(Se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,a,l,u;try{if("email"in e){const{email:d,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Cs(this.storage,this.storageKey));const{error:x}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:d,options:p}=e,{data:g,error:y}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y})}throw new Da("You must provide either an email or phone number.")}catch(d){if(await St(this.storage,`${this.storageKey}-code-verifier`),Se(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,o;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:mr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(a){if(Se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,o,a,l,u;try{let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Cs(this.storage,this.storageKey));const g=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:vN});return!((l=g.data)===null||l===void 0)&&l.url&&_t()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(d){if(await St(this.storage,`${this.storageKey}-code-verifier`),Se(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new qt;const{error:a}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:a,options:l}=e,{error:u}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:o,type:a,options:l}=e,{data:u,error:d}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Da("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Su:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const u=await Un(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Eu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=pN(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vn}):await this._useSession(async n=>{var o,a,l;const{data:u,error:d}=n;if(d)throw d;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:vn})})}catch(n){if(Se(n))return HC(n)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new qt;const u=a.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await Cs(this.storage,this.storageKey));const{data:g,error:y}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:u.access_token,xform:vn});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(o){if(await St(this.storage,`${this.storageKey}-code-verifier`),Se(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qt;const n=Date.now()/1e3;let o=n,a=!0,l=null;const{payload:u}=ku(e.access_token);if(u.exp&&(o=u.exp,a=o<=n),a){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(Se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(o=u.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new qt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!_t())throw new La("No browser detected.");if(e.error||e.error_description||e.error_code)throw new La(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Rm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new La("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rm("No code detected.");const{data:C,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:d,expires_at:p,token_type:g}=e;if(!l||!d||!u||!g)throw new La("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(d);let w=y+x;p&&(w=parseInt(p));const b=w-y;b*1e3<=Rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const _=w-x;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,y);const{data:k,error:E}=await this._getUser(l);if(E)throw E;const j={provider_token:o,provider_refresh_token:a,access_token:l,expires_in:x,expires_at:w,refresh_token:u,token_type:g,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(o){if(Se(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Un(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const u=(o=a.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(VC(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=eN(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,a;try{const{data:{session:l},error:u}=n;if(u)throw u;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await Cs(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:a}=await this._useSession(async l=>{var u,d,p,g,y;const{data:x,error:w}=l;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return _t()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Se(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:u,provider:d,token:p,access_token:g,nonce:y}=e,x=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l==null?void 0:l.access_token)!==null&&o!==void 0?o:void 0,body:{provider:d,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:mr}),{data:w,error:b}=x;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Es}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(a){if(await St(this.storage,`${this.storageKey}-code-verifier`),Se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:u}=n;if(u)throw u;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await sN(async a=>(a>0&&await nN(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mr})),(a,l)=>{const u=200*Math.pow(2,a);return l&&_u(l)&&Date.now()+u-o<Rs})}catch(o){if(this._debug(n,"error",o),Se(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),_t()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Un(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Ps(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Eu()}else if(a&&!a.user&&!a.user){const u=await Un(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await St(this.storage,this.storageKey+"-user"),await Ps(this.storage,this.storageKey,a)):a.user=Eu()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Su;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${Su}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),_u(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(a.access_token);!d&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new fl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new qt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),Se(l)){const u={data:null,error:l};return _u(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,o=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await St(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Ps(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=Dm(a);await Ps(this.storage,this.storageKey,l)}else{const a=Dm(n);await Ps(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-e)/Rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Rs}ms, refresh threshold is ${td} ticks`),a<=td&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const a=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,u]=await Cs(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(d.toString())}if(o!=null&&o.queryParams){const l=new URLSearchParams(o.queryParams);a.push(l.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&p.type==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?IN(e.webauthn.credential_response):MN(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:p}))})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:PN(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:ON(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ku(o.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((n=(e=o.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new qt})})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new qt});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&_t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(o){if(Se(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new qt});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&_t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(o){if(Se(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new qt})})}catch(e){if(Se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?(await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(d=>d.kid===e);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(d=>d.kid===e),o&&this.jwks_cached_at+BC>a)return o;const{data:l,error:u}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,o=l.keys.find(d=>d.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:b,error:_}=await this.getSession();if(_||!b.session)return this._returnResult({data:null,error:_});o=b.session.access_token}const{header:a,payload:l,signature:u,raw:{header:d,payload:p}}=ku(o);n!=null&&n.allowExpired||dN(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:l,header:a,signature:u},error:null}}const y=fN(a.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,u,XC(`${d}.${p}`)))throw new sd("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(o){if(Se(o))return this._returnResult({data:null,error:o});throw o}}}si.nextInstanceID={};const VN=si,HN="2.89.0";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const qN={"X-Client-Info":`supabase-js-${Uo}/${HN}`},KN={headers:qN},GN={schema:"public"},YN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JN={};function oi(t){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(t)}function QN(t,e){if(oi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(oi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XN(t){var e=QN(t,"string");return oi(e)=="symbol"?e:e+""}function ZN(t,e,n){return(e=XN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wm(Object(n),!0).forEach(function(o){ZN(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}const ej=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tj=()=>Headers,rj=(t,e,n)=>{const o=ej(n),a=tj();return async(l,u)=>{var d;const p=(d=await e())!==null&&d!==void 0?d:t;let g=new a(u==null?void 0:u.headers);return g.has("apikey")||g.set("apikey",t),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),o(l,it(it({},u),{},{headers:g}))}};function nj(t){return t.endsWith("/")?t:t+"/"}function sj(t,e){var n,o;const{db:a,auth:l,realtime:u,global:d}=t,{db:p,auth:g,realtime:y,global:x}=e,w={db:it(it({},p),a),auth:it(it({},g),l),realtime:it(it({},y),u),storage:{},global:it(it(it({},x),d),{},{headers:it(it({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(o=d==null?void 0:d.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function oj(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ij=class extends VN{constructor(t){super(t)}},aj=class{constructor(t,e,n){var o,a;this.supabaseUrl=t,this.supabaseKey=e;const l=oj(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:GN,realtime:JN,auth:it(it({},YN),{},{storageKey:u}),global:KN},p=sj(n??{},d);if(this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=rj(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(it({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new F1(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new LC(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new M1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:o}=await t.auth.getSession();return(e=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:l,flowType:u,lock:d,debug:p,throwOnError:g},y,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ij({url:this.authUrl.href,headers:it(it({},w),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,flowType:u,lock:d,debug:p,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nC(this.realtimeUrl.href,it(it({},t),{},{params:it(it({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const lj=(t,e,n)=>new aj(t,e,n);function cj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uj=`https://${Xy}.supabase.co`,Vm=lj(uj,P1);async function dj(){try{const{data:t,error:e}=await Vm.auth.getSession();if(e)return console.error("Error getting session:",e),null;if(!t.session)return console.log("No active session found"),null;const n=t.session.expires_at,o=Math.floor(Date.now()/1e3);if(n&&n-o<60){console.log("Token expired or about to expire, refreshing session...");const{data:a,error:l}=await Vm.auth.refreshSession(t.session);return l?(console.error("Error refreshing session:",l),null):a.session?(console.log("Session refreshed successfully"),a.session.access_token):(console.log("No session after refresh"),null)}return t.session.access_token}catch(t){return console.error("Exception in getAccessToken:",t),null}}const fj=`https://${Xy}.supabase.co/functions/v1/make-server-3d6cf358`;async function hj(t,e={}){const n=await dj();if(!n)throw new Error("Not authenticated. Please sign in.");const o={"Content-Type":"application/json",Authorization:`Bearer ${n}`,...e.headers},a=await fetch(t,{...e,headers:o});if(!a.ok){const l=await a.text();console.error("API Error Response:",{status:a.status,statusText:a.statusText,url:t,errorText:l});try{const u=JSON.parse(l);throw new Error(u.error||u.message||"Request failed")}catch(u){throw u instanceof Error&&u.message!=="Request failed"?u:new Error(`Request failed: ${a.status} ${a.statusText}`)}}return a.json()}async function pj(t){try{console.log("Attempting to save workout:",t),console.log("Serialized workout:",JSON.stringify({workout:t})),await hj(`${fj}/user/workouts`,{method:"POST",body:JSON.stringify({workout:t})}),console.log("Workout saved successfully")}catch(e){throw console.error("Failed to save workout:",e),e}}function mj(){const[t,e]=S.useState(()=>f0()),[n,o]=S.useState(()=>ld()),[a,l]=S.useState({type:"home"}),[u,d]=S.useState(null),[p,g]=S.useState(!1),[y,x]=S.useState(""),[w,b]=S.useState([]),[_,k]=S.useState(()=>m0()),[E,j]=S.useState(null),[C,R]=S.useState(!1),[I,L]=S.useState(!1),[F,W]=S.useState(null),[V,se]=S.useState(!1),[ye,fe]=S.useState(0),re=()=>{fe($=>$+1)},[ve,_e]=S.useState(()=>{const $=Go();if($.appearance)return $.appearance;const Y=localStorage.getItem("workout-app-theme");return Y==="light"||Y==="dark"?Y:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});S.useEffect(()=>{const $=Go();$.appearance&&$.appearance!==ve&&_e($.appearance),se(!0)},[]);const[Ae,ce]=S.useState(!1),[te,P]=S.useState(null);S.useEffect(()=>{W0()},[]),S.useEffect(()=>{const $=document.documentElement;ve==="light"?$.classList.add("light"):$.classList.remove("light"),localStorage.setItem("workout-app-theme",ve),V&&Lo(ve)},[ve,V]),S.useEffect(()=>{p0(_)},[_]),S.useEffect(()=>{d0(t)},[t]),S.useEffect(()=>{cd(n)},[n]);const D=h0(t),H=g0(t),T=($,Y)=>{const q={id:Date.now().toString(),name:$,exerciseNames:Y,createdAt:Date.now(),updatedAt:Date.now()};Ip(q),o([...n,q]),d({message:`Saved "${$}"`,variant:"info"}),l({type:"home"})},z=($,Y,q)=>{if(_){P({type:Y,data:q}),ce(!0);return}if(D){P({type:Y,data:q}),ce(!0);return}$()},ie=()=>{ce(!1),P(null),_?qs():D&&(t.find(Y=>Y.id===D.id)?l({type:"workout-session",workoutId:D.id}):(console.error("Cannot resume workout - not found in workouts array:",D.id),d({message:"Workout not found",variant:"error"})))},G=()=>{_&&k(null),D&&qr(D.id),te&&ke(),ce(!1),P(null)},de=()=>{if(_){if(_.sets.length>0){const Y={id:Date.now().toString(),name:_.exerciseName,exercises:[{id:Date.now().toString(),name:_.exerciseName,sets:_.sets,isComplete:!0}],startTime:_.startTime||Date.now(),endTime:Date.now(),isComplete:!0};e([...t,Y]),d({message:"Previous exercise saved",variant:"info"})}else d({message:"Previous exercise discarded (0 sets)",variant:"info"});k(null),b([])}if(D){const $=t.find(Y=>Y.id===D.id);if($){const Y=$.exercises.reduce((be,$e)=>be+$e.sets.length,0),q=$.exercises.some(be=>be.isComplete);if(Y>0||q){const be=$.exercises.filter($e=>$e.sets.length>0);e(t.map($e=>$e.id===$.id?{...$e,exercises:be,isComplete:!0,endTime:Date.now()}:$e)),hn(null),d({message:"Previous workout saved",variant:"info"})}else e(t.filter(be=>be.id!==$.id)),hn(null),d({message:"Previous workout discarded (0 sets)",variant:"info"})}}te&&ke(),ce(!1),P(null)},ke=()=>{te&&(te.type==="workout"?te.data.type==="template"?ne(te.data.templateId):te.data.type==="quick"?Oe():te.data.type==="named"?Te(te.data.name):te.data.type==="history"&&dt(te.data.workoutId):te.type==="exercise"&&Be(te.data.exerciseName))},ne=$=>{const Y=n.find(oe=>oe.id===$);if(!Y)return;const q={id:Date.now().toString(),name:Y.name,exercises:Y.exerciseNames.map(oe=>({id:Date.now().toString()+Math.random(),name:oe,sets:[]})),startTime:Date.now(),isComplete:!1};e(oe=>[...oe,q]),hn(q.id),setTimeout(()=>{l({type:"workout-session",workoutId:q.id})},0)},Oe=()=>{const $={id:Date.now().toString(),name:"Quick Workout",exercises:[],startTime:Date.now(),isComplete:!1};e(Y=>[...Y,$]),hn($.id),setTimeout(()=>{l({type:"workout-session",workoutId:$.id})},0)},Te=$=>{const Y={id:Date.now().toString(),name:$,exercises:[],startTime:Date.now(),isComplete:!1};e(q=>[...q,Y]),hn(Y.id),setTimeout(()=>{l({type:"workout-session",workoutId:Y.id})},0)},Be=$=>{b([]),l({type:"exercise-session",exerciseName:$}),g(!1),x("")},dt=$=>{const Y=t.find(be=>be.id===$);if(!Y)return;const q=Y.exercises.filter(be=>be.sets.length>0).map((be,$e)=>({id:`${Date.now()}-${$e}-${Math.random()}`,name:be.name,sets:[],isComplete:!1}));if(q.length===0){console.warn("Cannot repeat workout with no logged exercises");return}const oe={id:`${Date.now()}-${Math.random()}`,name:Y.name,exercises:q,startTime:Date.now(),isComplete:!1};e(be=>[...be,oe]),hn(oe.id),setTimeout(()=>{l({type:"workout-session",workoutId:oe.id})},0)},wt=$=>{z(()=>ne($),"workout",{type:"template",templateId:$})},st=()=>{z(()=>Oe(),"workout",{type:"quick"})},kt=$=>{z(()=>Be($),"exercise",{exerciseName:$})},ar=$=>{z(()=>dt($),"workout",{type:"history",workoutId:$})},Z=$=>{try{Hn($)}catch(Y){console.log("[App] Exercise already exists or error adding:",Y)}kt($),d({message:`Selected exercise: ${$}`,variant:"info"})},ae=$=>{Hn($),kt($),d({message:`Exercise "${$}" added successfully`,variant:"info"})},Ue=($,Y)=>{e(t.map(q=>{if(q.id===$){const oe={id:Date.now().toString(),name:Y,sets:[]};return{...q,exercises:[...q.exercises,oe]}}return q})),Hn(Y)},He=($,Y,q,oe,be)=>{e(t.map($e=>$e.id===$?{...$e,exercises:$e.exercises.map(Zt=>Zt.id===Y?{...Zt,sets:[...Zt.sets,{id:Date.now().toString(),weight:q,reps:oe,timestamp:Date.now(),restDuration:be}]}:Zt)}:$e))},Le=($,Y,q)=>{e(t.map(oe=>oe.id===$?{...oe,exercises:oe.exercises.map(be=>be.id===Y?{...be,sets:be.sets.filter($e=>$e.id!==q)}:be)}:oe))},K=($,Y)=>{e(t.map(q=>q.id===$?{...q,exercises:q.exercises.map(oe=>oe.id===Y?{...oe,isComplete:!0}:oe)}:q))},le=($,Y)=>{e(t.map(q=>q.id===$?{...q,exercises:q.exercises.filter(oe=>oe.id!==Y)}:q))},Pe=($,Y)=>{e(t.map(q=>{if(q.id===$){const oe=q.exercises.findIndex(Zt=>Zt.id===Y);if(oe===-1)return q;const be=q.exercises[oe],$e=[...q.exercises];return $e.splice(oe,1),$e.push(be),{...q,exercises:$e}}return q}))},Ge=($,Y)=>{e(t.map(q=>q.id===$?{...q,exercises:Y}:q))},It=($,Y,q)=>{const oe=t.find(At=>At.id===$);if(!oe)return;const be=oe.exercises.find(At=>At.id===Y);if(!be)return;const $e=Fo(),Zt=$e.find(At=>At.name===be.name),Gs=$e.find(At=>At.name===q);Zt&&Gs&&ab(Zt.id,Gs.id,$,Y),e(t.map(At=>At.id===$?{...At,exercises:At.exercises.map(Ys=>Ys.id===Y?{id:Date.now().toString()+Math.random(),name:q,sets:[],isComplete:!1}:Ys)}:At))},fi=$=>{const Y=t.find(be=>be.id===$);if(!Y)return;if(Y.exercises.reduce((be,$e)=>be+$e.sets.length,0)===0){e(t.filter(be=>be.id!==$)),d({message:"Workout discarded",variant:"info"}),l({type:"home"});return}if(Y.exercises.some(be=>be.sets.length===0)){W($),L(!0);return}e(t.map(be=>be.id===$?{...be,isComplete:!0,endTime:Date.now()}:be)),l({type:"workout-summary",workoutId:$,isJustCompleted:!0,previousScreen:a})},Hs=$=>{const Y=t.find(oe=>oe.id===$);if(!Y)return;const q=Y.exercises.filter(oe=>oe.sets.length>0);e(t.map(oe=>oe.id===$?{...oe,exercises:q,isComplete:!0,endTime:Date.now()}:oe)),l({type:"workout-summary",workoutId:$})},qr=$=>{e(t.filter(Y=>Y.id!==$)),hn(null),d({message:"Workout discarded",variant:"info"}),l({type:"home"})},hi=()=>{D&&qr(D.id)},Sn=()=>{k(null),d({message:"Exercise session discarded",variant:"info"})},_n=()=>{if(w.length===0){d({message:"Add at least one set",variant:"warning"});return}hl()},hl=()=>{if(a.type!=="exercise-session")return;const $={id:Date.now().toString(),name:a.exerciseName,exercises:[{id:Date.now().toString(),name:a.exerciseName,sets:w,isComplete:!0}],startTime:Date.now(),endTime:Date.now(),isComplete:!0};e([...t,$]),R(!1),b([]),k(null),l({type:"workout-summary",workoutId:$.id,isJustCompleted:!0,isSingleExercise:!0})},pi=$=>{w.length>0&&a.type==="exercise-session"?k({exerciseName:a.exerciseName,sets:w,startTime:Date.now(),restTimerStart:$}):k(null),b([]),j(null),l({type:"home"})},qs=()=>{_&&(b(_.sets),l({type:"exercise-session",exerciseName:_.exerciseName}))},mi=$=>{e(t.filter(Y=>!$.includes(Y.id))),d({message:$.length===1?"Entry deleted":`Deleted ${$.length} items`,variant:"info"})},Ks=S.useCallback(($,Y)=>{l({type:"history",searchQuery:$,scrollPosition:Y})},[]);return h.jsxs("div",{className:"size-full flex flex-col bg-background",children:[h.jsxs("div",{className:`flex-1 overflow-hidden flex flex-col ${a.type==="create-template"||a.type==="view-template"||a.type==="workout-session"||a.type==="workout-summary"||a.type==="exercise-session"?"":"pb-24"}`,children:[a.type==="home"&&h.jsx(V0,{unfinishedWorkout:D,incompleteExerciseSession:_,workoutTemplates:n,theme:ve,onThemeChange:$=>{_e($),Lo($)},onUnitChange:re,onOpenSettings:()=>l({type:"settings",previousScreen:{type:"home"}}),onCreateTemplate:()=>l({type:"create-template"}),onViewTemplate:$=>l({type:"view-template",templateId:$}),onStartTemplate:wt,onQuickStart:st,onLogExercise:()=>g(!0),onResumeWorkout:()=>{D&&(t.find(Y=>Y.id===D.id)?l({type:"workout-session",workoutId:D.id}):(console.error("Cannot resume workout - not found in workouts array:",D.id),d({message:"Workout not found",variant:"error"})))},onResumeExercise:qs,onDiscardWorkout:hi,onDiscardExercise:Sn}),a.type==="create-template"&&h.jsx(ub,{onSave:T,onDiscard:()=>l({type:"home"})}),a.type==="view-template"&&(()=>{const $=n.find(q=>q.id===a.templateId);if(!$)return null;const Y=new Map;return $.exerciseNames.forEach(q=>{const oe=ru(q,t);oe&&Y.set(q,oe)}),h.jsx(db,{template:$,lastSessionData:Y,onBack:()=>l({type:"home"}),onStart:q=>{z(()=>{const oe={id:Date.now().toString(),name:$.name,exercises:q.map(be=>({id:Date.now().toString()+Math.random(),name:be,sets:[]})),startTime:Date.now(),isComplete:!1};e(be=>[...be,oe]),hn(oe.id),setTimeout(()=>{l({type:"workout-session",workoutId:oe.id})},0)},"workout",{type:"template",templateId:$.id})},onEdit:()=>{},onSave:(q,oe)=>{const be={...$,name:q.trim(),exerciseNames:oe,updatedAt:Date.now()};Ip(be),o(n.map($e=>$e.id===$.id?be:$e)),d({message:`Updated "${q}"`,variant:"info"})},onDelete:()=>{v0($.id),o(n.filter(q=>q.id!==$.id)),d({message:`Deleted "${$.name}"`,variant:"info"}),l({type:"home"})}})})(),a.type==="workout-session"&&(()=>{const $=t.find(q=>q.id===a.workoutId);if(!$)return console.error("Workout not found:",{lookingFor:a.workoutId,availableWorkouts:t.map(q=>({id:q.id,name:q.name,isComplete:q.isComplete})),workoutsLength:t.length}),h.jsx("div",{className:"flex items-center justify-center h-full p-5",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx("p",{className:"text-text-primary text-lg mb-2",children:"Workout not found"}),h.jsx("p",{className:"text-text-muted mb-6",children:"The workout may have been deleted or is no longer available."}),h.jsx(Ve,{variant:"primary",onClick:()=>{l({type:"home"}),d({message:"Returned to home",variant:"info"})},children:"Go Home"})]})});const Y=new Map;return $.exercises.forEach(q=>{const oe=ru(q.name,t);oe&&Y.set(q.name,oe)}),h.jsx(y1,{workoutName:$.name,exercises:$.exercises,lastSessionData:Y,allWorkouts:t,onBack:()=>l({type:"home"}),onAddExercise:q=>Ue($.id,q),onAddSet:(q,oe,be)=>He($.id,q,oe,be),onDeleteSet:(q,oe)=>Le($.id,q,oe),onCompleteExercise:q=>K($.id,q),onSkipExercise:q=>le($.id,q),onDeferExercise:q=>Pe($.id,q),onSwapExercise:(q,oe)=>It($.id,q,oe),onReorderExercises:q=>Ge($.id,q),onFinishWorkout:()=>fi($.id)})})(),a.type==="exercise-session"&&(()=>{const $=ru(a.exerciseName,t);return h.jsx(v1,{exerciseName:a.exerciseName,sets:w,lastSession:$,initialRestTimerStart:(_==null?void 0:_.restTimerStart)||null,onBack:Y=>pi(Y),onAddSet:(Y,q,oe)=>{b([...w,{id:Date.now().toString(),weight:Y,reps:q,timestamp:Date.now(),restDuration:oe}])},onDeleteSet:Y=>{b(w.filter(q=>q.id!==Y))},onFinish:()=>_n(),onRestTimerChange:Y=>j(Y)})})(),a.type==="workout-summary"&&(()=>{const $=t.find(Y=>Y.id===a.workoutId);return $?h.jsx(w1,{workout:$,isJustCompleted:a.isJustCompleted,isSingleExercise:a.isSingleExercise,onBack:async()=>{if(a.isJustCompleted&&!a.isSingleExercise)try{console.log("Saving workout:",$),await pj($),d({message:"Workout logged",variant:"info"})}catch(Y){console.warn("Backend save failed (workout saved locally):",Y)}a.isJustCompleted?l({type:"home"}):a.previousScreen?a.previousScreen.type==="history"?l({...a.previousScreen,restoreKey:Date.now()}):l(a.previousScreen):l({type:"home"})},onAddAnother:void 0,onEditExercise:Y=>{const q=$.exercises.find(oe=>oe.id===Y);q&&(b(q.sets),l({type:"exercise-session",exerciseName:q.name}))},onDelete:()=>{mi([$.id]),a.previousScreen&&a.previousScreen.type==="history"?l({...a.previousScreen,restoreKey:Date.now()}):l({type:"history"})},onStartAgain:()=>{var q;$.exercises.length===1&&$.name===((q=$.exercises[0])==null?void 0:q.name)?kt($.exercises[0].name):ar($.id)},onViewExerciseHistory:Y=>{l({type:"exercise-history",exerciseName:Y,previousScreen:a})}}):null})(),a.type==="exercise-history"&&h.jsx(x1,{exerciseName:a.exerciseName,workouts:H,onBack:()=>{a.previousScreen?a.previousScreen.type==="history"?l({...a.previousScreen,restoreKey:Date.now()}):l(a.previousScreen):l({type:"home"})},onViewWorkout:$=>{var oe;const Y=t.find(be=>be.id===$),q=Y&&Y.exercises.length===1&&Y.name===((oe=Y.exercises[0])==null?void 0:oe.name);l({type:"workout-summary",workoutId:$,isSingleExercise:q,previousScreen:a})}}),a.type==="settings"&&h.jsx(N1,{theme:ve,onThemeChange:$=>{_e($),Lo($)},onUnitChange:re,onBack:()=>{a.previousScreen?l(a.previousScreen):l({type:"home"})}}),a.type==="history"&&h.jsx(C1,{workouts:H,theme:ve,onThemeChange:$=>{_e($),Lo($)},onUnitChange:re,onOpenSettings:()=>l({type:"settings",previousScreen:{type:"history",searchQuery:a.searchQuery,scrollPosition:a.scrollPosition}}),initialSearchQuery:a.searchQuery,initialScrollPosition:a.scrollPosition,onBack:()=>l({type:"home"}),onViewWorkout:$=>{var oe;const Y=H.find(be=>be.id===$),q=Y&&Y.exercises.length===1&&Y.name===((oe=Y.exercises[0])==null?void 0:oe.name);l({type:"workout-summary",workoutId:$,isSingleExercise:q,previousScreen:a})},onViewExerciseHistory:$=>l({type:"exercise-history",exerciseName:$,previousScreen:a}),onStartWorkout:ar,onStartExercise:kt,onDeleteWorkouts:mi,onStateChange:Ks},`history-${a.scrollPosition||0}`)]}),!(a.type==="create-template"||a.type==="view-template"||a.type==="workout-session"||a.type==="workout-summary"||a.type==="exercise-session"||a.type==="settings")&&h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 pb-6 pt-4 px-4 z-50",children:h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"relative bg-panel/40 backdrop-blur-xl rounded-full p-1 border border-border-subtle/50 shadow-lg",children:[h.jsx("div",{className:"absolute top-1 bottom-1 left-1 w-[calc(50%-0.25rem)] bg-accent/10 backdrop-blur-sm rounded-full transition-transform duration-200 ease-out border border-accent/20",style:{transform:a.type==="history"||a.type==="workout-summary"||a.type==="exercise-history"||a.type==="settings"?"translateX(100%)":"translateX(0)"}}),h.jsxs("div",{className:"relative grid grid-cols-2",children:[h.jsxs("button",{onClick:()=>l({type:"home"}),className:`py-3 px-6 flex items-center justify-center gap-2 transition-colors rounded-full relative z-10 ${a.type==="history"||a.type==="workout-summary"||a.type==="exercise-history"||a.type==="settings"?"text-text-muted":"text-accent"}`,children:[h.jsx(id,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm font-medium",children:"Train"})]}),h.jsxs("button",{onClick:()=>l({type:"history"}),className:`py-3 px-6 flex items-center justify-center gap-2 transition-colors rounded-full relative z-10 ${a.type==="history"||a.type==="workout-summary"||a.type==="exercise-history"||a.type==="settings"?"text-accent":"text-text-muted"}`,children:[h.jsx(Wx,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm font-medium",children:"History"})]})]})]})})}),h.jsx(qn,{isOpen:p,onClose:()=>{g(!1),x("")},title:"Log Exercise",children:h.jsx(A1,{onSelectExercise:Z,onAddNewExercise:ae})}),h.jsxs($s,{isOpen:I,onClose:()=>{L(!1),W(null)},title:"Incomplete Exercises",children:[h.jsx("p",{className:"text-text-muted mb-6",children:"Some exercises don't have any sets logged. Do you want to save your entry or discard this session?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ve,{variant:"neutral",onClick:()=>{F&&qr(F),L(!1),W(null)},className:"flex-1",children:"Discard"}),h.jsx(Ve,{variant:"primary",onClick:()=>{F&&Hs(F),L(!1),W(null)},className:"flex-1",children:"Save Entry"})]})]}),Ae&&(_||D)&&te&&h.jsx(R1,{isOpen:Ae,onClose:()=>{ce(!1),P(null)},inProgressSessionType:_?"exercise":"workout",requestedSessionType:te.type,sessionName:_?_.exerciseName:(D==null?void 0:D.name)||"",onResume:ie,onDiscard:G,onSaveAndContinue:de}),u&&h.jsx(j1,{message:u.message,variant:u.variant,onDismiss:()=>d(null),autoHide:3e3})]})}vx.createRoot(document.getElementById("root")).render(h.jsx(mj,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("[Service Worker] Registration successful:",t.scope)}).catch(t=>{console.error("[Service Worker] Registration failed:",t)})});
